{"version":3,"sources":["webpack:///src/pages/operation/error/components/ErrorTable.vue","webpack:///./src/pages/operation/error/components/ErrorTable.vue?9b47","webpack:///./src/pages/operation/error/components/ErrorTable.vue","webpack:///src/components/AdminStep.vue","webpack:///./src/components/AdminStep.vue?85c0","webpack:///./src/components/AdminStep.vue","webpack:///src/pages/operation/error/components/ErrorDetail.vue","webpack:///./src/pages/operation/error/components/ErrorDetail.vue?3605","webpack:///./src/pages/operation/error/components/ErrorDetail.vue","webpack:///src/pages/operation/error/components/ErrorSubPage.vue","webpack:///./src/pages/operation/error/components/ErrorSubPage.vue?e6bd","webpack:///./src/pages/operation/error/components/ErrorSubPage.vue","webpack:///src/pages/operation/error/Page.vue","webpack:///./src/pages/operation/error/Page.vue?03bc","webpack:///./src/pages/operation/error/Page.vue"],"names":["ErrorTable","Array","tableData","list","id","components_ErrorTable","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","width","attrs","data","datas","header-cell-style","headStyle","label","prop","_v","scopedSlots","_u","key","fn","scope","directives","name","rawName","value","expression","size","nativeOn","click","$event","checkErrorDetail","row","staticRenderFns","error_components_ErrorTable","__webpack_require__","normalizeComponent","ssrContext","AdminStep","Number","String","components_AdminStep","style","stepNum","currentNum","successStatusStyle","_s","stepTime","stepIconStyle","_e","stepHandleUserInfo","stepHandleRemark","ErrorDetail","AdminStep_normalizeComponent","computed","extends_default","Object","vuex_esm","userInformation","offsetHeight","errorDetail","_this","then","res","format","bindingTime","moment","facilityResult","handleStatus","createTime","toString","error","methods","done","url","_this2","abnormalId","abnormalCode","username","logs","_this3","components_ErrorDetail","deviceDetail","facilityKind","facilityName","facilityFirm","storeName","runningTime","abnormalCount","repairedCount","_l","item","index","length","source","font-size","color","userInfo","nickname","userId","manegeName","manegeId","abnormalDescribe","height","abnormalPic","split","display","margin-right","cursor","src","alt","on","showImg","title","visible","dialogVisible","before-close","handleClose","update:visible","currentUrl","margin-top","margin-bottom","processStream","handleUserType","handleResult","handleType","type","placeholder","model","callback","$$v","disabled","addLog","error_components_ErrorDetail","ErrorDetail_normalizeComponent","ErrorSubPage","SubPage","components_ErrorSubPage","mainTitle","subTitle","routeCallback","subPageType","Page","ErrorSubPage_normalizeComponent","fetchData","errorList","isFetchingData","pageSize","pageNum","total","errorDropdownStoreList","keys_default","$route","query","val","status","input","store","currentPage4","curPageSize","params","mapPagination","error_Page","keyup","_k","keyCode","slot","margin-left","range-separator","start-placeholder","end-placeholder","value-format","time","current-page","page-sizes","pageSizes","page-size","layout","curTotal","size-change","handleSizeChange","current-change","handleCurrentChange","subPageInfo","routeQuery","Page_Component","Page_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/13.4bb4c6ef302c302ae65c.js","sourcesContent":["<template>\n  <div class=\"errorTable\">\n    <el-table :data=\"datas\" style=\"width: 100%\" :header-cell-style=\"headStyle\">\n      <el-table-column label=\"上报时间\" prop=\"createTime\">\n      </el-table-column>\n      <el-table-column label=\"设备ID\" prop=\"facilityId\">\n      </el-table-column>\n      <el-table-column label=\"设备名称\" prop=\"facilityName\">\n      </el-table-column>\n      <el-table-column label=\"所属门店\" prop=\"storeName\">\n      </el-table-column>\n       <el-table-column label=\"异常报备\" prop=\"abnormalCode\">\n      </el-table-column>\n       <el-table-column label=\"路径\" prop=\"source\" width=\"80\">\n      </el-table-column>\n      <el-table-column label=\"状态\" prop=\"handleStatus\">\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"small\" @click.native=\"checkErrorDetail(scope.row)\" v-permission=\"'5454e38b-8cab-4b3c-aa2b-975be4c82690'\">详情</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { deepCopy } from 'common/utils';\n\n// import moment from 'moment';\n\nexport default {\n  props: {\n    tableData: {\n      type: Array,\n      default: () => []\n    }\n  },\n  computed: {\n    datas() {\n      let list = deepCopy(this.tableData);\n      // console.log('异常设备', list);\n      list.forEach( (item, index) => {\n        item.createTime = moment(item.createTime).format('YYYY-MM-DD HH:mm:ss');\n        item.source = item.source == 1 ? '系统' : item.source == 2 ? '店长' : item.source == 3 ? '用户' : '';\n        item.handleStatus = item.handleStatus == 1 ? '待处理' : item.handleStatus == 2 ? '处理中' : item.handleStatus == 3 ? '已处理' : '';\n      })\n      return list;\n    }\n  },\n  data() {\n    return {\n      headStyle: {\n        // \"text-align\": 'center',\n        // color: 'red'\n      },\n    };\n  },\n  methods: {\n    handleEdit1(index, row) {\n      // console.log(index, row);\n    },\n    handleEdit2(index, row) {\n      // console.log(index, row);\n    },\n    handleEdit3(index, row) {\n      // console.log(index, row);\n    },\n    handleEdit4(index, row) {\n      // console.log(index, row);\n    },\n    checkErrorDetail(row) {\n      this.$router.push( {path: `/operation/error?errorDetail=${row.id}`});\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n.item {\n  margin-top: 10px;\n  margin-right: 40px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/operation/error/components/ErrorTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"errorTable\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.datas,\"header-cell-style\":_vm.headStyle}},[_c('el-table-column',{attrs:{\"label\":\"上报时间\",\"prop\":\"createTime\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"设备ID\",\"prop\":\"facilityId\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"设备名称\",\"prop\":\"facilityName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"所属门店\",\"prop\":\"storeName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"异常报备\",\"prop\":\"abnormalCode\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"路径\",\"prop\":\"source\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"prop\":\"handleStatus\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('5454e38b-8cab-4b3c-aa2b-975be4c82690'),expression:\"'5454e38b-8cab-4b3c-aa2b-975be4c82690'\"}],attrs:{\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.checkErrorDetail(scope.row)}}},[_vm._v(\"详情\")])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c731d84\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/operation/error/components/ErrorTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c731d84\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ErrorTable.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ErrorTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ErrorTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c731d84\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ErrorTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1c731d84\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/operation/error/components/ErrorTable.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"stepContent\" :style=\"stepNum == 1 || currentNum == 0 ? successStatusStyle : ''\">\n    <div class=\"step_time\">{{stepTime}}</div>\n    <div class=\"step_status\">\n      <div class=\"step_icon\" :style=\"stepNum == 1 || currentNum == 0 ? stepIconStyle : ''\"></div>\n      <div class=\"step_line\" v-if=\"stepNum > 1 && currentNum !== stepNum - 1\"></div>\n    </div>\n    <div class=\"step_content\">\n      <div class=\"step_userInfo\">{{stepHandleUserInfo}}</div>\n      <div class=\"step_description\">{{stepHandleRemark}}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    currentNum: {\n      type: Number,\n      default: 0\n    },\n    stepNum: {\n      type: Number,\n      default: 0\n    },\n    stepTime: {\n      type: String,\n      default: '2018-01-01'\n    },\n    stepHandleUserInfo: {\n      type: String,\n      default: '处理人'\n    },\n    stepHandleRemark: {\n      type: String,\n      default: '处理说明'\n    }\n  },\n  data() {\n    return {\n      successStatusStyle: {\n        color: '#1f52f1'\n      },\n      stepIconStyle: {\n        backgroundColor: '#1f52f1'\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n.stepContent {\n  @include flexbox;\n  @include align-items(center);\n  font-size: 12px;\n  color: gray;\n  .step_time {\n    height: 100px;\n    width: 100px;\n    box-sizing: border-box;\n    padding: {\n      right: 15px;\n    }\n  }\n  .step_content {\n    height: 100px;\n    box-sizing: border-box;\n    padding: {\n      left: 15px;\n    }\n  }\n  .step_status {\n    @include flexbox;\n    @include flex-direction(column);\n    @include align-items(center);\n    height: 100px;\n  }\n  .step_icon {\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    background-color: gray;\n  }\n  .step_line {\n    width: 2px;\n    height: 80px;\n    background-color: #666666;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AdminStep.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"stepContent\",style:(_vm.stepNum == 1 || _vm.currentNum == 0 ? _vm.successStatusStyle : '')},[_c('div',{staticClass:\"step_time\"},[_vm._v(_vm._s(_vm.stepTime))]),_vm._v(\" \"),_c('div',{staticClass:\"step_status\"},[_c('div',{staticClass:\"step_icon\",style:(_vm.stepNum == 1 || _vm.currentNum == 0 ? _vm.stepIconStyle : '')}),_vm._v(\" \"),(_vm.stepNum > 1 && _vm.currentNum !== _vm.stepNum - 1)?_c('div',{staticClass:\"step_line\"}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"step_content\"},[_c('div',{staticClass:\"step_userInfo\"},[_vm._v(_vm._s(_vm.stepHandleUserInfo))]),_vm._v(\" \"),_c('div',{staticClass:\"step_description\"},[_vm._v(_vm._s(_vm.stepHandleRemark))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-30c7e061\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AdminStep.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30c7e061\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AdminStep.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AdminStep.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AdminStep.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30c7e061\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AdminStep.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-30c7e061\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AdminStep.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"errorDetailPage\">\n    <div class=\"handleStatus\">\n      处理状态: {{handleStatus == 1 ? '待处理' : handleStatus == 2 ? '处理中' : handleStatus == 3 ? '已处理' : ''}}\n    </div>\n    <div class=\"error_device\" v-if=\"deviceDetail\">\n      <div class=\"subTitle\">\n        基本信息\n      </div>\n      <div class=\"device_detail\">\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">设备类型</div>{{deviceDetail.facilityKind == 1 ? '运动设备': deviceDetail.facilityKind == 2 ? '弱电设备' : deviceDetail.facilityKind == 3 ? '其他设备' : '未知类型的设备' }}</div>\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">设备名称</div>{{ deviceDetail.facilityName}}</div>\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">设备ID</div>{{ deviceDetail.id }}</div>\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">设备厂商</div>{{ deviceDetail.facilityFirm}}</div>\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">入库时间</div>{{deviceDetail.createTime}}</div>\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">绑定时间</div>{{deviceDetail.bindingTime ? deviceDetail.bindingTime : ''}}</div>\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">所属门店</div>{{deviceDetail.storeName}}</div>\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">已运行</div>{{deviceDetail.runningTime}}分钟</div>\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">异常报备</div>{{deviceDetail.abnormalCount}}次</div>\n        <div class=\"device_item\">\n          <div class=\"item_subTitle\">已维修</div>{{deviceDetail.repairedCount}}次</div>\n      </div>\n    </div>\n    <div class=\"error_device\" v-else>暂无设备信息及异常信息</div>\n    <div class=\"error_device\">\n      <div class=\"subTitle\">\n        上报异常信息\n      </div>\n      <div class=\"error_detail\" v-for=\"(item, index) in errorDetail\" :key=\"index\">\n        <div class=\"detail_left\">\n          <div class=\"error_header\" :style=\"errorDetail.length == 1 || index === 0 ? 'background-color: #0066FF; color: #ffffff' : ''\">{{item.source == 1 ? '系统' : item.source == 2 ? '店长' : item.source == 3 ? '用户' : ''}}</div>\n          <div class=\"left_line\" v-if=\"errorDetail.length !== 0 && index !== errorDetail.length - 1\"></div>\n        </div>\n        <div class=\"error_content\">\n          <div class=\"error_item\">\n            <div class=\"item_subTitle\">上报时间</div>{{item.createTime}}</div>\n          <div class=\"error_item\">\n            <div class=\"item_subTitle\">上报路径</div>{{item.source == 1 ? '系统' : item.source == 2 ? '店长' : item.source == 3 ? '用户' : ''}} <span style=\"font-size: 14px;color: #666666\">{{item.userInfo ? '(昵称:' + item.userInfo.nickname + ',ID:' + item.userInfo.userId + ')': item.source == 2 ? '(店长:' + item.manegeName + ',ID:' + item.manegeId + ')' : ''}}</span></div>\n          <div class=\"error_item\">\n            <div class=\"item_subTitle\">异常代码</div>{{item.abnormalCode}}</div>\n          <div class=\"error_item\">\n            <div class=\"item_subTitle\">异常描述</div>{{item.abnormalDescribe}}</div>\n          <div class=\"error_item\">\n            <div class=\"item_subTitle\" style=\"height: 100%\">上传图片</div>\n            <div class=\"pics\" style=\"display: inline-block\" v-for=\"(item, index) in item.abnormalPic.split(';')\" :key=\"index\">\n              <img :src=\"item\" alt=\"\" style=\"width: 100px; height: 100px; margin-right: 20px;cursor: pointer\" @click=\"showImg(item)\">\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n<el-dialog title=\"图片\" :visible.sync=\"dialogVisible\" :before-close=\"handleClose\">\n  <div :style=\"``\" >\n    <img :src=\"currentUrl\" alt=\"\">\n  </div>\n</el-dialog>\n\n    <div class=\"error_process\" style=\"margin-top: 20px\">\n      <div class=\"subTitle\" style=\"margin-bottom: 20px\">维修流程</div>\n      <div class=\"process_steps\" :style=\"`height: ${processStream.length*100}px`\" v-if=\"processStream && processStream.length > 0\">\n        <admin-step v-for=\"(item, index) in processStream\" :key=\"index\" :currentNum=\"index\"                     :stepNum=\"processStream.length\"\n        :stepTime=\"item.createTime\"\n        :stepHandleUserInfo=\"`${item.handleUserType == 1 ?'店长' :item.handleUserType == 2 ? '系统' : ''} : ${item.handleAgent} ID:${item.handleUserId}`\"\n        :stepHandleRemark=\"`说明: ${item.handleResult ? item.handleResult : '无'} 进度: ${item.handleType== 1 ? '跟进': item.handleType == 2 ? '处理完成' : '无'}`\">\n        </admin-step>\n      </div>\n      <div v-else>暂无处理流程</div>\n    </div>\n\n    <div class=\"errorLog\">\n      <div class=\"subTitle\" style=\"margin-bottom: 20px\">处理记录日志</div>\n      <div style=\"width: 400px; margin-bottom: 30px\">\n\n      <el-input type=\"textarea\" placeholder=\"记录日志\" v-model=\"logs\" style=\"width: 400px; row: 5\">\n      </el-input>\n      </div>\n      <el-button type=\"primary\" @click=\"addLog\" :disabled=\"processStream[0] && processStream[0].handleType == 2\">提交</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex';\n\n// import moment from 'moment';\n\nimport AdminStep from 'components/AdminStep';\n\nexport default {\n  data() {\n    return {\n      logs: '',\n      id: '',\n      deviceDetail: {},\n      errorDetail: [],\n      processStream: [],\n      input: '',\n      handleStatus: 1,\n      abnormalId: 0,\n      abnormalCode: 0,\n      dialogVisible: false,\n      currentUrl: ''\n    };\n  },\n  components: {\n    AdminStep\n  },\n  computed: {\n    ...mapState({\n      userInformation: state => state.auth.userInformation\n    }),\n    _screenHeight() {\n      return window.document.body.offsetHeight\n    }\n  },\n  watch: {\n    $route(val) {\n      this.id = val.query.errorDetail;\n    },\n    id() {\n      this.getErrorDetail({\n        id: this.id\n      }).then(res => {\n        this.deviceDetail = Object.assign({}, res.facilityResult, {\n          createTime: moment(res.facilityResult.createTime).format(\n            'YYYY-MM-DD HH:mm:ss'\n          ),\n          bindingTime: res.facilityResult.bindingTime\n            ? moment(res.facilityResult.bindingTime).format(\n                'YYYY-MM-DD HH:mm:ss'\n              )\n            : '无'\n        });\n        this.handleStatus = res.abnormalResult.handleStatus;\n        res.facilityHandleResult.list.forEach((item, index) => {\n          item.createTime = moment(item.createTime)\n            .format('YYYY-MM-DD HH:mm:ss')\n            .toString();\n        });\n        this.processStream = res.facilityHandleResult.list;\n      });\n\n      this.getErrorInfoList({ abnormalId: this.id }).then( (res) => {\n        res.forEach( (item, index) => {\n          item.createTime = this.moment(item.createTime).format('YYYY-MM-DD HH:mm:ss');\n        })\n        this.errorDetail = res;\n\n      }).catch( (error) => {\n        this.$notify.error(error);\n      })\n    }\n  },\n  created() {\n    this.id = this.$route.query.errorDetail;\n    // this.id = ids[0];\n    // this.facilityId = ids[1];\n    // console.log(this.id);\n  },\n  methods: {\n    ...mapActions(['getErrorDetail', 'getErrorInfoList','addErrorLog']),\n    handleClose(done) {\n      done();\n    },\n    showImg(url) {\n      this.currentUrl = url;\n      this.dialogVisible = true;\n    },\n    addLog() {\n      if (!this.logs) return this.$notify.error('处理日志内容不能为空');\n      this.addErrorLog({\n        facilityId: this.deviceDetail.id,\n        abnormalId: this.abnormalId,\n        abnormalCode: this.abnormalCode,\n        userId: this.userInformation.id,\n        userName: this.userInformation.username,\n        handleResult: this.logs\n      }).then( (res) => {\n        this.$notify.success('操作成功');\n        this.getErrorDetail({\n          id: this.id\n        }).then(res => {\n          this.deviceDetail = Object.assign({}, res.facilityResult, {\n            createTime: moment(res.facilityResult.createTime).format(\n              'YYYY-MM-DD HH:mm:ss'\n            ),\n            bindingTime: res.facilityResult.bindingTime\n              ? moment(res.facilityResult.bindingTime).format(\n                  'YYYY-MM-DD HH:mm:ss'\n                )\n              : '无'\n          });\n          this.handleStatus = res.abnormalResult.handleStatus;\n          res.facilityHandleResult.list.forEach((item, index) => {\n            item.createTime = moment(item.createTime)\n              .format('YYYY-MM-DD HH:mm:ss')\n              .toString();\n          });\n          this.processStream = res.facilityHandleResult.list;\n        });\n      }).catch( (message) => {\n        this.$notify.error('操作失败');\n      })\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.getErrorDetail({ id: this.id }).then(res => {\n        this.deviceDetail = Object.assign({}, res.facilityResult, {\n          createTime: moment(res.facilityResult.createTime).format(\n            'YYYY-MM-DD HH:mm:ss'\n          ),\n          bindingTime: res.facilityResult.bindingTime\n            ? moment(res.facilityResult.bindingTime).format(\n                'YYYY-MM-DD HH:mm:ss'\n              )\n            : '无'\n        });\n        this.handleStatus = res.abnormalResult.handleStatus;\n        this.abnormalId = res.abnormalResult.id;\n        this.abnormalCode = res.abnormalResult.abnormalCode;\n        // this.errorDetail = Object.assign({}, res.abnormalResult, {\n        //   createTime: moment(res.abnormalResult.createTime).format(\n        //     'YYYY-MM-DD HH:mm:ss'\n        //   )\n        // });\n        res.facilityHandleResult.list.forEach((item, index) => {\n          item.createTime = moment(item.createTime)\n            .format('YYYY-MM-DD HH:mm:ss')\n            .toString();\n        });\n        this.processStream = res.facilityHandleResult.list;\n      });\n      this.getErrorInfoList({ abnormalId: this.id }).then( (res) => {\n        res.forEach( (item, index) => {\n          item.createTime = this.moment(item.createTime).format('YYYY-MM-DD HH:mm:ss');\n        })\n        this.errorDetail = res;\n      }).catch( (error) => {\n        this.$notify.error(error);\n      })\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.errorDetailPage {\n  // background-color: #ffffff;\n  width: 100%;\n  height: 120%;\n  box-sizing: border-box;\n  // overflow-y: scroll;\n  padding: {\n    bottom: 30px;\n  }\n}\n.subTitle {\n  font-size: 22px;\n  height: 50px;\n  line-height: 50px;\n  border: {\n    bottom: 1px solid #e5e5e5;\n  }\n}\n.handleStatus {\n  padding: 20px;\n  font-weight: 600;\n  background-color: #ffffff;\n  margin: {\n    bottom: 20px;\n  }\n}\n.errorDetailTitle {\n  font-size: 30px;\n  height: 50px;\n  line-height: 50px;\n  border: {\n    bottom: 1px solid #999999;\n  }\n}\n.device_detail {\n  width: 100%;\n  @include flexbox;\n  @include flex-wrap(wrap);\n  padding: {\n    top: 20px;\n  }\n  .device_item {\n    height: 50px;\n    line-height: 50px;\n    width: 50%;\n    line-height: 50px;\n    .item_subTitle {\n      height: 100%;\n      display: inline-block;\n      width: 120px;\n      color: #666666;\n    }\n  }\n}\n.error_detail {\n  background-color: #ffffff;\n  width: 100%;\n  margin: {\n    top: 20px;\n    // bottom: 20px;\n  }\n  @include flexbox;\n  .detail_left {\n    @include flexbox;\n    @include flex-direction(column);\n    // @include justify-content(center);\n    @include align-items(center);\n    margin: {\n      right: 50px;\n    }\n    .left_line {\n      width: 1px;\n      flex: 1;\n      margin: {\n        top: 15px;\n      }\n      border: {\n        left: 1px dashed #666666;\n      }\n    }\n  }\n  .error_header {\n    text-align: center;\n    line-height: 50px;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background-color: #e5e5e5;\n  }\n  .error_item {\n    line-height: 50px;\n    .item_subTitle {\n      height: 100%;\n      display: inline-block;\n      width: 120px;\n      color: #666666;\n    }\n    .pics{\n      @include flexbox;\n    }\n  }\n}\n\n.error_device {\n  background-color: #ffffff;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 20px;\n  margin: {\n    top: 20px;\n  }\n  border: {\n    bottom: 1px solid #e5e5e5;\n  }\n  // @include flexbox;\n}\n\n.error_process {\n  background-color: #ffffff;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 20px;\n}\n\n.errorLog {\n  background-color: #ffffff;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 20px;\n  margin: {\n    top: 20px;\n    bottom: 60px;\n  }\n}\n// .processTitle {\n//   font-size: 30px;\n//   height: 50px;\n//   line-height: 50px;\n//   border: {\n//     bottom: 1px solid #999999;\n//   }\n// }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/operation/error/components/ErrorDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"errorDetailPage\"},[_c('div',{staticClass:\"handleStatus\"},[_vm._v(\"\\n      处理状态: \"+_vm._s(_vm.handleStatus == 1 ? '待处理' : _vm.handleStatus == 2 ? '处理中' : _vm.handleStatus == 3 ? '已处理' : '')+\"\\n    \")]),_vm._v(\" \"),(_vm.deviceDetail)?_c('div',{staticClass:\"error_device\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"\\n        基本信息\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"device_detail\"},[_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"设备类型\")]),_vm._v(_vm._s(_vm.deviceDetail.facilityKind == 1 ? '运动设备': _vm.deviceDetail.facilityKind == 2 ? '弱电设备' : _vm.deviceDetail.facilityKind == 3 ? '其他设备' : '未知类型的设备'))]),_vm._v(\" \"),_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"设备名称\")]),_vm._v(_vm._s(_vm.deviceDetail.facilityName))]),_vm._v(\" \"),_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"设备ID\")]),_vm._v(_vm._s(_vm.deviceDetail.id))]),_vm._v(\" \"),_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"设备厂商\")]),_vm._v(_vm._s(_vm.deviceDetail.facilityFirm))]),_vm._v(\" \"),_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"入库时间\")]),_vm._v(_vm._s(_vm.deviceDetail.createTime))]),_vm._v(\" \"),_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"绑定时间\")]),_vm._v(_vm._s(_vm.deviceDetail.bindingTime ? _vm.deviceDetail.bindingTime : ''))]),_vm._v(\" \"),_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"所属门店\")]),_vm._v(_vm._s(_vm.deviceDetail.storeName))]),_vm._v(\" \"),_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"已运行\")]),_vm._v(_vm._s(_vm.deviceDetail.runningTime)+\"分钟\")]),_vm._v(\" \"),_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"异常报备\")]),_vm._v(_vm._s(_vm.deviceDetail.abnormalCount)+\"次\")]),_vm._v(\" \"),_c('div',{staticClass:\"device_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"已维修\")]),_vm._v(_vm._s(_vm.deviceDetail.repairedCount)+\"次\")])])]):_c('div',{staticClass:\"error_device\"},[_vm._v(\"暂无设备信息及异常信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"error_device\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"\\n        上报异常信息\\n      \")]),_vm._v(\" \"),_vm._l((_vm.errorDetail),function(item,index){return _c('div',{key:index,staticClass:\"error_detail\"},[_c('div',{staticClass:\"detail_left\"},[_c('div',{staticClass:\"error_header\",style:(_vm.errorDetail.length == 1 || index === 0 ? 'background-color: #0066FF; color: #ffffff' : '')},[_vm._v(_vm._s(item.source == 1 ? '系统' : item.source == 2 ? '店长' : item.source == 3 ? '用户' : ''))]),_vm._v(\" \"),(_vm.errorDetail.length !== 0 && index !== _vm.errorDetail.length - 1)?_c('div',{staticClass:\"left_line\"}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"error_content\"},[_c('div',{staticClass:\"error_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"上报时间\")]),_vm._v(_vm._s(item.createTime))]),_vm._v(\" \"),_c('div',{staticClass:\"error_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"上报路径\")]),_vm._v(_vm._s(item.source == 1 ? '系统' : item.source == 2 ? '店长' : item.source == 3 ? '用户' : '')+\" \"),_c('span',{staticStyle:{\"font-size\":\"14px\",\"color\":\"#666666\"}},[_vm._v(_vm._s(item.userInfo ? '(昵称:' + item.userInfo.nickname + ',ID:' + item.userInfo.userId + ')': item.source == 2 ? '(店长:' + item.manegeName + ',ID:' + item.manegeId + ')' : ''))])]),_vm._v(\" \"),_c('div',{staticClass:\"error_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"异常代码\")]),_vm._v(_vm._s(item.abnormalCode))]),_vm._v(\" \"),_c('div',{staticClass:\"error_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"异常描述\")]),_vm._v(_vm._s(item.abnormalDescribe))]),_vm._v(\" \"),_c('div',{staticClass:\"error_item\"},[_c('div',{staticClass:\"item_subTitle\",staticStyle:{\"height\":\"100%\"}},[_vm._v(\"上传图片\")]),_vm._v(\" \"),_vm._l((item.abnormalPic.split(';')),function(item,index){return _c('div',{key:index,staticClass:\"pics\",staticStyle:{\"display\":\"inline-block\"}},[_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\",\"margin-right\":\"20px\",\"cursor\":\"pointer\"},attrs:{\"src\":item,\"alt\":\"\"},on:{\"click\":function($event){_vm.showImg(item)}}})])})],2)])])})],2),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"图片\",\"visible\":_vm.dialogVisible,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{style:(\"\")},[_c('img',{attrs:{\"src\":_vm.currentUrl,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"error_process\",staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"subTitle\",staticStyle:{\"margin-bottom\":\"20px\"}},[_vm._v(\"维修流程\")]),_vm._v(\" \"),(_vm.processStream && _vm.processStream.length > 0)?_c('div',{staticClass:\"process_steps\",style:((\"height: \" + (_vm.processStream.length*100) + \"px\"))},_vm._l((_vm.processStream),function(item,index){return _c('admin-step',{key:index,attrs:{\"currentNum\":index,\"stepNum\":_vm.processStream.length,\"stepTime\":item.createTime,\"stepHandleUserInfo\":((item.handleUserType == 1 ?'店长' :item.handleUserType == 2 ? '系统' : '') + \" : \" + (item.handleAgent) + \" ID:\" + (item.handleUserId)),\"stepHandleRemark\":(\"说明: \" + (item.handleResult ? item.handleResult : '无') + \" 进度: \" + (item.handleType== 1 ? '跟进': item.handleType == 2 ? '处理完成' : '无'))}})})):_c('div',[_vm._v(\"暂无处理流程\")])]),_vm._v(\" \"),_c('div',{staticClass:\"errorLog\"},[_c('div',{staticClass:\"subTitle\",staticStyle:{\"margin-bottom\":\"20px\"}},[_vm._v(\"处理记录日志\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"400px\",\"margin-bottom\":\"30px\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\",\"row\":\"5\"},attrs:{\"type\":\"textarea\",\"placeholder\":\"记录日志\"},model:{value:(_vm.logs),callback:function ($$v) {_vm.logs=$$v},expression:\"logs\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.processStream[0] && _vm.processStream[0].handleType == 2},on:{\"click\":_vm.addLog}},[_vm._v(\"提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4dd1b954\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/operation/error/components/ErrorDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4dd1b954\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ErrorDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ErrorDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ErrorDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4dd1b954\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ErrorDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4dd1b954\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/operation/error/components/ErrorDetail.vue\n// module id = null\n// module chunks = ","<template>\n  <sub-page v-if=\"subPageInfo\"\n            key=\"1\"\n            mainTitle=\"设备异常\"\n            subTitle=\"设备异常处理详情\"\n            :routeCallback=\"routeCallback\">\n    <error-detail v-if=\"subPageType === 'errorDetail'\"></error-detail>\n  </sub-page>   \n</template>\n\n<script>\nimport SubPage from 'components/SubPage';\n\nimport ErrorDetail from './ErrorDetail';\n\nexport default {\n  components: {\n    SubPage,\n    ErrorDetail\n  },\n  props: {\n    subPageInfo: {\n      type: String\n    }\n  },\n  computed: {\n    subPageType() {\n      let arr = this.subPageInfo.split('=');\n      let type = arr[0];\n      return type;\n    },\n  },\n  methods: {\n    routeCallback() {\n      this.$router.push( { path: '/error' });\n    }\n  },  \n  data() {\n    return {\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/operation/error/components/ErrorSubPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.subPageInfo)?_c('sub-page',{key:\"1\",attrs:{\"mainTitle\":\"设备异常\",\"subTitle\":\"设备异常处理详情\",\"routeCallback\":_vm.routeCallback}},[(_vm.subPageType === 'errorDetail')?_c('error-detail'):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f470538\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/operation/error/components/ErrorSubPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f470538\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ErrorSubPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ErrorSubPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ErrorSubPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f470538\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ErrorSubPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1f470538\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/operation/error/components/ErrorSubPage.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"protalPage\" v-if=\"isLoadSubPage\">\n    <div class=\"activityPage\">\n      <div class=\"title\">\n        设备异常\n      </div>\n      <div class=\"searchBar\" style=\"width: 300px; margin-top: 20px\">\n        <el-input placeholder=\"输入设备ID,回车搜索\" v-model=\"input\" @keyup.enter.native=\"fetchData\">\n          <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\n        </el-input>\n      </div>\n      <div class=\"selects\">\n        <div class=\"statusSelect\">\n          <span>门店</span>\n          <el-select v-model=\"store\" placeholder=\"请选择\">\n            <el-option v-for=\"item in storeList\" :key=\"item.id\" :label=\"item.storeName\" :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </div>\n        <div class=\"statusSelect\">\n\n        <span>状态</span>\n        <el-select v-model=\"status\" placeholder=\"请选择\" style=\"width: 100px;margin-right: 15px\">\n          <el-option v-for=\"item in statusOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n          </el-option>\n        </el-select>\n\n        <span>路径</span>\n        <el-select v-model=\"source\" placeholder=\"请选择\" style=\"width: 100px\">\n          <el-option v-for=\"item in sourceOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </div>\n        <div class=\"timeSelect\" style=\"margin-left: 15px; margin-right: 15px\">\n          <el-date-picker v-model=\"time\" type=\"datetimerange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd HH:mm:ss\">\n          </el-date-picker>\n        </div>\n\n\n\n      </div>\n      <div class=\"messageTableBox\" v-loading=\"isFetchingData\" v-permission=\"'9629f07f-25e0-486f-ac7d-838270172dfc'\">\n        <error-table :tableData=\"errorList\"></error-table>\n        <div class=\"paginationBox\">\n          <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage4\" :page-sizes=\"pageSizes\" :page-size=\"curPageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"curTotal\">\n          </el-pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n  <error-sub-page v-else :subPageInfo=\"routeQuery\"></error-sub-page>\n</template>\n\n<script>\nimport ErrorTable from './components/ErrorTable';\n\nimport ErrorSubPage from './components/ErrorSubPage';\n\nimport { mapState, mapActions } from 'vuex';\n\nimport { deepCopy } from 'common/utils';\n\nexport default {\n  name: 'error',\n  components: {\n    ErrorTable,\n    ErrorSubPage\n  },\n  data() {\n    return {\n      time: [],\n      currentPage4: 1,\n      pageSizes: [10, 20, 30, 40],\n      curPageSize: 10,\n      curTotal: 0,\n      deviceStatus: '已绑设备',\n      input: '',\n      store: 'all',\n      statusOptions: [\n        {\n          value: 'all',\n          label: '全部'\n        },\n        {\n          value: 1,\n          label: '待处理'\n        },\n        {\n          value: 2,\n          label: '处理中'\n        },\n        {\n          value: 3,\n          label: '已处理'\n        }\n      ],\n      status: 'all',\n      source: 'all',\n      sourceOptions: [\n        {\n          value: 'all',\n          label: '全部'\n        },\n        {\n          value: 1,\n          label: '系统'\n        },\n        {\n          value: 2,\n          label: '店长'\n        },\n        {\n          value: 3,\n          label: '用户'\n        }\n      ]\n    };\n  },\n  watch: {\n    store() {\n      this.fetchData();\n    },\n    status() {\n      this.fetchData();\n    },\n    time() {\n      this.fetchData();\n    },\n    source() {\n      this.fetchData();\n    }\n  },\n  computed: {\n    ...mapState({\n      errorList: state => state.error.errorList,\n      isFetchingData: state => state.error.isFetchingData,\n      pageSize: state => state.error.pageSize,\n      pageNum: state => state.error.pageNum,\n      total: state => state.error.total,\n      errorDropdownStoreList: state => state.error.errorDropdownStoreList\n    }),\n    storeList() {\n      // let list = [];\n      let list = deepCopy(this.errorDropdownStoreList);\n      list.unshift({\n        storeName: '全部门店',\n        id: 'all'\n      });\n      return list;\n    },\n    routeQuery() {\n      return (\n        Object.keys(this.$route.query)[0] +\n        '=' +\n        this.$route.query[Object.keys(this.$route.query)[0]]\n      );\n    },\n    isLoadSubPage() {\n      if (Object.keys(this.$route.query)[0]) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  },\n  methods: {\n    ...mapActions(['getErrorList', 'getErrorDropDownStoreList']),\n    handleSizeChange(val) {\n      // console.log(`每页 ${val} 条`);\n      this.curPageSize = val;\n      this.fetchData();\n    },\n    handleCurrentChange(val) {\n      // console.log(`当前页: ${val}`);\n      this.currentPage4 = val;\n      this.fetchData();\n    },\n    mapPagination() {\n      this.currentPage4 = this.pageNum;\n      this.curTotal = this.total;\n      this.curPageSize = this.pageSize;\n    },\n    computeParams() {\n      let params = {};\n      if (this.status !== 'all') {\n        params.handleStatus = this.status;\n      }\n      if (this.time.length > 0) {\n        params.beginTime = this.time[0];\n        params.endTime = this.time[1];\n      }\n      if (this.input) {\n        params.facilityId = this.input;\n      }\n      if (this.store !== 'all') {\n        params.storeId = this.store;\n      }\n      if (this.source !== 'all') {\n        params.source = this.source;\n      }\n      params.page = this.currentPage4;\n      params.size = this.curPageSize;\n      return params;\n    },\n    fetchData() {\n      this.getErrorList(this.computeParams()).then(() => {\n        this.mapPagination();\n      });\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    next( vm => {\n      vm.$nextTick( () => {\n        vm.fetchData();\n      });\n    })\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.getErrorDropDownStoreList().then(() => {\n        this.fetchData();\n      });\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.activityPage {\n  background-color: #ffffff;\n  width: 100%;\n  min-height: 100%;\n  box-sizing: border-box;\n  padding: 20px;\n  .title {\n    font-size: 30px;\n    height: 50px;\n    line-height: 50px;\n    border: {\n      bottom: 1px solid #999999;\n    }\n  }\n  .selects {\n    @include flexbox;\n    box-sizing: border-box;\n    padding: {\n      top: 20px;\n      bottom: 20px;\n    }\n  }\n  .selectTitle {\n    line-height: 40px;\n    margin: {\n      right: 10px;\n    }\n  }\n  .statusSelect {\n    margin: {\n      right: 20px;\n    }\n  }\n  .timeSelect {\n    margin: {\n      // right: 100px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/operation/error/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoadSubPage)?_c('div',{staticClass:\"protalPage\"},[_c('div',{staticClass:\"activityPage\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      设备异常\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"searchBar\",staticStyle:{\"width\":\"300px\",\"margin-top\":\"20px\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入设备ID,回车搜索\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.fetchData($event)}},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"selects\"},[_c('div',{staticClass:\"statusSelect\"},[_c('span',[_vm._v(\"门店\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.store),callback:function ($$v) {_vm.store=$$v},expression:\"store\"}},_vm._l((_vm.storeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.storeName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"statusSelect\"},[_c('span',[_vm._v(\"状态\")]),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"100px\",\"margin-right\":\"15px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})),_vm._v(\" \"),_c('span',[_vm._v(\"路径\")]),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.source),callback:function ($$v) {_vm.source=$$v},expression:\"source\"}},_vm._l((_vm.sourceOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"timeSelect\",staticStyle:{\"margin-left\":\"15px\",\"margin-right\":\"15px\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isFetchingData),expression:\"isFetchingData\"},{name:\"permission\",rawName:\"v-permission\",value:('9629f07f-25e0-486f-ac7d-838270172dfc'),expression:\"'9629f07f-25e0-486f-ac7d-838270172dfc'\"}],staticClass:\"messageTableBox\"},[_c('error-table',{attrs:{\"tableData\":_vm.errorList}}),_vm._v(\" \"),_c('div',{staticClass:\"paginationBox\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage4,\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.curPageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.curTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)])]):_c('error-sub-page',{attrs:{\"subPageInfo\":_vm.routeQuery}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-869fe34c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/operation/error/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-869fe34c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-869fe34c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-869fe34c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/operation/error/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}