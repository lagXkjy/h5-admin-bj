{"version":3,"sources":["webpack:///src/pages/order/sportOrder/components/all.vue","webpack:///./src/pages/order/sportOrder/components/all.vue?5f2f","webpack:///./src/pages/order/sportOrder/components/all.vue","webpack:///src/pages/order/sportOrder/Page.vue","webpack:///./src/pages/order/sportOrder/Page.vue?79c4","webpack:///./src/pages/order/sportOrder/Page.vue"],"names":["components_all","Array","computed","extends_default","Object","vuex_esm","userInformation","tableData","duration","payStatus","item","appealSign","overtimeStatus","exceedMinute","orderStatus","list","methods","row","id","_this","this","then","catch","sportOrder_components_all","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","data","datas","prop","label","_v","scopedSlots","_u","key","fn","scope","directives","name","rawName","value","expression","on","click","$event","checkDetail","staticRenderFns","Page","fetchData1","orderSn","all","__webpack_require__","normalizeComponent","ssrContext","mapPagination","store","activeName2","currentPage","curPageSize","params","val","pageNum","total","pageSize","Date","end","sportOrderList","storeNameList","state","userWallet","isFetchingUserWalletData","errorDropdownStoreList","_this2","getErrorDropDownStoreList","sportOrder_Page","staticClass","placeholder","model","callback","$$v","_l","storeName","margin-left","margin-right","type","align","unlink-panels","range-separator","start-placeholder","end-placeholder","picker-options","pickerOptions2","value-format","time","autofocus","nativeOn","keyup","_k","keyCode","slot","tab-click","handleClick","current-page","page-size","page-sizes","pageSizes","layout","curTotal","size-change","handleSizeChange","current-change","handleCurrentChange","Page_Component","Page_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/37.130404caffc41c0e15ca.js","sourcesContent":["  <template>\r\n  <div>\r\n    <el-table :data=\"datas\" style=\"width: 100%\">\r\n      <el-table-column prop=\"createTime\" label=\"下单时间\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"orderSn\" label=\"订单号\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"userInfo.nickname\" label=\"用户\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"storeName\" label=\"运动门店\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"duration\" label=\"预约时长\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"overtimeStatus\" label=\"摘要\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"orderStatus\" label=\"状态\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"checkDetail(scope.row)\" v-permission=\"'c1cdc723-242b-4531-9095-fae113f72665'\">查看详情</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n  <script>\r\nimport { deepCopy } from 'common/utils';\r\n\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\n// import moment from 'moment';\r\n// import { mapActions } from 'vuex';\r\nexport default {\r\n  props: {\r\n    tableData: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      userInformation: state => state.auth.userInformation\r\n    }),\r\n    datas() {\r\n      let duration = '';\r\n      let list = deepCopy(this.tableData);\r\n      list.forEach((item, index) => {\r\n        // aaa = moment(item.endTime - item.startTime).format('YYYY-MM-DD HH:mm:ss');\r\n        duration = (item.endTime - item.startTime)/60/1000 + \"分钟\";\r\n        item.duration = duration;\r\n        item.payStatus =\r\n          item.payStatus == 1\r\n            ? '待支付'\r\n            : item.payStatus == 2\r\n              ? '已支付'\r\n              : item.payStatus == 3\r\n                ? '已取消' : '';\r\n\r\n        item.appealSign =\r\n          item.appealSign == 1 ? '申诉' : item.appealSign == 2 ? '未申诉' : '';\r\n\r\n        item.overtimeStatus =\r\n          item.overtimeStatus == 1 ? '正常预约' : item.overtimeStatus == 2 && item.exceedMinute > 15 ? '超时预约' : '正常预约' \r\n        item.createTime = moment(item.createTime).format('YYYY-MM-DD HH:mm:ss');\r\n        item.motionDuration = (item.endTime - item.startTime)/60/1000+\"分钟\";\r\n        item.orderMoney = (item.orderMoney / 100).toFixed(2) + '元'\r\n        item.startTime = moment(item.startTime).format('YYYY-MM-DD HH:mm:ss');\r\n        item.endTime = moment(item.endTime).format('YYYY-MM-DD HH:mm:ss');\r\n        item.leaveStore = item.leaveStore ? moment(item.leaveStore).format('YYYY-MM-DD HH:mm:ss') : '';\r\n        item.intoStore = item.intoStore ? moment(item.intoStore).format('YYYY-MM-DD HH:mm:ss') : '';\r\n        item.exceedMinute = item.exceedMinute + '分钟';\r\n        item.exceedMoney = (item.exceedMoney / 100).toFixed(2) + '元';\r\n        item.deductionMoney = (item.deductionMoney / 100).toFixed(2) + '元';\r\n        item.payMoney = (item.payMoney / 100).toFixed(2) + '元';\r\n         item.orderStatus =\r\n          item.orderStatus == 1\r\n            ? '待使用'\r\n            : item.orderStatus == 2\r\n              ? '使用中'\r\n              : item.orderStatus == 3\r\n                ? '已完成'\r\n                : item.orderStatus == 4 ? '已取消'  : '';\r\n      });\r\n      return list;\r\n\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      centerDialogVisible: false,\r\n      currentDetail: {}\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(['getSportOrderDetail', 'cancelOrder']),\r\n    checkDetail(row) {\r\n      // console.log(row);\r\n      this.centerDialogVisible = true;\r\n      this.currentDetail = row;\r\n      this.$router.push({path: `/order/sportOrderDetail?orderDetail=${row.id}`})\r\n      this.getSportOrderDetail({\r\n        orderId: row.id\r\n      })\r\n    },\r\n    _cancelOrder() {\r\n      this.centerDialogVisible = false;\r\n      this._cancelOrder({\r\n        orderId: this.currentDetail.id,\r\n        adminId: this.userInformation.id\r\n      })\r\n        .then(() => {\r\n          this.$notify.success('取消订单成功');\r\n        })\r\n        .catch(() => {\r\n          this.$notify.error('取消订单失败');\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/order/sportOrder/components/all.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.datas}},[_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"下单时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"orderSn\",\"label\":\"订单号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userInfo.nickname\",\"label\":\"用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"storeName\",\"label\":\"运动门店\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"duration\",\"label\":\"预约时长\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"overtimeStatus\",\"label\":\"摘要\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"orderStatus\",\"label\":\"状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('c1cdc723-242b-4531-9095-fae113f72665'),expression:\"'c1cdc723-242b-4531-9095-fae113f72665'\"}],on:{\"click\":function($event){_vm.checkDetail(scope.row)}}},[_vm._v(\"查看详情\")])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-10a4d894\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/sportOrder/components/all.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-10a4d894\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./all.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./all.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./all.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10a4d894\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./all.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-10a4d894\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/sportOrder/components/all.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"protalPage\">\n    <div class=\"wraper\">\n      <div class=\"title\">运动订单</div>\n      <div class=\"sportOrderTop\">\n        <!-- 门店下拉列表 -->\n        <div>\n          <el-select v-model=\"store\" placeholder=\"请选择\">\n            <el-option v-for=\"item in storeList\" :key=\"item.id\" :label=\"item.storeName\" :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </div>\n        <!-- 选择时间和日期 -->\n        <div style=\"margin-left: 20px; margin-right: 20px\">\n          <el-date-picker v-model=\"time\" type=\"daterange\" align=\"right\" unlink-panels range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" :picker-options=\"pickerOptions2\" value-format=\"yyyy-MM-dd\">\n          </el-date-picker>\n        </div>\n        <!-- 搜索框 -->\n        <div class=\"searchBar\">\n          <el-input placeholder=\"请输入完整订单号\" v-model=\"orderSn\" @keyup.enter.native=\"fetchData1\" :autofocus=\"true\">\n            <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\n          </el-input>\n        </div>\n      </div>\n      <!-- 表格部分 -->\n      <div class=\"sportOrderBottom\" v-permission=\"'626c9a54-2bd5-4129-9acf-1d9227caae00'\">\n        <div style=\"width: 100%\" v-loading=\"isFetchingUserWalletData\">\n          <el-tabs v-model=\"activeName2\" type=\"card\" @tab-click=\"handleClick\">\n            <el-tab-pane label=\"全部\" name=\"-1\">\n              <all :tableData=\"sportOrderList\"></all>\n            </el-tab-pane>\n            <el-tab-pane label=\"待使用\" name=\"1\">\n              <all :tableData=\"sportOrderList\"></all>\n            </el-tab-pane>\n            <el-tab-pane label=\"使用中\" name=\"2\">\n              <all :tableData=\"sportOrderList\"></all>\n            </el-tab-pane>\n            <el-tab-pane label=\"已完成\" name=\"3\">\n              <all :tableData=\"sportOrderList\"></all>\n            </el-tab-pane>\n            <el-tab-pane label=\"已取消\" name=\"4\">\n              <all :tableData=\"sportOrderList\"></all>\n            </el-tab-pane>\n          </el-tabs>\n        </div>\n\n        <!-- 分页 -->\n        <div class=\"paging\"  v-permission=\"'626c9a54-2bd5-4129-9acf-1d9227caae00'\">\n          <el-pagination :current-page=\"currentPage\"\n                         @size-change=\"handleSizeChange\"\n                         @current-change=\"handleCurrentChange\"\n                         :page-size=\"curPageSize\"\n                         :page-sizes=\"pageSizes\"\n                         layout=\"total, sizes, prev, pager, next, jumper\"\n                         :total=\"curTotal\">\n          </el-pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n//\nimport all from './components/all';\n\nimport { deepCopy } from 'common/utils';\n\nimport { mapState, mapActions } from 'vuex';\n\n// import moment from 'moment';\n\n// const today = moment().format('YYYY-MM-DD');\n// 1：待下场，2：使用中，3：已完成，4：已取消\nexport default {\n  watch: {\n    time() {\n      this.fetchData1();\n    },\n    store() {\n      this.fetchData1();\n    },\n    $route(val) {\n      if (val.query.orderSn) {\n        this.orderSn = val.query.orderSn;\n      }\n    },\n    orderSn() {\n      this.fetchData1();\n    }\n  },\n  components: {\n    all,\n  },\n  methods: {\n    ...mapActions([\n      'getSportOrderList',\n      'getErrorDropDownStoreList'\n    ]),\n    handleClick(tab, event) {\n      //console.log(tab, event);\n      this.fetchData1();\n    },\n    fetchData1() {\n      this.getSportOrderList(this.createParams()).then(() => {\n        this.mapPagination();\n      });\n    },\n    createParams() {\n      let params = {};\n      if (this.orderSn) {\n        params.orderSn = this.orderSn;\n      }\n      if (this.time.length > 0) {\n        params.beginTime = this.time[0] + ' 00:00:00';\n        params.endTime = this.time[1] + ' 23:59:59';\n      }\n      if (this.store !== 'all') {\n        params.storeId = this.store;\n      }\n      if (this.activeName2 !== '-1') {\n        params.orderStatus = this.activeName2;\n      }\n      params.page = this.currentPage;\n      params.size = this.curPageSize;\n      // console.log(params);\n      return params;\n    },\n    handleSizeChange(val) {\n      // console.log(`每页 ${val} 条`);\n      this.curPageSize = val;\n      this.fetchData1();\n    },\n    handleCurrentChange(val) {\n      // console.log(`当前页: ${val}`);\n      this.currentPage = val;\n      this.fetchData1();\n    },\n    mapPagination() {\n      this.currentPage = this.pageNum;\n      this.curTotal = this.total;\n      this.curPageSize = this.pageSize;\n    }\n  },\n  data() {\n    return {\n      activeName2: '-1',\n      pickerOptions2: {\n        shortcuts: [\n          {\n            text: '本周',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', [start, end]);\n            }\n          },\n          {\n            text: '本月',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit('pick', [start, end]);\n            }\n          },\n          {\n            text: '本年',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 365);\n              picker.$emit('pick', [start, end]);\n            }\n          }\n        ]\n      },\n      time: [],\n      value1: '',\n      orderSn: '',\n      currentPage: 1,\n      pageSizes: [10, 20, 30, 40],\n      curPageSize: 10,\n      curTotal: 0,\n      store: 'all'\n    };\n  },\n  beforeRouteEnter(to, from, next) {\n      next( vm => {\n        vm.$nextTick( () => {\n          vm.fetchData1();\n        });\n      })\n    },\n  computed: {\n    ...mapState({\n      sportOrderList: state => state.sportOrder.sportOrderList,\n      storeNameList: state => state.sportOrder.storeNameList,\n      pageSize: state => state.sportOrder.pageSize,\n      pageNum: state => state.sportOrder.pageNum,\n      total: state => state.sportOrder.total,\n      isFetchingUserWalletData: state =>\n        state.userWallet.isFetchingUserWalletData,\n      errorDropdownStoreList: state => state.sportOrder.errorDropdownStoreList\n    }),\n    storeList() {\n      // let list = [];\n      let list = deepCopy(this.errorDropdownStoreList);\n      list.unshift({\n        storeName: '全部门店',\n        id: 'all'\n      });\n      return list;\n    },\n  },\n  mounted() {\n    this.getErrorDropDownStoreList();\n    this.$nextTick(() => {\n      this.fetchData1();\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.wraper {\n  background: white;\n  width: 100%;\n  min-height: 100%;\n  box-sizing: border-box;\n  padding: 20px;\n  .sportOrderTop {\n    @include flexbox;\n    @include align-items(center);\n    margin: 20px 0;\n  }\n  .title {\n    width: 100%;\n    font-size: 30px;\n    height: 50px;\n    line-height: 50px;\n    border: {\n      bottom: 1px solid #999999;\n    }\n  }\n  .sportOrderBottom {\n    width: 100%;\n    .paging {\n      margin-top: 30px;\n      width: 100%;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/order/sportOrder/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"protalPage\"},[_c('div',{staticClass:\"wraper\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"运动订单\")]),_vm._v(\" \"),_c('div',{staticClass:\"sportOrderTop\"},[_c('div',[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.store),callback:function ($$v) {_vm.store=$$v},expression:\"store\"}},_vm._l((_vm.storeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.storeName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"20px\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions2,\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"searchBar\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入完整订单号\",\"autofocus\":true},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.fetchData1($event)}},model:{value:(_vm.orderSn),callback:function ($$v) {_vm.orderSn=$$v},expression:\"orderSn\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('626c9a54-2bd5-4129-9acf-1d9227caae00'),expression:\"'626c9a54-2bd5-4129-9acf-1d9227caae00'\"}],staticClass:\"sportOrderBottom\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isFetchingUserWalletData),expression:\"isFetchingUserWalletData\"}],staticStyle:{\"width\":\"100%\"}},[_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName2),callback:function ($$v) {_vm.activeName2=$$v},expression:\"activeName2\"}},[_c('el-tab-pane',{attrs:{\"label\":\"全部\",\"name\":\"-1\"}},[_c('all',{attrs:{\"tableData\":_vm.sportOrderList}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"待使用\",\"name\":\"1\"}},[_c('all',{attrs:{\"tableData\":_vm.sportOrderList}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"使用中\",\"name\":\"2\"}},[_c('all',{attrs:{\"tableData\":_vm.sportOrderList}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"已完成\",\"name\":\"3\"}},[_c('all',{attrs:{\"tableData\":_vm.sportOrderList}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"已取消\",\"name\":\"4\"}},[_c('all',{attrs:{\"tableData\":_vm.sportOrderList}})],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('626c9a54-2bd5-4129-9acf-1d9227caae00'),expression:\"'626c9a54-2bd5-4129-9acf-1d9227caae00'\"}],staticClass:\"paging\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.curPageSize,\"page-sizes\":_vm.pageSizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.curTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8d6c1eb4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/sportOrder/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8d6c1eb4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8d6c1eb4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8d6c1eb4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/sportOrder/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}