{"version":3,"sources":["webpack:///./src/api/training/disease.js","webpack:///src/pages/training/planConfig/disease/Page.vue","webpack:///./src/pages/training/planConfig/disease/Page.vue?2f34","webpack:///./src/pages/training/planConfig/disease/Page.vue"],"names":["updateDisease","params","axiosClient","post","Page","SubTitle","_this","this","levelId","strengthLv","facilityType","name","id","_this2","dialog_facility","diseaseName","then","res","fetchDisease","catch","_this3","facilityName","list","_this4","done","_this5","dialog_level","fetchConfig","_this6","_this7","confValue","_this8","mainParts","minorParts","data","_this9","_this10","fetchLevel","fetchSportFacility_a","fetchSportFacility_b","disease_Page","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","trainingLevel","directives","rawName","value","expression","on","click","level_setting","attrs","title","type","createDisease","visible","levelVisible","width","center","update:visible","$event","model","callback","$$v","_l","item","index","key","label","slot","confirmConfig","isCreate","dialogVisible","before-close","handleClose","staticStyle","placeholder","maxlength","border","parts","confirmUpdate","diseases","prop","scopedSlots","_u","fn","scope","plain","editDisease","row","remove","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/47.e38070745767fc177a3e.js","sourcesContent":["import { axiosClient } from 'common/axiosClient';\n\n// 获取伤痛病史列表\nexport function getDiseaseList(params) {\n  return axiosClient.post('admin/Plan/planMedicalHisList', params);\n}\n\n// 更新伤痛病史( 新增/ 修改)\nexport function updateDisease(params) {\n  return axiosClient.post('admin/Plan/planMedicalHisSave', params);\n}\n\n// 删除伤痛病史\nexport function removeDisease(params) {\n  return axiosClient.post('admin/Plan/planMedicalHisDelete', params);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/training/disease.js","<template>\n  <div class=\"diseaseConfig\">\n    <div class=\"disease_to_level\">\n      病痛对应设备的训练难度:{{trainingLevel}}\n      <a class=\"hyperlink\" @click=\"level_setting\" v-permission=\"'430d0bc4-3ee0-455c-9778-3492d3ac0a71'\">设置</a>\n    </div>\n\n    <div class=\"diseaseList_header\">\n      <sub-title title=\"病痛列表\"></sub-title>\n      <el-button type=\"primary\" @click=\"createDisease\" v-permission=\"'b8fb5ecd-0c10-40d8-9e4e-23e71afd85a1'\">新增</el-button>\n    </div>\n    \n    <el-dialog title=\"设置\" :visible.sync=\"levelVisible\" width=\"50%\" center>\n      <div class=\"dialog_item\">\n        <div class=\"dialog_subtitle\">病痛对应设备的训练难度(单选)</div>\n        <el-radio-group v-model=\"dialog_level\">\n          <el-radio :label=\"item.id\" v-for=\"(item, index) in levels\" :key=\"index\">{{item.strengthLv}}</el-radio>\n        </el-radio-group>\n      </div>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"levelVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirmConfig\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <el-dialog :title=\"isCreate ? '新增': '编辑'\" :visible.sync=\"dialogVisible\" width=\"50%\" center :before-close=\"handleClose\"> \n      <div class=\"dialog_item\">\n        <div class=\"dialog_subtitle\">病痛名称</div>\n        <el-input placeholder=\"病痛名称(6字以内)\" v-model=\"diseaseName\" style=\"width: 250px\" maxlength=\"6\"></el-input>\n      </div>\n      <div class=\"dialog_item\">\n        <div class=\"dialog_subtitle\">对应设备</div>\n        <div class=\"facilitiesBox\">\n          <div class=\"facility_a\">无氧运动设备</div>\n          <div class=\"facility_checkbox\">\n            <el-checkbox-group v-model=\"dialog_facility\">\n              <el-checkbox v-for=\"item in facilityes_a\" :label=\"item.facilityType\" :key=\"item.id\" border>{{item.facilityName}}</el-checkbox>\n            </el-checkbox-group>\n          </div>\n          <div class=\"facility_b\">有氧运动设备</div>\n          <div class=\"facility_checkbox\">\n            <el-checkbox-group v-model=\"dialog_facility\">\n              <el-checkbox v-for=\"item in facilityes_b\" :label=\"item.facilityType\" :key=\"item.id\" border>{{item.facilityName}}\n                <span>(主:{{item.parts.mainParts}};辅:{{item.parts.minorParts}})</span>\n              </el-checkbox>\n            </el-checkbox-group>\n          </div>\n        </div>\n      </div>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirmUpdate\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <div class=\"diseaseTable\" v-permission=\"'53d8095a-2c8d-4b4f-8b2b-54ea3494f6f8'\">\n      <el-table :data=\"diseases\" style=\"width: 100%\">\n        <el-table-column label=\"序号\" prop=\"id\">\n        </el-table-column>\n        <el-table-column label=\"疾病\" prop=\"name\">\n        </el-table-column>\n        <el-table-column label=\"对应器械\" prop=\"facilities\">\n        </el-table-column>\n        <el-table-column label=\"操作\" prop=\"time\" width=\"300\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" plain @click=\"editDisease(scope.row)\" v-permission=\"'9fb6e43c-3f57-4a72-89df-4553c1d6ac4a'\">编辑</el-button>\n            <el-button type=\"danger\" plain @click=\"remove(scope.row)\" v-permission=\"'9868dce1-8cff-4be0-b486-a6081cfba91d'\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SubTitle from 'components/SubTitle';\n\nimport {\n  getDiseaseList,\n  updateDisease,\n  removeDisease\n} from 'api/training/disease';\n\nimport { getSportFacility } from 'api/training/sportFacility';\n\nimport { getPlanRank } from 'api/training/trainingLevel';\n\nimport {\n  getTrainingConfig,\n  updateTrainingConfig\n} from 'api/training/trainingConfig';\n\nexport default {\n  data() {\n    return {\n      // configDialog: false,\n      levelId: '',\n      dialog_level: '',\n      diseases: [],\n      levels: [],\n      id: '',\n      isCreate: false,\n      levelVisible: false,\n      dialogVisible: false,\n      diseaseName: '',\n      checkedFacility: [], // 选定无氧\n      facilityes_a: [],\n      facilityes_b: [],\n      dialog_facility: [] // 临时\n    };\n  },\n  components: {\n    SubTitle\n  },\n  computed: {\n    trainingLevel() {\n      if (!this.levelId || this.levels.length == 0) {\n        this.configDialog = true;\n        return '';\n      } else {\n        let item = this.levels.find(item => item.id == this.levelId);\n        if (!item) {\n          this.configDialog = true;\n          return ''\n        };\n        this.configDialog = false;\n        return item.strengthLv\n      }\n    }\n  },\n  watch: {\n    dialog_facility_a(val) {\n      // console.log(val);\n    }\n  },\n  methods: {\n    // goToConfig() {\n    //   this.level_setting();\n    // },\n    editDisease(row) {\n      this.dialog_facility = row.facilityTypeConfList.map(item => {\n        return item.facilityType;\n      });\n      this.checkedFacility = row.facilityTypeConfList.map(item => {\n        return item.facilityType;\n      });\n      this.diseaseName = row.name;\n      this.id = row.id;\n      this.isCreate = false;\n      this.dialogVisible = true;\n    },\n    confirmUpdate() {\n      if (!this.dialog_facility || this.dialog_facility.length < 1) {\n        this.$notify.warning('请选择对应的器械');\n        return;\n      }\n      this.dialogVisible = false;\n      this.checkedFacility = this.dialog_facility;\n      if (this.isCreate) {\n        updateDisease({\n          name: this.diseaseName,\n          facilityTypeList: this.checkedFacility.join(',')\n        })\n          .then(res => {\n            if (res.data.code == 200) {\n              this.$notify.success('新建伤痛病史成功');\n              this.fetchDisease();\n              return;\n            } else {\n              this.$notify.error('新建伤痛病史失败');\n            }\n          })\n          .catch(() => {\n            this.$notify.error('新建伤痛病史失败');\n          });\n      } else {\n        updateDisease({\n          id: this.id,\n          name: this.diseaseName,\n          facilityTypeList: this.checkedFacility.join(',')\n        })\n          .then(res => {\n            if (res.data.code == 200) {\n              this.$notify.success('编辑伤痛病史成功');\n              this.fetchDisease();\n              return;\n            } else {\n              this.$notify.error('编辑伤痛病史失败');\n            }\n          })\n          .catch(() => {\n            this.$notify.error('编辑伤痛病史失败');\n          });\n      }\n    },\n    createDisease() {\n      this.isCreate = true;\n      this.diseaseName = '';\n      this.dialog_facility = [];\n      this.id = '';\n      this.dialogVisible = true;\n    },\n    fetchDisease() {\n      getDiseaseList({\n        page: 1,\n        size: 100\n      }).then(res => {\n        res.data.data.list.forEach((item, index) => {\n          item.facilities = [];\n          item.facilityTypeConfList.forEach((facilityItem, index) => {\n            item.facilities.push(facilityItem.facilityName);\n          });\n          item.facilities = item.facilities.join(';');\n        });\n        this.diseases = res.data.data.list;\n      });\n    },\n    remove(row) {\n      if (confirm('确认删除吗?')) {\n      removeDisease({\n        id: row.id\n      })\n        .then(res => {\n          if (res.data.code == 200) {\n            this.$notify.success('删除伤痛病史成功');\n            this.fetchDisease();\n            return;\n          } else {\n            this.$notify.error('删除伤痛病史失败');\n          }\n        })\n        .catch(() => {\n          this.$notify.error('删除伤痛病史失败');\n        });\n      }\n    },\n    handleClose(done) {\n      done();\n    },\n    level_setting() {\n      this.levelVisible = true;\n    },\n    confirmConfig() {\n      this.levelVisible = false;\n      updateTrainingConfig({\n        confType: 'medicalHis',\n        confValue: this.dialog_level\n      }).then( (res) => {\n        if (res.data.code == 200) {\n          this.$notify.success('修改配置成功');\n          this.levelId = this.dialog_level;\n          this.fetchConfig();\n          return;\n        } else {\n           this.$notify.error('修改配置失败');\n        }\n      }).catch( () => {\n        this.$notify.error('修改配置失败');\n      })\n    },\n    fetchLevel() {\n      getPlanRank().then(res => {\n        this.levels = res.data.data.list;\n      });\n    },\n    fetchConfig() {\n      getTrainingConfig({\n        confType: 'medicalHis'\n      }).then(res => {\n        this.levelId = res.data.data.confValue;\n        this.dialog_level = parseInt(res.data.data.confValue)\n      });\n    },\n    fetchSportFacility_a() {\n      getSportFacility({\n        facilityKind: 1\n      }).then(res => {\n        res.data.data.forEach((item, index) => {\n          let mainParts;\n          let minorParts;\n          if (item.mainBodyList) {\n            let main = [];\n            item.mainBodyList.forEach((item, index) => {\n              main.push(item.name);\n            });\n            mainParts = main.join('、');\n          } else {\n            mainParts = '';\n          }\n          if (item.minorBodyList) {\n            let minor = [];\n            item.minorBodyList.forEach((item, index) => {\n              minor.push(item.name);\n            });\n            minorParts = minor.join('、');\n          } else {\n            minorParts = '';\n          }\n\n          item.parts = {\n            mainParts: mainParts,\n            minorParts: minorParts\n          };\n        });\n        this.facilityes_a = res.data.data;\n      });\n    },\n    fetchSportFacility_b() {\n      getSportFacility({\n        facilityKind: 2\n      }).then(res => {\n        res.data.data.forEach((item, index) => {\n          let mainParts;\n          let minorParts;\n          if (item.mainBodyList) {\n            let main = [];\n            item.mainBodyList.forEach((item, index) => {\n              main.push(item.name);\n            });\n            mainParts = main.join('、');\n          } else {\n            mainParts = '';\n          }\n          if (item.minorBodyList) {\n            let minor = [];\n            item.minorBodyList.forEach((item, index) => {\n              minor.push(item.name);\n            });\n            minorParts = minor.join('、');\n          } else {\n            minorParts = '';\n          }\n\n          item.parts = {\n            mainParts: mainParts,\n            minorParts: minorParts\n          };\n        });\n        this.facilityes_b = res.data.data;\n      });\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      vm.$nextTick(() => {\n        vm.fetchDisease();\n      });\n    });\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.fetchLevel();\n      this.fetchConfig();\n      this.fetchSportFacility_a();\n      this.fetchSportFacility_b();\n      this.fetchDisease();\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n.disease_to_level {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 20px;\n  border: 1px solid #e5e5e5;\n}\n\n.diseaseList_header {\n  @include flexbox;\n  @include align-items(center);\n  @include justify-content(space-between);\n  margin: {\n    top: 20px;\n  }\n}\n.dialog_item {\n  @include flexbox;\n  margin: {\n    top: 10px;\n    bottom: 20px;\n  }\n  .dialog_subtitle {\n    width: 100px;\n  }\n  .facilitiesBox {\n    width: 80%;\n    .facility_a,.facility_b {\n      padding: {\n        bottom: 10px;\n        top: 10px;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/training/planConfig/disease/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"diseaseConfig\"},[_c('div',{staticClass:\"disease_to_level\"},[_vm._v(\"\\n    病痛对应设备的训练难度:\"+_vm._s(_vm.trainingLevel)+\"\\n    \"),_c('a',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('430d0bc4-3ee0-455c-9778-3492d3ac0a71'),expression:\"'430d0bc4-3ee0-455c-9778-3492d3ac0a71'\"}],staticClass:\"hyperlink\",on:{\"click\":_vm.level_setting}},[_vm._v(\"设置\")])]),_vm._v(\" \"),_c('div',{staticClass:\"diseaseList_header\"},[_c('sub-title',{attrs:{\"title\":\"病痛列表\"}}),_vm._v(\" \"),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('b8fb5ecd-0c10-40d8-9e4e-23e71afd85a1'),expression:\"'b8fb5ecd-0c10-40d8-9e4e-23e71afd85a1'\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createDisease}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"设置\",\"visible\":_vm.levelVisible,\"width\":\"50%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.levelVisible=$event}}},[_c('div',{staticClass:\"dialog_item\"},[_c('div',{staticClass:\"dialog_subtitle\"},[_vm._v(\"病痛对应设备的训练难度(单选)\")]),_vm._v(\" \"),_c('el-radio-group',{model:{value:(_vm.dialog_level),callback:function ($$v) {_vm.dialog_level=$$v},expression:\"dialog_level\"}},_vm._l((_vm.levels),function(item,index){return _c('el-radio',{key:index,attrs:{\"label\":item.id}},[_vm._v(_vm._s(item.strengthLv))])}))],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.levelVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmConfig}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.isCreate ? '新增': '编辑',\"visible\":_vm.dialogVisible,\"width\":\"50%\",\"center\":\"\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"dialog_item\"},[_c('div',{staticClass:\"dialog_subtitle\"},[_vm._v(\"病痛名称\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"病痛名称(6字以内)\",\"maxlength\":\"6\"},model:{value:(_vm.diseaseName),callback:function ($$v) {_vm.diseaseName=$$v},expression:\"diseaseName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog_item\"},[_c('div',{staticClass:\"dialog_subtitle\"},[_vm._v(\"对应设备\")]),_vm._v(\" \"),_c('div',{staticClass:\"facilitiesBox\"},[_c('div',{staticClass:\"facility_a\"},[_vm._v(\"无氧运动设备\")]),_vm._v(\" \"),_c('div',{staticClass:\"facility_checkbox\"},[_c('el-checkbox-group',{model:{value:(_vm.dialog_facility),callback:function ($$v) {_vm.dialog_facility=$$v},expression:\"dialog_facility\"}},_vm._l((_vm.facilityes_a),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.facilityType,\"border\":\"\"}},[_vm._v(_vm._s(item.facilityName))])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"facility_b\"},[_vm._v(\"有氧运动设备\")]),_vm._v(\" \"),_c('div',{staticClass:\"facility_checkbox\"},[_c('el-checkbox-group',{model:{value:(_vm.dialog_facility),callback:function ($$v) {_vm.dialog_facility=$$v},expression:\"dialog_facility\"}},_vm._l((_vm.facilityes_b),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.facilityType,\"border\":\"\"}},[_vm._v(_vm._s(item.facilityName)+\"\\n              \"),_c('span',[_vm._v(\"(主:\"+_vm._s(item.parts.mainParts)+\";辅:\"+_vm._s(item.parts.minorParts)+\")\")])])}))],1)])]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmUpdate}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('53d8095a-2c8d-4b4f-8b2b-54ea3494f6f8'),expression:\"'53d8095a-2c8d-4b4f-8b2b-54ea3494f6f8'\"}],staticClass:\"diseaseTable\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.diseases}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"prop\":\"id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"疾病\",\"prop\":\"name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"对应器械\",\"prop\":\"facilities\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"prop\":\"time\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('9fb6e43c-3f57-4a72-89df-4553c1d6ac4a'),expression:\"'9fb6e43c-3f57-4a72-89df-4553c1d6ac4a'\"}],attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.editDisease(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('9868dce1-8cff-4be0-b486-a6081cfba91d'),expression:\"'9868dce1-8cff-4be0-b486-a6081cfba91d'\"}],attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){_vm.remove(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cd4de530\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/training/planConfig/disease/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cd4de530\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cd4de530\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cd4de530\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/training/planConfig/disease/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}