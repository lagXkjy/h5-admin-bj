webpackJsonp([29],{BdMt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),r=a("JaHG"),s={props:{tableData:{type:Array,default:function(){return[]}}},watch:{$route:function(e,t){}},data:function(){return{}},computed:{datas:function(){var e=Object(r.b)(this.tableData);return e.forEach(function(e,t){e.incomeTotal=e.incomeTotal/100,e.incomeZhifubao=e.incomeZhifubao/100,e.incomeWeichat=e.incomeWeichat/100,e.incomeBalance=e.incomeBalance/100,e.incomeType=1==e.incomeType?"充值":2==e.incomeType?"商品销售":"押金"}),e}},methods:{getSummaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach(function(e,t){if(0!==t){var i=a.map(function(t){return Number(t[e.property])});i.every(function(e){return isNaN(e)})?n[t]="-":n[t]=i.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:(100*e+100*t)/100},0)}else n[t]="合计"}),n}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{width:"100%"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:this.datas,align:"center","show-summary":"","summary-method":this.getSummaries}},[t("el-table-column",{attrs:{prop:"incomeType",label:"收入类型"}}),this._v(" "),t("el-table-column",{attrs:{prop:"incomeWeichat",label:"微信收入(元)"}}),this._v(" "),t("el-table-column",{attrs:{prop:"incomeZhifubao",label:"支付宝收入(元)"}}),this._v(" "),t("el-table-column",{attrs:{prop:"incomeBalance",label:"余额收入(元)"}}),this._v(" "),t("el-table-column",{attrs:{prop:"incomeTotal",label:"小计(元)"}})],1)],1)},staticRenderFns:[]};var o=a("VU/8")(s,c,!1,function(e){a("sOHD")},"data-v-67055161",null).exports,l={props:{tableData:{type:Array,default:function(){return[]}}},watch:{$route:function(e,t){}},data:function(){return{}},computed:{datas:function(){var e=Object(r.b)(this.tableData);return e.forEach(function(e,t){e.refundWeichat=(e.refundWeichat/100).toFixed(2),e.refundTotal=(e.refundTotal/100).toFixed(2),e.refundZhifubao=(e.refundZhifubao/100).toFixed(2),e.refundType=1==e.refundType?"充值":2==e.refundType?"商品销售":"押金"}),e}},methods:{getSummaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach(function(e,t){if(0!==t){var i=a.map(function(t){return Number(t[e.property])});i.every(function(e){return isNaN(e)})?n[t]="-":n[t]=i.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:((100*e+100*t)/100).toFixed(2)},0)}else n[t]="合计"}),n}}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{width:"100%"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:this.datas,align:"center","show-summary":"","summary-method":this.getSummaries}},[t("el-table-column",{attrs:{prop:"refundType",label:"退款类型"}}),this._v(" "),t("el-table-column",{attrs:{prop:"refundWeichat",label:"微信退款额(元)"}}),this._v(" "),t("el-table-column",{attrs:{prop:"refundZhifubao",label:"支付宝退款额(元)"}}),this._v(" "),t("el-table-column",{attrs:{prop:"refundTotal",label:"小计(元)"}})],1)],1)},staticRenderFns:[]};var m=a("VU/8")(l,u,!1,function(e){a("ebHK")},"data-v-200fe4f1",null).exports,f=a("NYxO"),d={computed:i()({},Object(f.e)({channelsList:function(e){return e.channels.channelsList},channelsRefundList:function(e){return e.channels.channelsRefundList}})),components:{channelsTab:o,channelsRefund:m},watch:{time:function(e){this.fetchData()}},methods:i()({},Object(f.b)(["getChannelsList","getChannelsRefundList"]),{computeParams:function(){var e={};return this.time.length>0&&(e.beginTime=this.time[0],e.endTime=this.time[1]),e},handleClick:function(e,t){},setDefaultDate:function(){var e=moment().format("YYYY-MM-DD HH:mm:ss"),t=moment(e).add(-30,"days").format("YYYY-MM-DD HH:mm:ss");this.time=[t,e]},fetchData:function(){this.getChannelsList(this.computeParams()),this.getChannelsRefundList(this.computeParams())}}),beforeRouteEnter:function(e,t,a){a(function(e){e.$nextTick(function(){e.fetchData()})})},data:function(){return{pickerOptions2:{shortcuts:[{text:"本周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"本月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"本年",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-31536e6),e.$emit("pick",[a,t])}}]},value3:[new Date(2e3,10,10,10,10),new Date(2e3,10,11,10,10)],activeName:"first",time:""}},mounted:function(){var e=this;this.$nextTick(function(){e.setDefaultDate(),e.fetchData()})}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"protalPage"},[a("div",{staticClass:"wraper"},[a("div",{staticClass:"title"},[e._v("\n      渠道汇总\n    ")]),e._v(" "),a("div",{staticClass:"sportOrderTop"},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2,"value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"]},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),e._v(" "),a("div",{staticClass:"sportOrderBotom"},[a("div",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{directives:[{name:"permission",rawName:"v-permission",value:"06aa5acc-f687-43f7-bed8-b88b01e2dee3",expression:"'06aa5acc-f687-43f7-bed8-b88b01e2dee3'"}],attrs:{label:"收入",name:"first"}},[a("channels-tab",{directives:[{name:"permission",rawName:"v-permission",value:"1ab54b3b-7597-4c12-a96e-636f6a47487a",expression:"'1ab54b3b-7597-4c12-a96e-636f6a47487a'"}],attrs:{tableData:e.channelsList}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"退款",name:"second"}},[a("span",{directives:[{name:"permission",rawName:"v-permission",value:"c9115b0a-4574-4de2-9388-2cf83758efa9",expression:"'c9115b0a-4574-4de2-9388-2cf83758efa9'"}]},[e._v("暂无")])])],1)],1)])])])},staticRenderFns:[]};var h=a("VU/8")(d,p,!1,function(e){a("a8m4")},"data-v-71df9080",null);t.default=h.exports},a8m4:function(e,t){},ebHK:function(e,t){},sOHD:function(e,t){}});
//# sourceMappingURL=29.21bfdbc6ab4ad7a1566f.js.map