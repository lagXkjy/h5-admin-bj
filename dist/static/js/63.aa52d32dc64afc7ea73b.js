webpackJsonp([63],{"0A/a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("0LZo"),r=i("EfP4"),n={data:function(){return{isCreate:!1,trainingParts:[],dialogVisible:!1,currentId:null,currentPart:""}},components:{SubTitle:a.a},methods:{fetchTrainingParts:function(){var t=this;Object(r.a)({page:1,size:100}).then(function(e){t.trainingParts=e.data.data.list})},removePart:function(t){var e=this;confirm("确认要删除吗")&&Object(r.b)({id:t.id}).then(function(t){if(200==t.data.code)return e.$notify.success("删除成功"),void e.fetchTrainingParts();e.$notify.error("删除失败")}).catch(function(){e.$notify.error("删除失败")})},editPart:function(t){this.isCreate=!1,this.currentPart=t.name,this.currentId=t.id,this.dialogVisible=!0},createPart:function(){this.isCreate=!0,this.dialogVisible=!0},handleClose:function(t){this.currentPart="",this.currentId=null,t()},confirmUpdate:function(){var t=this;if(!this.currentPart)return this.$notify.error("请输入部位名称");this.isCreate?Object(r.c)({name:this.currentPart}).then(function(e){if(200==e.data.code)return t.$notify.success("创建成功"),t.dialogVisible=!1,void t.fetchTrainingParts();t.$notify.error("创建失败"),t.dialogVisible=!1}).catch(function(){t.$notify.error("创建失败"),t.dialogVisible=!1}):Object(r.c)({id:this.currentId,name:this.currentPart}).then(function(e){if(200==e.data.code)return t.$notify.success("编辑成功"),t.dialogVisible=!1,void t.fetchTrainingParts();t.$notify.error("编辑失败"),t.dialogVisible=!1}).catch(function(){t.$notify.error("编辑失败"),t.dialogVisible=!1})}},mounted:function(){var t=this;this.$nextTick(function(){t.fetchTrainingParts()})}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trainingPartPage"},[i("div",{staticClass:"trainingPart_header"},[i("sub-title",{attrs:{title:"训练部位"}}),t._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"521d8eab-fe6e-4e27-96e7-8ad08bc5d95d",expression:"'521d8eab-fe6e-4e27-96e7-8ad08bc5d95d'"}],attrs:{type:"primary"},on:{click:t.createPart}},[t._v("新增")])],1),t._v(" "),i("el-table",{directives:[{name:"permission",rawName:"v-permission",value:"7160b4ce-5f0f-4f71-8df1-01c67db25849",expression:"'7160b4ce-5f0f-4f71-8df1-01c67db25849'"}],staticStyle:{width:"100%"},attrs:{data:t.trainingParts}},[i("el-table-column",{attrs:{label:"ID",prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{label:"训练部位",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",prop:"time",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"184f36ae-f220-4ae3-bd89-6a264d79193d",expression:"'184f36ae-f220-4ae3-bd89-6a264d79193d'"}],attrs:{type:"primary",plain:""},on:{click:function(i){t.editPart(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"d933203a-2f41-4e29-afe1-70a8204711ec",expression:"'d933203a-2f41-4e29-afe1-70a8204711ec'"}],attrs:{type:"danger",plain:""},on:{click:function(i){t.removePart(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:t.isCreate?"新建":"编辑",visible:t.dialogVisible,width:"40%",center:"","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"dialog_parts"},[i("div",{staticClass:"dialog_subTitle"},[t._v("训练部位")]),t._v(" "),i("el-input",{staticStyle:{width:"250px"},attrs:{maxlength:"6",placeholder:"6字以内"},model:{value:t.currentPart,callback:function(e){t.currentPart=e},expression:"currentPart"}})],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.confirmUpdate}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var o=i("VU/8")(n,s,!1,function(t){i("PTIz")},"data-v-1b3e2df8",null);e.default=o.exports},PTIz:function(t,e){}});
//# sourceMappingURL=63.aa52d32dc64afc7ea73b.js.map