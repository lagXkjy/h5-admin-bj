{"version":3,"sources":["webpack:///src/pages/storePart/store/components/StoreStatus.vue","webpack:///./src/pages/storePart/store/components/StoreStatus.vue?0b65","webpack:///./src/pages/storePart/store/components/StoreStatus.vue","webpack:///src/pages/storePart/store/components/StoreTable.vue","webpack:///./src/pages/storePart/store/components/StoreTable.vue?9c5c","webpack:///./src/pages/storePart/store/components/StoreTable.vue","webpack:///src/pages/storePart/store/components/BaseInformation.vue","webpack:///./src/pages/storePart/store/components/BaseInformation.vue?bc00","webpack:///./src/pages/storePart/store/components/BaseInformation.vue","webpack:///src/pages/storePart/store/components/ConfigInformation.vue","webpack:///./src/pages/storePart/store/components/ConfigInformation.vue?1079","webpack:///./src/pages/storePart/store/components/ConfigInformation.vue","webpack:///src/pages/storePart/store/components/ManagerInformation.vue","webpack:///./src/pages/storePart/store/components/ManagerInformation.vue?5fbd","webpack:///./src/pages/storePart/store/components/ManagerInformation.vue","webpack:///src/pages/storePart/store/components/StoreSubPage.vue","webpack:///./src/pages/storePart/store/components/StoreSubPage.vue?3742","webpack:///./src/pages/storePart/store/components/StoreSubPage.vue","webpack:///src/pages/storePart/store/Page.vue","webpack:///./src/pages/storePart/store/Page.vue?7ccc","webpack:///./src/pages/storePart/store/Page.vue"],"names":["StoreStatus","Number","methods","extends_default","Object","vuex_esm","_this","this","row","_this2","id","storeStatus","then","res","catch","error","components_StoreStatus","render","_vm","_h","$createElement","_c","_self","attrs","placeholder","model","value","callback","$$v","expression","_l","item","key","label","staticRenderFns","store_components_StoreStatus","__webpack_require__","normalizeComponent","ssrContext","StoreTable","Array","String","currentSize","components_StoreTable","staticClass","staticStyle","width","data","tableData","header-cell-style","headStyle","prop","_v","scopedSlots","_u","fn","scope","directives","name","rawName","size","type","plain","on","click","$event","handleEdit1","$index","handleEdit2","handleEdit4","nativeOn","checkDevice","checkBoard","_s","businessStatus","change","statusChange","$set","store_components_StoreTable","StoreTable_normalizeComponent","BaseInformation","computed","currentStoreDetail","storeList","provinceId","cityId","districtId","arr","picList","shift","url","resetData","storeId","_getArea","list","val","common","_this3","district","address","fileList","fileList2","submit","province","city","obj","_this4","storeName","contactPhone","storeArea","detailedAddress","longitude","latitude","introduction","useNotice","storeImage","imageListUrl","storePhone","storeAddress","cover","detailImgs","storePositionX","storePositionY","storeIntroduce","storeUserNotice","_this5","updateInfo","message","_this6","isLt1M","_this7","length","result","areaOptions","level0","findIndexById","cities","level1","level","assign_default","newObj","_iteratorNormalCompletion","_step","index","_this8","components_BaseInformation","clearable","options","props","areaProps","change-on-select","areaChange","active-item-change","handleItemChange","selectedIDs","maxlength","action","actionApi","on-preview","handlePreview","on-remove","handleRemove","file-list","list-type","before-upload","beforeAvatarUpload","on-success","successUpload","limit","slot","saveBaseInfo","createStore","store_components_BaseInformation","BaseInformation_normalizeComponent","ConfigInformation","currentStoreConfig","publicDevice","businessHours","appointmentLength","limitNumber","price","business","interval","formatFacilitiyIds","getPublic","components_ConfigInformation","selectedDevices","handleCheckedCitiesChange","facilityName","store_components_ConfigInformation","ConfigInformation_normalizeComponent","ManagerInformation","managerList","ownerName","selectedManager","getManagerList","components_ManagerInformation","binManager","store_components_ManagerInformation","ManagerInformation_normalizeComponent","SubPage","components_StoreSubPage","mapSubPage","subPageType","mainTitle","subTitle","routeCallback","refreshData","refresh","_e","Page","StoreSubPage","StoreSubPage_normalizeComponent","total","pageSize","pageNum","areaList","isFetchingData","keys_default","$route","query","mapPagination","currentPage4","curPageSize","params","store_Page","keyup","_k","keyCode","currentPage","current-page","page-sizes","pageSizes","page-size","layout","curTotal","size-change","handleSizeChange","current-change","handleCurrentChange","subPageInfo","routeQuery","refreshStoreList","Page_Component","Page_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/6.0b14edbb93b98b16deef.js","sourcesContent":["<template>\n  <el-select v-model=\"storeStatus\" placeholder=\"请选择\">\n    <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n    </el-option>\n  </el-select>\n</template>\n\n<script>\nimport { setStoreStatus } from 'api/storePart/store';\n\nimport {\n  mapActions\n} from 'vuex';\n\nexport default {\n  name:'storeStatus',\n  props: {\n    row: {\n      type: [Number]\n    }\n  },\n  methods: {\n    ...mapActions(['updateStoreDetail', 'getStoreList']),\n  },\n  mounted() {\n    this.$nextTick( () => {\n      console.log(this.row)\n      this.storeStatus = this.row;\n    })\n  },\n  watch: {\n    storeStatus(value, oldvalue) {\n      if (!oldvalue) return;\n      this.updateStoreDetail({\n        id: this.row.id,\n        businessStatus: this.storeStatus\n      })\n        .then(res => {\n          // console.log(res);\n          if (res.data.code == 200) {\n            this.$notify.success('修改门店状态成功');\n            this.getStoreList({page: 1, size: 100});\n          } else {\n            this.$notify.error('修改门店状态失败');\n          }\n        })\n        .catch(error => {\n          this.$notify.error('修改门店状态失败');\n        });\n    }\n  },\n  data() {\n    return {\n      storeStatus: '',\n      options: [\n        {\n          value: 1,\n          label: '闭店'\n        },\n        {\n          value: 2,\n          label: '开店'\n        }\n      ]\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/storePart/store/components/StoreStatus.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.storeStatus),callback:function ($$v) {_vm.storeStatus=$$v},expression:\"storeStatus\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-75315682\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/storePart/store/components/StoreStatus.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-75315682\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./StoreStatus.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StoreStatus.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StoreStatus.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-75315682\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./StoreStatus.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-75315682\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/storePart/store/components/StoreStatus.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"storeTable\">\n    <el-table :data=\"tableData\" style=\"width: 100%\" :header-cell-style=\"headStyle\">\n      <el-table-column label=\"门店ID\" prop=\"id\" width=\"100\">\n      </el-table-column>\n      <el-table-column label=\"门店名称\" prop=\"storeName\">\n      </el-table-column>\n      <el-table-column label=\"详细地址\" prop=\"detailedAddress\">\n      </el-table-column>\n      <el-table-column label=\"编辑\" width=\"300\">\n        <template slot-scope=\"scope\">\n          <!-- <el-badge value=\"待完善\" class=\"item\"> -->\n          <el-button size=\"mini\" type=\"primary\" plain @click=\"handleEdit1(scope.$index, scope.row)\" v-permission=\"'241e7b07-a70e-442c-bd8b-5e42f05afeba'\">基本信息</el-button>\n          <!-- </el-badge> -->\n          <el-button size=\"mini\" type=\"primary\" plain @click=\"handleEdit2(scope.$index, scope.row)\" v-permission=\"'2e3ff189-f735-42ee-b53e-17334ab324e6'\">配置信息</el-button>\n          <el-button size=\"mini\" type=\"primary\" plain @click=\"handleEdit4(scope.$index, scope.row)\" v-permission=\"'97d33228-fe77-4090-a269-f90d4f3266b5'\">店长信息</el-button>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"设备信息\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"small\" @click.native=\"checkDevice(scope.$index, scope.row)\" v-permission=\"'6713f2cd-8e50-4c63-9700-9000af6f3a8d'\">查看</el-button>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"门店看板\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"small\" @click.native=\"checkBoard(scope.$index, scope.row)\" v-permission=\"'3572ea27-333a-4761-a1f3-9be80ac1a2c3'\">查看</el-button>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"状态\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.businessStatus != 2 ? '未营业' : '营业'}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"门店状态\">\n        <template slot-scope=\"scope\">\n          <el-select v-model=\"scope.row.businessStatus\" placeholder=\"请选择\" v-permission=\"'9310de22-cb7d-4f79-9ba2-a57060baa640'\" @change=\"statusChange(scope.row.businessStatus,scope.row.id)\">\n            <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n            </el-option>\n          </el-select>\n          <!-- <store-status :row=\"scope.row.businessStatus\" v-permission=\"'9310de22-cb7d-4f79-9ba2-a57060baa640'\"></store-status> -->\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n\nimport StoreStatus from './StoreStatus';\n\nexport default {\n  props: {\n    tableData: {\n      type: Array,\n      default: () => []\n    },\n    currentPage: {\n      type: [Number, String]\n    },\n    currentSize: {\n      type: [Number, String]\n    }\n  },\n  components: {\n    StoreStatus\n  },\n  data() {\n    return {\n      headStyle: {\n        // \"text-align\": 'center',\n        // color: 'red'\n      },\n      storeStatus: 1,\n      options: [\n        {\n          value: 1,\n          label: '闭店'\n        },\n        {\n          value: 2,\n          label: '开店'\n        }\n      ]\n    };\n  },\n  methods: {\n    ...mapActions(['updateStoreDetail', 'getStoreList']),\n    handleEdit1(index, row) {\n      this.$router.push({ path: `/storePart/store?baseInfo=${row.id}` });\n    },\n    handleEdit2(index, row) {\n      // console.log(row);\n      this.$router.push({ path: `/storePart/store?configInfo=${row.id}` });\n    },\n    // handleEdit3(index, row) {\n    //   console.log(index, row);\n    // },\n    handleEdit4(index, row) {\n      this.$router.push({ path: `/storePart/store?managerInfo=${row.id}` });\n    },\n    checkBoard(index, row) {\n      this.$router.push({ path: '/board' });\n    },\n    checkDevice(index, row) {\n      this.$router.push({ path: '/storePart/device' });\n    },\n    statusChange(value,id) {\n      this.updateStoreDetail({\n        id: id,\n        businessStatus: value\n      }).then(res => {\n          // console.log(res);\n          if (res.data.code == 200) {\n            this.$notify.success('修改门店状态成功');\n            this.getStoreList({ page: this.currentPage, size: this.currentSize });\n          } else {\n            this.$notify.error('修改门店状态失败');\n          }\n        }).catch(error => {\n          this.$notify.error('修改门店状态失败');\n        });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n.item {\n  margin-top: 10px;\n  margin-right: 40px;\n}\n\n.storeTable {\n  width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/storePart/store/components/StoreTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"storeTable\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"header-cell-style\":_vm.headStyle}},[_c('el-table-column',{attrs:{\"label\":\"门店ID\",\"prop\":\"id\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"门店名称\",\"prop\":\"storeName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"详细地址\",\"prop\":\"detailedAddress\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"编辑\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('241e7b07-a70e-442c-bd8b-5e42f05afeba'),expression:\"'241e7b07-a70e-442c-bd8b-5e42f05afeba'\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.handleEdit1(scope.$index, scope.row)}}},[_vm._v(\"基本信息\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('2e3ff189-f735-42ee-b53e-17334ab324e6'),expression:\"'2e3ff189-f735-42ee-b53e-17334ab324e6'\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.handleEdit2(scope.$index, scope.row)}}},[_vm._v(\"配置信息\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('97d33228-fe77-4090-a269-f90d4f3266b5'),expression:\"'97d33228-fe77-4090-a269-f90d4f3266b5'\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.handleEdit4(scope.$index, scope.row)}}},[_vm._v(\"店长信息\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"设备信息\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('6713f2cd-8e50-4c63-9700-9000af6f3a8d'),expression:\"'6713f2cd-8e50-4c63-9700-9000af6f3a8d'\"}],attrs:{\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.checkDevice(scope.$index, scope.row)}}},[_vm._v(\"查看\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"门店看板\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('3572ea27-333a-4761-a1f3-9be80ac1a2c3'),expression:\"'3572ea27-333a-4761-a1f3-9be80ac1a2c3'\"}],attrs:{\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.checkBoard(scope.$index, scope.row)}}},[_vm._v(\"查看\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.businessStatus != 2 ? '未营业' : '营业'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"门店状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('9310de22-cb7d-4f79-9ba2-a57060baa640'),expression:\"'9310de22-cb7d-4f79-9ba2-a57060baa640'\"}],attrs:{\"placeholder\":\"请选择\"},on:{\"change\":function($event){_vm.statusChange(scope.row.businessStatus,scope.row.id)}},model:{value:(scope.row.businessStatus),callback:function ($$v) {_vm.$set(scope.row, \"businessStatus\", $$v)},expression:\"scope.row.businessStatus\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a8a460fe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/storePart/store/components/StoreTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a8a460fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./StoreTable.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StoreTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StoreTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a8a460fe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./StoreTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a8a460fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/storePart/store/components/StoreTable.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"baseinfo\">\n    <div class=\"baseInfoTitle\">编辑-基本信息</div>\n    <div class=\"BI_storeName\">\n      <div class=\"subTitle\">门店名称</div>\n      <div class=\"inputBox\">\n        <el-input placeholder=\"请输入内容\" v-model=\"storeName\" clearable>\n        </el-input>\n      </div>\n    </div>\n    <div class=\"BI_item2 BI_item\">\n      <div class=\"BI_phone item_230\">\n        <div class=\"subTitle\">联系电话</div>\n        <div class=\"inputBox\">\n          <el-input placeholder=\"请输入内容\" v-model=\"storePhone\" clearable>\n          </el-input>\n        </div>\n      </div>\n      <div class=\"BI_area item_230\">\n        <div class=\"subTitle\">面积(平方)</div>\n        <div class=\"inputBox\">\n          <el-input placeholder=\"请输入内容\" v-model=\"storeArea\" clearable>\n          </el-input>\n        </div>\n      </div>\n    </div>\n    <div class=\"BI_item3 BI_item\">\n      <div class=\"BI_address item_230\">\n        <div class=\"subTitle\">所在地区</div>\n        <div class=\"inputBox\">\n          <!-- <el-input placeholder=\"请输入内容\" v-model=\"storeAddress\" clearable>\n          </el-input> -->\n          <el-cascader v-model=\"selectedIDs\" :options=\"areaOptions\" @change=\"areaChange\" @active-item-change=\"handleItemChange\" :props=\"areaProps\" :change-on-select=\"false\"></el-cascader>\n        </div>\n      </div>\n      <div class=\"BI_detail item_230\">\n        <div class=\"subTitle\">详细地址</div>\n        <div class=\"inputBox\">\n          <el-input placeholder=\"请输入内容\" v-model=\"storeAddress\" clearable>\n          </el-input>\n        </div>\n      </div>\n    </div>\n    <div class=\"BI_item4 BI_item\">\n      <div class=\"BI_positionX item_230\">\n        <div class=\"subTitle\">经度</div>\n        <div class=\"inputBox\">\n          <el-input placeholder=\"请输入内容\" v-model=\"storePositionX\" clearable>\n          </el-input>\n        </div>\n      </div>\n      <div class=\"BI_positionY item_230\">\n        <div class=\"subTitle\">维度</div>\n        <div class=\"inputBox\">\n          <el-input placeholder=\"请输入内容\" v-model=\"storePositionY\" clearable>\n          </el-input>\n        </div>\n      </div>\n    </div>\n    <div class=\"BI_des\">\n      <div class=\"subTitle\">简介(限100字)</div>\n      <div class=\"inputBox\">\n        <el-input placeholder=\"请输入内容\" v-model=\"storeIntroduce\" type=\"textarea\" maxlength=\"100\">\n        </el-input>\n      </div>\n    </div>\n    <div class=\"BI_des\">\n      <div class=\"subTitle\">使用须知(限1000字)</div>\n      <div class=\"inputBox\">\n        <el-input placeholder=\"请输入内容\" v-model=\"storeUserNotice\" type=\"textarea\" maxlength=\"1000\">\n        </el-input>\n      </div>\n    </div>\n    <div class=\"BI_upload\">\n      <div class=\"subTitle\">上传封面&相册</div>\n      <div class=\"choosePic\">\n        <el-upload class=\"upload-demo\" :action=\"actionApi\" :on-preview=\"handlePreview\" :on-remove=\"handleRemove\" :file-list=\"fileList2\" list-type=\"picture\" :before-upload=\"beforeAvatarUpload\" :on-success=\"successUpload\" :limit=\"10\">\n          <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n          <div slot=\"tip\" class=\"el-upload__tip\">默认第一张为封面, 最多上传10张图片, 尺寸建议800X600</div>\n        </el-upload>\n      </div>\n    </div>\n    <div class=\"saveButton\">\n      <el-button v-if=\"storeId !== 'null'\" type=\"primary\" @click.native=\"saveBaseInfo\">保存</el-button>\n      <el-button v-else type=\"primary\" @click.native=\"createStore\">创建</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex';\n\nimport { deepCopy } from 'common/utils';\n\nimport { getCurrentArea } from 'api/storePart/store';\n\nimport { uploadFileApi } from 'common/common';\n\nexport default {\n  computed: {\n    ...mapState({\n      currentStoreDetail: state => state.store.currentStoreDetail,\n      // areaIds: state => state.store.areaIds,\n      storeList: state => state.store.storeList\n    }),\n    cover() {\n      return this.fileList2[0] ? this.fileList2[0].url : '';\n    },\n    areaIds() {\n      let arr = [];\n      this.storeList.forEach((item, index) => {\n        if (item.id == this.storeId) {\n          arr.push(item.provinceId);\n          arr.push(item.cityId);\n          arr.push(item.districtId);\n          this.provinceId = item.provinceId;\n          this.cityId = item.cityId;\n          this.districtId = item.districtId;\n          return;\n        }\n      });\n      return arr;\n    },\n    detailImgs() {\n      let imgs = [];\n      let list = deepCopy(this.picList);\n      list.shift();\n      list.forEach((item, index) => {\n        imgs.push(item.url);\n      });\n      let str = imgs.join(',');\n      return str;\n    }\n  },\n  watch: {\n    $route(val) {\n      this.resetData();\n      if (this.storeId !== 'null') {\n        // 有id 则为修改\n        this.getStoreDetail({\n          storeId: this.storeId\n        }).then(() => {\n          this.mapDatas(this.currentStoreDetail);\n          this._getArea();\n          this.getAreaDropDown({\n            id: 'all'\n          }).then(res => {\n            let list = this.createAreaList(res, 0);\n            this.setEmptyCities(list);\n            this.areaOptions = list;\n          });\n        });\n      } else {\n        this.getAreaDropDown({\n          id: 'all'\n        }).then(res => {\n          let list = this.createAreaList(res, 0);\n          this.setEmptyCities(list);\n          this.areaOptions = list;\n        });\n      }\n    },\n    fileList2(val) {\n      if (val.length > 10) {\n        this.$notify.error('最多上传十张图片, 请自行删除');\n      }\n    },\n    selectedIDs(val) {\n      // console.log('选择的省市区', val);\n      this.provinceId = val[0];\n      this.cityId = val[1];\n      this.districtId = val[2];\n    },\n    currentArea(val) {\n      this.areaOptions.unshift({\n        id: 'current',\n        value: val\n      });\n    }\n  },\n  props: {\n    storeId: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      actionApi: uploadFileApi,\n      storeName: '',\n      storePhone: '',\n      storeArea: '',\n      storeAddress: '',\n      addressDetail: '',\n      storePositionX: '',\n      storePositionY: '',\n      storeIntroduce: '',\n      storeUserNotice: '',\n      areaOptions: [],\n      fileList2: [],\n      picList: [],\n      provinceId: '',\n      cityId: '',\n      currentArea: '',\n      districtId: '',\n      isUploadImg: false,\n      isOverUploading: true,\n      selectedIDs: ['current'],\n      areaProps: {\n        value: 'id',\n        children: 'cities',\n        label: 'value'\n      }\n    };\n  },\n  methods: {\n    ...mapActions([\n      'getStoreDetail',\n      'uploadImg',\n      'updateStoreDetail',\n      'getAreaDropDown'\n    ]),\n    _getArea() {\n      let address = '';\n      getCurrentArea({\n        id: this.provinceId\n      }).then(res => {\n        // console.log('详情',res);\n        address = res.data.data.province + '/';\n        getCurrentArea({\n          id: this.cityId\n        }).then(res => {\n          // console.log(res);\n          address = address + res.data.data.city + '/';\n          getCurrentArea({\n            id: this.districtId\n          }).then(res => {\n            address = address + res.data.data.district;\n            this.currentArea = address;\n          });\n        });\n      });\n    },\n    handleRemove(file, fileList) {\n      this.fileList2 = fileList;\n      this.picList = this.fileList2;\n    },\n    areaChange(val) {\n      // console.log(val);\n      this.selectedIDs = val;\n    },\n    submitUpload() {\n      this.$refs.upload.submit();\n    },\n    handlePreview(file) {\n      // console.log(file);\n    },\n    beforeAvatarUpload(file) {\n      this.isOverUploading = false;\n      const isMP4 = file.type === 'image/png' || file.type === 'image/jpeg';\n      const isLt20M = true\n\n      if (!isMP4) {\n        this.$notify.error('上传图片只能是 JPG/PNG 格式!');\n      }\n      if (!isLt20M) {\n        this.$notify.error('上传图片大小不能超过 1MB!');\n      }\n      if (isMP4 && isLt20M) {\n        this.isOverUploading = true;\n      }\n      return isMP4 && isLt20M;\n    },\n    successUpload(response, file, filelist) {\n      this.picList.push({name: '', url: response.data['oss-request-url']})\n      this.isOverUploading = true;\n    },\n    failedUpload(err, file, filelist) {\n      this.$notify.error('文件上传失败, 请重新上传');\n      this.isOverUploading = true;\n    },\n    resetData() {\n      this.storeName = '';\n      this.storePhone = '';\n      this.storeArea = '';\n      this.storeAddress = ''; // 接口缺少字段\n      this.addressDetail = '';\n      this.storePositionX = '';\n      this.storePositionY = '';\n      this.storeIntroduce = '';\n      this.fileList2 = [];\n      this.picList = [];\n    },\n    createAreaList(res, level) {\n      let list = [];\n      res.forEach((item, index) => {\n        let obj = {};\n        if (level === 0) {\n          obj.value = item.province;\n        }\n        if (level === 1) {\n          obj.value = item.city;\n        }\n        if (level === 2) {\n          obj.value = item.district;\n        }\n        obj.id = item.id;\n        list.push(obj);\n      });\n      return list;\n    },\n    mapDatas(apiData) {\n      this.storeName = apiData.storeName;\n      this.storePhone = apiData.contactPhone;\n      this.storeArea = apiData.storeArea;\n      this.provinceId = apiData.provinceId;\n      this.cityId = apiData.cityId;\n      this.districtId = apiData.districtId;\n      // console.log('区ID',apiData.districtId);\n      this.storeAddress = apiData.detailedAddress;\n      this.storePositionX = apiData.longitude; // 经度\n      this.storePositionY = apiData.latitude; // 维度\n      this.storeIntroduce = apiData.introduction;\n      this.storeUserNotice = apiData.useNotice;\n      this.fileList2.push({\n        name: '门店图片',\n        url: apiData.storeImage\n      });\n      this.picList.push({\n        name: '门店图片',\n        url: apiData.storeImage\n      })\n      apiData.images.forEach((item, index) => {\n        this.fileList2.push({\n          name: '详情图片',\n          url: item.imageListUrl\n        });\n        this.picList.push({\n          name: '详情图片',\n          url: item.imageListUrl\n        });\n      });\n    },\n    updateInfo() {\n      if (!this.isOverUploading) {\n        return this.$notify.success('请等待文件上传成功');\n      }\n      if (\n        !this.provinceId ||\n        !this.cityId ||\n        !this.districtId ||\n        this.provinceId == 0 ||\n        this.cityId == 0 ||\n        this.districtId == 0\n      ) {\n        this.$notify.error('请输入省市区');\n        return;\n      }\n      if (this.storeId !== 'null') {\n        return this.updateStoreDetail({\n          id: this.storeId,\n          name: this.storeName,\n          mobile: this.storePhone,\n          area: this.storeArea,\n          province: this.provinceId,\n          city: this.cityId,\n          district: this.districtId,\n          detailedAddress: this.storeAddress,\n          storeImage: this.cover, // 门店图片\n          img: this.detailImgs, // 详情图片\n          longitude: this.storePositionX,\n          latitude: this.storePositionY,\n          introduction: this.storeIntroduce,\n          useNotice: this.storeUserNotice\n        });\n      } else {\n        return this.updateStoreDetail({\n          name: this.storeName,\n          mobile: this.storePhone,\n          area: this.storeArea,\n          province: this.selectedIDs[0],\n          city: this.selectedIDs[1],\n          district: this.selectedIDs[2],\n          detailedAddress: this.storeAddress,\n          storeImage: this.cover, // 门店图片\n          img: this.detailImgs, // 详情图片\n          longitude: this.storePositionX,\n          latitude: this.storePositionY,\n          introduction: this.storeIntroduce,\n          useNotice: this.storeUserNotice\n        });\n      }\n    },\n    verityData() {\n      //校验数据\n      if (this.fileList2.length > 10) {\n        // 检测图片数量\n        this.$notify({\n          title: '提示',\n          message: '最多上传10张图片',\n          type: 'warning'\n        });\n        return false;\n      }\n      return true;\n    },\n    createStore() {\n      if (this.verityData()) {\n        this.updateInfo()\n          .then(() => {\n            this.$notify.success('创建门店成功');\n            this.resetData();\n            this.$router.push({ path: '/storePart/store' });\n            this.$emit('refreshData');\n          })\n          .catch(message => {\n            this.$notify.error(message);\n            this.resetData();\n            this.$router.push({ path: '/storePart/store' });\n            this.$emit('refreshData');\n          });\n      }\n    },\n    saveBaseInfo() {\n      // 保存信息\n      if (this.verityData()) {\n        this.updateInfo()\n          .then(() => {\n            this.$notify({\n              title: '',\n              message: '保存门店基础信息成功',\n              type: 'success'\n            });\n            this.$router.push({ path: '/storePart/store' });\n            this.$emit('refreshData');\n          })\n          .catch(message => {\n            this.$notify.error({\n              title: '失败',\n              message: message\n            });\n            this.$router.push({ path: '/storePart/store' });\n            this.$emit('refreshData');\n          });\n      }\n    },\n    beforeUploadImg(file) {\n      // 检测图片格式及大小\n      // console.log(file);\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n      const isLt1M = file.size / 1024 / 1024 < 3;\n      if (!isJPG) {\n        this.$notify.error('上传图片只能是 JPG或PNG 格式!');\n      }\n      if (!isLt1M) {\n        this.$notify.error('上传图片大小不能超过 3MB!');\n      }\n      return isJPG && isLt1M;\n      return true;\n    },\n    handleItemChange(val) {\n      let level = val.length;\n      let id = val[level - 1];\n      let result;\n      if (level === 1) {\n        this.level0 = this.findIndexById(id, this.areaOptions); // 第一级\n        result = this.level0;\n        if (this.areaOptions[result].cities.length > 0) {\n          // 第二级cities已有 不再重复请求\n          return;\n        }\n      }\n      if (level === 2) {\n        this.level1 = this.findIndexById(\n          id,\n          this.areaOptions[this.level0].cities\n        ); // 第二级\n        result = this.level1;\n        if (this.areaOptions[this.level0].cities[result].cities.length > 0) {\n          // 第三级cities已有 不再重复请求\n          return;\n        }\n      }\n      this.getAreaDropDown({\n        id: id\n      }).then(res => {\n        // console.log(res);\n        let list = this.createAreaList(res, level); // 格式化下拉列表\n        if (level === 1) {\n          this.areaOptions[result].cities = list;\n        }\n        if (level === 2) {\n          let newObj = Object.assign(\n            {},\n            this.areaOptions[this.level0].cities[result],\n            { cities: list }\n          );\n          this.$set(this.areaOptions[this.level0].cities, result, newObj);\n          // this.areaOptions[this.level0].cities[result].cities = list;\n        }\n        if (level < 2) {\n          this.setEmptyCities(this.areaOptions[result].cities);\n        }\n      });\n      // console.log(val)\n    },\n    setEmptyCities(array) {\n      for (let item of array) {\n        item.cities = [];\n      }\n    },\n    findIndexById(id, array) {\n      for (let index in array) {\n        if (array[index].id === id) {\n          return index;\n        }\n      }\n      return 'Nofound';\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.resetData();\n      if (this.storeId !== 'null') {\n        // 有id 则为修改\n        this.getStoreDetail({\n          storeId: this.storeId\n        }).then(() => {\n          this.mapDatas(this.currentStoreDetail);\n          this._getArea();\n          this.getAreaDropDown({\n            id: 'all'\n          }).then(res => {\n            let list = this.createAreaList(res, 0);\n            this.setEmptyCities(list);\n            this.areaOptions = list;\n          });\n        });\n      } else {\n        this.getAreaDropDown({\n          id: 'all'\n        }).then(res => {\n          let list = this.createAreaList(res, 0);\n          this.setEmptyCities(list);\n          this.areaOptions = list;\n        });\n      }\n      // else {\n      // }\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.baseinfo {\n  background-color: #ffffff;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 20px;\n  .subTitle {\n    height: 40px;\n    line-height: 40px;\n  }\n}\n.baseInfoTitle {\n  font-size: 30px;\n  height: 50px;\n  line-height: 50px;\n  border: {\n    bottom: 1px solid #999999;\n  }\n}\n.BI_item2 {\n  @include flexbox;\n  // @include justify-content(space-between);\n}\n.BI_item {\n  @include flexbox;\n  // @include justify-content(space-between);\n  width: 50%;\n  box-sizing: border-box;\n  padding: {\n    top: 30px;\n    bottom: 20px;\n  }\n}\n.BI_phone,\n.BI_address,\n.BI_positionX {\n  margin: {\n    right: 30px;\n  }\n}\n.BI_storeName {\n  width: 500px;\n  padding: {\n    top: 30px;\n    bottom: 20px;\n  }\n}\n.item_230 {\n  width: 230px;\n}\n.choosePic {\n  width: 500px;\n}\n.BI_des {\n  width: 500px;\n}\n.saveButton {\n  box-sizing: border-box;\n  padding: {\n    top: 50px;\n    bottom: 20px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/storePart/store/components/BaseInformation.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"baseinfo\"},[_c('div',{staticClass:\"baseInfoTitle\"},[_vm._v(\"编辑-基本信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"BI_storeName\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"门店名称\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.storeName),callback:function ($$v) {_vm.storeName=$$v},expression:\"storeName\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"BI_item2 BI_item\"},[_c('div',{staticClass:\"BI_phone item_230\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"联系电话\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.storePhone),callback:function ($$v) {_vm.storePhone=$$v},expression:\"storePhone\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"BI_area item_230\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"面积(平方)\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.storeArea),callback:function ($$v) {_vm.storeArea=$$v},expression:\"storeArea\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"BI_item3 BI_item\"},[_c('div',{staticClass:\"BI_address item_230\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"所在地区\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-cascader',{attrs:{\"options\":_vm.areaOptions,\"props\":_vm.areaProps,\"change-on-select\":false},on:{\"change\":_vm.areaChange,\"active-item-change\":_vm.handleItemChange},model:{value:(_vm.selectedIDs),callback:function ($$v) {_vm.selectedIDs=$$v},expression:\"selectedIDs\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"BI_detail item_230\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"详细地址\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.storeAddress),callback:function ($$v) {_vm.storeAddress=$$v},expression:\"storeAddress\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"BI_item4 BI_item\"},[_c('div',{staticClass:\"BI_positionX item_230\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"经度\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.storePositionX),callback:function ($$v) {_vm.storePositionX=$$v},expression:\"storePositionX\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"BI_positionY item_230\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"维度\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.storePositionY),callback:function ($$v) {_vm.storePositionY=$$v},expression:\"storePositionY\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"BI_des\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"简介(限100字)\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"type\":\"textarea\",\"maxlength\":\"100\"},model:{value:(_vm.storeIntroduce),callback:function ($$v) {_vm.storeIntroduce=$$v},expression:\"storeIntroduce\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"BI_des\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"使用须知(限1000字)\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"type\":\"textarea\",\"maxlength\":\"1000\"},model:{value:(_vm.storeUserNotice),callback:function ($$v) {_vm.storeUserNotice=$$v},expression:\"storeUserNotice\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"BI_upload\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"上传封面&相册\")]),_vm._v(\" \"),_c('div',{staticClass:\"choosePic\"},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.actionApi,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileList2,\"list-type\":\"picture\",\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.successUpload,\"limit\":10}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"默认第一张为封面, 最多上传10张图片, 尺寸建议800X600\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"saveButton\"},[(_vm.storeId !== 'null')?_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.saveBaseInfo($event)}}},[_vm._v(\"保存\")]):_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.createStore($event)}}},[_vm._v(\"创建\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b3deef2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/storePart/store/components/BaseInformation.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b3deef2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BaseInformation.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BaseInformation.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BaseInformation.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b3deef2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BaseInformation.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b3deef2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/storePart/store/components/BaseInformation.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"configInfo\">\n    <div class=\"configTitle\">编辑-配置信息</div>\n    <div class=\"CI_business CI_item\">\n      <div class=\"subTitle\">营业时间</div>\n      <div class=\"inputBox\" style=\"width: 500px\">\n        <el-input placeholder=\"请输入内容\" v-model=\"business\" clearable>\n        </el-input>\n      </div>\n    </div>\n    <div class=\"CI_interval CI_item\">\n      <div class=\"subTitle\">预约时长(已选3个时长)</div>\n      <div class=\"inputBox\">\n        <el-radio v-model=\"interval\" label=\"30\">30分钟</el-radio>\n        <el-radio v-model=\"interval\" label=\"60\">60分钟</el-radio>\n        <el-radio v-model=\"interval\" label=\"90\">60分钟</el-radio>\n      </div>\n    </div>\n    <div class=\"CI_price CI_item\">\n      <div class=\"subTitle\">预约价格</div>\n      <div class=\"inputBox\" style=\"width: 200px\">\n        <el-input placeholder=\"请输入内容\" v-model=\"price\" clearable>\n          <template slot=\"append\">元/分钟</template>\n        </el-input>\n      </div>\n    </div>\n\n    <div class=\"CI_publicDevice CI_item\" v-loading=\"isLoadingPublicDevice\">\n      <div class=\"subTitle\">公共设施(已选{{selectedDevices.length}}个设施)</div>\n      <div class=\"inputBox\">\n        <el-checkbox-group v-model=\"selectedDevices\" @change=\"handleCheckedCitiesChange\">\n          <el-checkbox v-for=\"item in publicDevice\" :label=\"item.id\" :key=\"item.id\">{{item.facilityName}}</el-checkbox>\n        </el-checkbox-group>\n      </div>\n    </div>\n    \n    <div class=\"CI_limit CI_item\">\n      <div class=\"subTitle\">人数限制</div>\n      <div class=\"inputBox\" style=\"width: 160px\">\n        <el-input placeholder=\"请输入内容\" v-model=\"limit\" clearable>\n          <template slot=\"append\">人</template>\n        </el-input>\n      </div>\n    </div>\n\n    <div class=\"saveButton\">\n      <el-button type=\"primary\" @click.native=\"saveBaseInfo\">保存</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex';\n\nexport default {\n  props: {\n    storeId: {\n      type: String\n    }\n  },  \n  data() {\n    return {\n      business: '',\n      interval: '30',\n      price: '',\n      // puliceDevices: ['停车场','免费WIFI','自动售货机','充电宝','储物柜','淋浴','饮水机','按摩椅','租借雨伞'],\n      selectedDevices: [],\n      limit: '',\n      isLoadingPublicDevice: false,\n    };\n  },\n  watch: {\n    selectedDevices(val) {\n      // console.log(val)\n    }\n  },\n  computed: {\n    ...mapState({\n      currentStoreConfig: state => state.store.currentStoreConfig,\n      publicDevice:  state => state.store.publicDevice\n    }),\n    formatFacilitiyIds() {\n      let list = this.selectedDevices.join(',');\n      // console.log('chucuo',list);\n      return list;\n    }\n  },\n  methods: {\n    ...mapActions(['getStoreConfig', 'getPublicDevice', 'updateStoreConfig']),\n    handleCheckedCitiesChange() {\n\n    },\n    mapData(apiData) {\n      this.business = apiData.businessHours;\n      this.interval = apiData.appointmentLength;\n      this.limit = apiData.limitNumber;\n      this.price = apiData.reservationPrice / 100;\n    },\n    getPublic() {\n      this.isLoadingPublicDevice = true;\n      this.getPublicDevice().then( () => {\n        this.isLoadingPublicDevice = false;\n        this.publicDevice.forEach( (item, index) => {\n          this.selectedDevices.push(item.id);\n        }) \n      }).catch( (error) => {\n        // console.log(error);\n        this.isLoadingPublicDevice = false;\n      })\n    },\n    saveBaseInfo() {\n      let price = parseFloat(this.price)\n      if (isNaN(price)) {\n        return this.$notify.error('请输入正确的价格');\n      } \n      this.updateStoreConfig({\n        id: this.currentStoreConfig.id,\n        businessHours: this.business,\n        appointmentLength: this.interval,\n        reservationPrice: price * 100,\n        limitNumber: this.limit,\n        storeInfoId: this.storeId,\n        facilitiesIds: this.formatFacilitiyIds\n      }).then( () => {\n        this.$notify({\n          title: '成功',\n          message: `保存门店[${this.storeId}]配置信息成功`,\n          type: 'success'\n        })\n      }).catch( (message) => {\n        this.$notify.error(message);\n      })\n    }\n  },\n  mounted() {\n    this.$nextTick( () => {\n      this.getPublic();\n      this.getStoreConfig({\n        storeId: this.storeId\n      }).then( () => {\n        this.mapData(this.currentStoreConfig)\n      })\n    })\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.configInfo {\n  width: 100%;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  padding: 20px;\n}\n.configTitle {\n  font-size: 30px;\n  height: 50px;\n  line-height: 50px;\n  border: {\n    bottom: 1px solid #999999;\n  }\n}\n\n.subTitle {\n  padding: {\n    top: 10px;\n    bottom: 10px;\n  }\n}\n.CI_item {\n   box-sizing: border-box;\n   padding: {\n     top: 20px;\n     bottom: 20px;\n   }\n}\n.CI_business {\n  width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/storePart/store/components/ConfigInformation.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"configInfo\"},[_c('div',{staticClass:\"configTitle\"},[_vm._v(\"编辑-配置信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"CI_business CI_item\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"营业时间\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\",staticStyle:{\"width\":\"500px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.business),callback:function ($$v) {_vm.business=$$v},expression:\"business\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"CI_interval CI_item\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"预约时长(已选3个时长)\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-radio',{attrs:{\"label\":\"30\"},model:{value:(_vm.interval),callback:function ($$v) {_vm.interval=$$v},expression:\"interval\"}},[_vm._v(\"30分钟\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"60\"},model:{value:(_vm.interval),callback:function ($$v) {_vm.interval=$$v},expression:\"interval\"}},[_vm._v(\"60分钟\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"90\"},model:{value:(_vm.interval),callback:function ($$v) {_vm.interval=$$v},expression:\"interval\"}},[_vm._v(\"60分钟\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"CI_price CI_item\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"预约价格\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\",staticStyle:{\"width\":\"200px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.price),callback:function ($$v) {_vm.price=$$v},expression:\"price\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元/分钟\")])],2)],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingPublicDevice),expression:\"isLoadingPublicDevice\"}],staticClass:\"CI_publicDevice CI_item\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"公共设施(已选\"+_vm._s(_vm.selectedDevices.length)+\"个设施)\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('el-checkbox-group',{on:{\"change\":_vm.handleCheckedCitiesChange},model:{value:(_vm.selectedDevices),callback:function ($$v) {_vm.selectedDevices=$$v},expression:\"selectedDevices\"}},_vm._l((_vm.publicDevice),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.id}},[_vm._v(_vm._s(item.facilityName))])}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"CI_limit CI_item\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"人数限制\")]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\",staticStyle:{\"width\":\"160px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.limit),callback:function ($$v) {_vm.limit=$$v},expression:\"limit\"}},[_c('template',{slot:\"append\"},[_vm._v(\"人\")])],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"saveButton\"},[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.saveBaseInfo($event)}}},[_vm._v(\"保存\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6da7c969\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/storePart/store/components/ConfigInformation.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6da7c969\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ConfigInformation.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConfigInformation.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConfigInformation.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6da7c969\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ConfigInformation.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6da7c969\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/storePart/store/components/ConfigInformation.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"managerInfo\">\n    <div class=\"managerInfoTitle\">编辑-店长信息</div>\n    <div class=\"selectManager\">\n      <div class=\"subTitle\">选择店长: </div>\n      <el-select v-model=\"selectedManager\" placeholder=\"请选择\">\n        <el-option v-for=\"item in managerList\" :key=\"item.id\" :label=\"item.ownerName\" :value=\"item.id\">\n        </el-option>\n      </el-select>\n    </div>\n    <div class=\"buttonBox\">\n      <el-button type=\"primary\" @click.native=\"binManager\">保存</el-button>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex';\n\nexport default {\n  props: {\n    storeId: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      selectedManager: ''\n    };\n  },\n  computed: {\n    ...mapState({\n      managerList: state => state.store.managerList\n    })\n  },\n  watch: {\n    selectedManager(val) {\n      // console.log(val);\n    }\n  },\n  methods: {\n    ...mapActions(['getManagerList', 'bindManagerForStore']),\n    findManagerById(id) {\n      let arr = this.managerList.filter( (item) => {\n        return item.id === id\n      });\n      return arr[0].ownerName;\n    },\n    binManager() {\n      this.bindManagerForStore({ \n        storeId: this.storeId,\n        managerId: this.selectedManager\n      }).then( () => {\n        this.$notify({\n          title: '成功',\n          message: `门店[${this.storeId}] 绑定店长[${this.findManagerById(this.selectedManager)}]成功`,\n          type: 'success'\n        })\n      })\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      // console.log(this.storeId)\n      this.getManagerList();\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.managerInfo {\n  width: 100%;\n  height: calc(100% - 60px);\n  box-sizing: border-box;\n  padding: 20px;\n  background-color: #ffffff;\n}\n\n.managerInfoTitle {\n  font-size: 30px;\n  height: 50px;\n  line-height: 50px;\n  border: {\n    bottom: 1px solid #999999;\n  }\n}\n\n.selectManager {\n  @include flexbox;\n  @include align-items(center);\n  box-sizing: border-box;\n  width: 100%;\n  padding: {\n    top: 30px;\n  }\n}\n.buttonBox {\n  box-sizing: border-box;\n\n  padding: {\n    top: 40px;\n  }\n}\n.subTitle {\n  height: 40px;\n  line-height: 40px;\n  margin: {\n    right: 20px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/storePart/store/components/ManagerInformation.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"managerInfo\"},[_c('div',{staticClass:\"managerInfoTitle\"},[_vm._v(\"编辑-店长信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"selectManager\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"选择店长: \")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectedManager),callback:function ($$v) {_vm.selectedManager=$$v},expression:\"selectedManager\"}},_vm._l((_vm.managerList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.ownerName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"buttonBox\"},[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.binManager($event)}}},[_vm._v(\"保存\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5357073b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/storePart/store/components/ManagerInformation.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5357073b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ManagerInformation.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ManagerInformation.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ManagerInformation.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5357073b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ManagerInformation.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5357073b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/storePart/store/components/ManagerInformation.vue\n// module id = null\n// module chunks = ","<template>\n  <sub-page v-if=\"mapSubPage[subPageType]\" :mainTitle=\"mapSubPage['baseInfo'].mainTitle\"\n            :subTitle=\"mapSubPage[subPageType].subTitle\"\n            :routeCallback=\"routeCallback\"\n            key=\"2\">\n    <base-information v-if=\"subPageType =='baseInfo'\"\n                      :storeId=\"storeId\"\n                      @refreshData=\"refresh\"></base-information>\n    <config-information v-if=\"subPageType == 'configInfo'\"\n                        :storeId=\"storeId\"></config-information>\n    <manager-information v-if=\"subPageType == 'managerInfo'\"\n                         :storeId=\"storeId\"></manager-information>\n  </sub-page>    \n</template>\n\n<script>\nimport SubPage from 'components/SubPage';\n\nimport BaseInformation from './BaseInformation';\n\nimport ConfigInformation from './ConfigInformation';\n\nimport ManagerInformation from './ManagerInformation';\n\nexport default {\n  components: {\n    SubPage,\n    BaseInformation,\n    ConfigInformation,\n    ManagerInformation\n  },\n  props: {\n    subPageInfo: {\n      type: String\n    }\n  },\n  computed: {\n    subPageType() {\n      let arr = this.subPageInfo.split('=');\n      let type = arr[0];\n      return type;\n    },\n    storeId() {\n      let arr = this.subPageInfo.split('=');\n      let id = arr[1];\n      return id;\n    }\n  },\n  data() {\n    return {\n      mapSubPage: {\n        baseInfo: {\n          mainTitle: '门店管理',\n          subTitle: '编辑基本信息'\n        },\n        configInfo: {\n          mainTitle: '门店管理',\n          subTitle: '编辑配置信息'\n        },\n        managerInfo: {\n          mainTitle: '门店管理',\n          subTitle: '编辑店长信息'\n        }\n      }\n    }\n  },\n  methods: {\n    routeCallback() {\n      this.$router.push({path: '/storePart/store'})\n    },\n    refresh() {\n      this.$emit('refreshStoreList')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/storePart/store/components/StoreSubPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.mapSubPage[_vm.subPageType])?_c('sub-page',{key:\"2\",attrs:{\"mainTitle\":_vm.mapSubPage['baseInfo'].mainTitle,\"subTitle\":_vm.mapSubPage[_vm.subPageType].subTitle,\"routeCallback\":_vm.routeCallback}},[(_vm.subPageType =='baseInfo')?_c('base-information',{attrs:{\"storeId\":_vm.storeId},on:{\"refreshData\":_vm.refresh}}):_vm._e(),_vm._v(\" \"),(_vm.subPageType == 'configInfo')?_c('config-information',{attrs:{\"storeId\":_vm.storeId}}):_vm._e(),_vm._v(\" \"),(_vm.subPageType == 'managerInfo')?_c('manager-information',{attrs:{\"storeId\":_vm.storeId}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79eece0f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/storePart/store/components/StoreSubPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79eece0f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./StoreSubPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StoreSubPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StoreSubPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79eece0f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./StoreSubPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-79eece0f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/storePart/store/components/StoreSubPage.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"protalPage\" v-if=\"isLoadSubPage\">\n    <div class=\"storePage\">\n      <div class=\"title\">\n        门店管理\n      </div>\n      <div class=\"selects\">\n        <!-- 选择器 -->\n        <div class=\"adressSelect\">地区</div>\n        <!-- <el-select v-model=\"value\" placeholder=\"请选择\">\n          <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n          </el-option>\n        </el-select> -->\n        <el-cascader v-model=\"selectedIDs\" :options=\"areaOptions\" @change=\"areaChange\" @active-item-change=\"handleItemChange\" :props=\"areaProps\" :change-on-select=\"false\"></el-cascader>\n        <div class=\"statusSelect\">状态</div>\n        <el-select v-model=\"value\" placeholder=\"请选择\">\n          <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n          </el-option>\n        </el-select>\n\n        <div class=\"searchBar\">\n          <el-input placeholder=\"门店名称,回车搜索\" v-model=\"storeName\" @keyup.enter.native=\"areaChange\">\n            <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\n          </el-input>\n        </div>\n\n        <div class=\"searchBar\">\n          <el-input placeholder=\"门店ID,回车搜索\" v-model=\"storeId\" @keyup.enter.native=\"areaChange\">\n            <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\n          </el-input>\n        </div>\n\n        <div class=\"addStore\">\n          <el-button type=\"primary\" @click.native=\"createStore\" v-permission=\"'6da34d37-4960-41de-9807-ac320846316b'\">新建门店</el-button>\n        </div>\n      </div>\n      <div class=\"tableBox\" v-loading=\"isFetchingData\" v-permission=\"'a7ff4219-447a-4eac-bf30-595fc038f2b1'\">\n        <store-table :tableData=\"storeList\"\n                     :currentPage=\"currentPage4\"\n                     :currentSize=\"curPageSize\"></store-table>\n        <div class=\"paginationBox\">\n          <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage4\" :page-sizes=\"pageSizes\" :page-size=\"curPageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"curTotal\">\n          </el-pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n  <store-sub-page v-else :subPageInfo=\"routeQuery\" @refreshStoreList=\"areaChange\"></store-sub-page>\n</template>\n\n<script>\nimport StoreTable from './components/StoreTable';\n\nimport StoreSubPage from './components/StoreSubPage';\n\nimport { mapState, mapActions, mapMutations } from 'vuex';\n\nimport { deepCopy } from 'common/utils';\n\nexport default {\n  components: {\n    StoreTable,\n    StoreSubPage\n  },\n  data() {\n    return {\n      currentPage4: 1,\n      pageSizes: [10, 20, 30, 40],\n      curPageSize: 10,\n      curTotal: 5,\n      level0: 0,\n      level1: 0,\n      level2: 0,\n      selectedIDs: ['all'],\n      options: [\n        {\n          value: 'all',\n          label: '全部'\n        },\n        {\n          value: '1',\n          label: '未营业'\n        },\n        {\n          value: '2',\n          label: '营业'\n        }\n      ],\n      value: 'all',\n      storeName: '',\n      storeId: '',\n      options2: [\n        {\n          province: '全部',\n          id: 'all',\n          cities: [\n            {\n              id: 2,\n              province: '次级1',\n              cities: [\n                {\n                  id: 3,\n                  province: '次次级1'\n                }\n              ]\n            }\n          ]\n        }\n      ],\n      areaOptions: [],\n      areaProps: {\n        value: 'id',\n        children: 'cities',\n        label: 'value'\n      }\n    };\n  },\n  computed: {\n    ...mapState({\n      storeList: state => state.store.storeList,\n      total: state => state.store.total,\n      pageSize: state => state.store.pageSize,\n      pageNum: state => state.store.pageNum,\n      areaList: state => state.store.areaList,\n      isFetchingData: state => state.store.isFetchingData\n    }),\n    routeQuery() {\n      return (\n        Object.keys(this.$route.query)[0] +\n        '=' +\n        this.$route.query[Object.keys(this.$route.query)[0]]\n      );\n    },\n    isLoadSubPage() {\n      if (Object.keys(this.$route.query)[0]) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  },\n  watch: {\n    selectedIDs(val) {\n      this.setAreaIds(val);\n    },\n    value() {\n      this.getStoreList(this.createParams()).then(() => {\n        this.mapPagination();\n      });\n    }\n    // storeName() {\n    //   this.getStoreList(this.createParams()).then(() => {\n    //     this.mapPagination();\n    //   });\n    // }\n  },\n  methods: {\n    ...mapMutations(['setAreaIds']),\n    ...mapActions(['getStoreList', 'getAreaDropDown']),\n    findIndexById(id, array) {\n      for (let index in array) {\n        if (array[index].id === id) {\n          return index;\n        }\n      }\n      return 'Nofound';\n    },\n    createAreaList(res, level) {\n      let list = [];\n      res.forEach((item, index) => {\n        let obj = {};\n        if (level === 0) {\n          obj.value = item.province;\n        }\n        if (level === 1) {\n          obj.value = item.city;\n        }\n        if (level === 2) {\n          obj.value = item.district;\n        }\n        obj.id = item.id;\n        list.push(obj);\n      });\n      return list;\n    },\n    handleSizeChange(val) {\n      // console.log(`每页 ${val} 条`);\n      this.curPageSize = val;\n      this.getStoreList({\n        page: this.currentPage4,\n        size: this.curPageSize\n      }).then(() => {\n        this.mapPagination();\n      });\n    },\n    handleCurrentChange(val) {\n      // console.log(`当前页: ${val}`);\n      this.currentPage4 = val;\n      this.getStoreList({\n        page: this.currentPage4,\n        size: this.curPageSize\n      }).then(() => {\n        this.mapPagination();\n      });\n    },\n    areaChange(val) {\n      this.getStoreList(this.createParams()).then(() => {\n        this.mapPagination();\n      });\n    },\n    handleItemChange(val) {\n      let level = val.length;\n      let id = val[level - 1];\n      let result;\n      if (level === 1) {\n        this.level0 = this.findIndexById(id, this.areaOptions); // 第一级\n        result = this.level0;\n        if (this.areaOptions[result].cities.length > 0) {\n          // 第二级cities已有 不再重复请求\n          return;\n        }\n      }\n      if (level === 2) {\n        this.level1 = this.findIndexById(\n          id,\n          this.areaOptions[this.level0].cities\n        ); // 第二级\n        result = this.level1;\n        if (this.areaOptions[this.level0].cities[result].cities.length > 0) {\n          // 第三级cities已有 不再重复请求\n          return;\n        }\n      }\n      this.getAreaDropDown({\n        id: id\n      }).then(res => {\n        let list = this.createAreaList(res, level); // 格式化下拉列表\n        if (level === 1) {\n          this.areaOptions[result].cities = list;\n        }\n        if (level === 2) {\n          let newObj = Object.assign(\n            {},\n            this.areaOptions[this.level0].cities[result],\n            { cities: list }\n          );\n          this.$set(this.areaOptions[this.level0].cities, result, newObj);\n          // this.areaOptions[this.level0].cities[result].cities = list;\n        }\n        if (level < 2) {\n          this.setEmptyCities(this.areaOptions[result].cities);\n        }\n      });\n      // console.log(val)\n    },\n    setEmptyCities(array) {\n      for (let item of array) {\n        item.cities = [];\n      }\n    },\n    mapPagination() {\n      this.currentPage4 = this.pageNum;\n      this.curTotal = this.total;\n      this.curPageSize = this.pageSize;\n    },\n    createStore() {\n      this.$router.push({ path: '/storePart/store?baseInfo' });\n    },\n    createParams() {\n      let params = {};\n      if (this.value !== 'all') {\n        params.businessStatus = this.value;\n      }\n      if (this.selectedIDs.length > 1) {\n        params.provinceId = this.selectedIDs[0];\n        params.cityId = this.selectedIDs[1];\n        params.districtId = this.selectedIDs[2];\n      }\n      if (this.storeName) {\n        params.storeName = this.storeName;\n      }\n      if (this.storeId) {\n        params.storeId = this.storeId;\n      }\n      params.page = this.currentPage4;\n      params.size = this.curPageSize;\n      return params;\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    next( vm => {\n      vm.$nextTick( () => {\n        vm.getStoreList(vm.createParams()).then(() => {\n        vm.mapPagination();\n      });\n      });\n    })\n  },\n  mounted() {\n    this.$nextTick(() => {\n       this.getStoreList(this.createParams()).then(() => {\n        this.mapPagination();\n      });\n\n      this.getAreaDropDown({\n        id: 'all'\n      }).then(res => {\n        let list = this.createAreaList(res, 0);\n        this.setEmptyCities(list);\n        list.unshift({\n          id: 'all',\n          value: '全部'\n        });\n        this.areaOptions = list;\n      });\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.storePage {\n  background-color: #ffffff;\n  width: 100%;\n  min-height: 100%;\n  box-sizing: border-box;\n  padding: 20px;\n  .title {\n    font-size: 30px;\n    height: 50px;\n    line-height: 50px;\n    border: {\n      bottom: 1px solid #999999;\n    }\n  }\n  .selects {\n    @include flexbox;\n    @include align-items(center);\n    padding: {\n      top: 20px;\n    }\n  }\n  .adressSelect {\n    line-height: 40px;\n    padding: {\n      right: 10px;\n    }\n  }\n  .statusSelect {\n    line-height: 40px;\n    padding: {\n      left: 10px;\n      right: 10px;\n    }\n  }\n  .searchBar {\n    width: 200px;\n    margin: {\n      left: 20px;\n      right: 10px;\n    }\n  }\n  .tableBox {\n    width: 100%;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/storePart/store/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoadSubPage)?_c('div',{staticClass:\"protalPage\"},[_c('div',{staticClass:\"storePage\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      门店管理\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"selects\"},[_c('div',{staticClass:\"adressSelect\"},[_vm._v(\"地区\")]),_vm._v(\" \"),_c('el-cascader',{attrs:{\"options\":_vm.areaOptions,\"props\":_vm.areaProps,\"change-on-select\":false},on:{\"change\":_vm.areaChange,\"active-item-change\":_vm.handleItemChange},model:{value:(_vm.selectedIDs),callback:function ($$v) {_vm.selectedIDs=$$v},expression:\"selectedIDs\"}}),_vm._v(\" \"),_c('div',{staticClass:\"statusSelect\"},[_vm._v(\"状态\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})),_vm._v(\" \"),_c('div',{staticClass:\"searchBar\"},[_c('el-input',{attrs:{\"placeholder\":\"门店名称,回车搜索\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.areaChange($event)}},model:{value:(_vm.storeName),callback:function ($$v) {_vm.storeName=$$v},expression:\"storeName\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"searchBar\"},[_c('el-input',{attrs:{\"placeholder\":\"门店ID,回车搜索\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.areaChange($event)}},model:{value:(_vm.storeId),callback:function ($$v) {_vm.storeId=$$v},expression:\"storeId\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"addStore\"},[_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('6da34d37-4960-41de-9807-ac320846316b'),expression:\"'6da34d37-4960-41de-9807-ac320846316b'\"}],attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.createStore($event)}}},[_vm._v(\"新建门店\")])],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isFetchingData),expression:\"isFetchingData\"},{name:\"permission\",rawName:\"v-permission\",value:('a7ff4219-447a-4eac-bf30-595fc038f2b1'),expression:\"'a7ff4219-447a-4eac-bf30-595fc038f2b1'\"}],staticClass:\"tableBox\"},[_c('store-table',{attrs:{\"tableData\":_vm.storeList,\"currentPage\":_vm.currentPage4,\"currentSize\":_vm.curPageSize}}),_vm._v(\" \"),_c('div',{staticClass:\"paginationBox\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage4,\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.curPageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.curTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)])]):_c('store-sub-page',{attrs:{\"subPageInfo\":_vm.routeQuery},on:{\"refreshStoreList\":_vm.areaChange}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c7edeb4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/storePart/store/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c7edeb4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c7edeb4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c7edeb4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/storePart/store/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}