webpackJsonp([40],{"l5Y/":function(e,t,a){"use strict";t.d=function(e){return i.a.post("admin/Jurisdiction/getListByParamRole",e)},t.a=function(e){return i.a.post("admin/Jurisdiction/addRole",e)},t.f=function(e){return i.a.post("admin/Jurisdiction/updateRole",e)},t.e=function(e){return i.a.post("admin/Jurisdiction/delRole",e)},t.c=function(e){return i.a.post("admin/Jurisdiction/getRolePermissionMenuList",e)},t.b=function(){return i.a.post("admin/Jurisdiction/getMenuList",{isAllMenu:1})};var i=a("RyKi")},"uJ/Z":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("l5Y/"),n={name:"role",data:function(){return{currentPage:1,currentSize:10,curTotal:0,roleList:[]}},methods:{remove:function(e){var t=this;confirm("确认要删除吗?")&&Object(i.e)({id:e.id,adminId:this.$store.state.auth.userInformation.id}).then(function(e){200==e.data.code?(t.$notify.success("删除成功"),t.fetchRole()):t.$notify.error(e.data.message||"删除失败, 请重试")}).catch(function(){t.$notify.error("删除失败, 请重试")})},addRole:function(){this.$router.push({path:"/system/roleConfig"})},edit:function(e){this.$router.push({path:"/system/roleConfig?id="+e.id+"&roleName="+e.roleName})},handleSizeChange:function(e){this.currentSize=e,this.fetchRole()},handleCurrentChange:function(e){this.currentPage=e,this.fetchRole()},mapPagination:function(e){this.currentPage=e.pageNum<1?1:e.pageNum,this.currentSize=e.pageSize,this.curTotal=e.total},fetchRole:function(){var e=this;Object(i.d)({page:this.currentPage,size:this.currentSize}).then(function(t){e.roleList=t.data.data.list,e.mapPagination(t.data.data)})}},mounted:function(){var e=this;this.$nextTick(function(){e.fetchRole()})}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box protalPage"},[a("div",{staticClass:"wraper"},[a("div",{staticClass:"title"},[e._v("\n      角色管理\n    ")]),e._v(" "),a("div",{staticClass:"sportOrderTop"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"6f3438b4-96ec-4794-abac-dabc78ef4843",expression:"'6f3438b4-96ec-4794-abac-dabc78ef4843'"}],attrs:{type:"primary"},on:{click:e.addRole}},[e._v("添加角色")])],1),e._v(" "),a("div",{directives:[{name:"permission",rawName:"v-permission",value:"f3ea16e1-e31a-46e4-9a8f-1e153f4fbad9",expression:"'f3ea16e1-e31a-46e4-9a8f-1e153f4fbad9'"}],staticClass:"sportOrderBotom"},[a("div",{staticStyle:{width:"100%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roleList}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isValid",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(1==t.row.isValid?"启用":2==t.row.isValid?"禁用":"")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"userNum",label:"成员"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!=t.row.isAdmin&&1==e.$store.state.auth.userInformation.isAdmin?a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"e821486a-dfa2-4b49-8e52-558f6347cc1f",expression:"'e821486a-dfa2-4b49-8e52-558f6347cc1f'"}],attrs:{type:"primary",plain:""},on:{click:function(a){e.edit(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),1!=t.row.isAdmin&&1==e.$store.state.auth.userInformation.isAdmin?a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"7e729643-bdbd-4d57-9d3e-584e77da02c8",expression:"'7e729643-bdbd-4d57-9d3e-584e77da02c8'"}],attrs:{type:"danger",plain:""},on:{click:function(a){e.remove(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.currentSize,layout:"total, sizes, prev, pager, next, jumper",total:e.curTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])])},staticRenderFns:[]};var s=a("VU/8")(n,r,!1,function(e){a("zx81")},"data-v-03130366",null);t.default=s.exports},zx81:function(e,t){}});
//# sourceMappingURL=40.044acd1fde5f6f0cb703.js.map