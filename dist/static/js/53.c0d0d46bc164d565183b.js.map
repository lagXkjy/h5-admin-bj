{"version":3,"sources":["webpack:///src/pages/training/newPlan/CourseConfig.vue","webpack:///./src/pages/training/newPlan/CourseConfig.vue?329e","webpack:///./src/pages/training/newPlan/CourseConfig.vue"],"names":["CourseConfig","SubTitle","length","planCourseId","done","fetchCourses","fetchAllCourses","addCourse","_this","this","planBodyTypeCourseBindId","then","res","_this2","trainingPlanTypeId","planBodyTypeId","currentSelectedCourse","id","type","planName","planPart","planTypeId","bodyIds","stringify_default","$route","query","split","map","item","courseName","courseId","params","_this3","list","resolve","catch","reject","_this4","strengthId","data","_this5","createParams","format","bodies","planBodyName","_this6","initData","_this7","newPlan_CourseConfig","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","staticStyle","padding-bottom","_s","trainingType","trainingName","trainingPart","height","directives","name","rawName","value","expression","on","tab-click","handleClick","model","callback","$$v","_l","index","key","label","strengthLv","width","courseList","prop","scopedSlots","_u","fn","scope","row","courseDetailByRankVos","sportType","stretchExercise","_e","facilityItem","facilityIndex","facilityName","color","unitItem","unitIndex","unitValue","unitSymbol","plain","click","$event","editType","margin-left","removeType","courseNum","visible","dialogVisible","center","before-close","handleClose","update:visible","margin-right","placeholder","jumpToCourse","ref","dialog_courses","selection-change","handleSelectionChange","border","change","getCurrentSelect","courseIdList","includes","slot","confirmUpdate","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/53.c0d0d46bc164d565183b.js","sourcesContent":["<template>\n  <div class=\"courseConfigPage\">\n    <div class=\"trainingPlan\">\n      <sub-title title=\"训练计划\"></sub-title>\n      <div class=\"planDetail\">\n        <div style=\"padding-bottom: 10px\">训练类型: {{trainingType}}</div>\n        <div style=\"padding-bottom: 10px\">训练名称: {{trainingName}}</div>\n        <div>训练部位: {{trainingPart}}</div>\n      </div>\n    </div>\n\n    <div class=\"courseContent\">\n      <sub-title title=\"课程内容\"></sub-title>\n      <div style=\"height: 30px;\"></div>\n      <el-tabs v-model=\"strengthId\" type=\"card\" @tab-click=\"handleClick\" v-loading=\"isLoadingCourses\">\n        <el-tab-pane v-for=\"(item, index) in strengthList\" :key=\"index\" :label=\"item.strengthLv\" :name=\"item.id + ''\">\n          <el-table :data=\"courseList\" style=\"width: 100%\">\n            <el-table-column label=\"课程ID\" prop=\"planCourseId\" width=\"80\">\n            </el-table-column>\n            <el-table-column label=\"课程名称\" prop=\"name\">\n            </el-table-column>\n            <el-table-column label=\"训练基础值\" prop=\"typeDesc\">\n              <template slot-scope=\"scope\">\n                <div v-for=\"(item, index) in scope.row.courseDetailByRankVos[0].planCourseSportVos\" :key=\"index\">\n                  {{index + 1}}.{{item.sportType == 3 ? '拉伸运动' : item.sportType == 1 ? '无氧运动' : item.sportType == 2 ? '有氧运动' : '' }}:\n                  <span v-if=\"item.stretchExercise\">{{item.stretchExercise.name}}</span>\n                  <span v-if=\"item.facilityTypeUnitVoList\">\n                    <span v-for=\"(facilityItem, facilityIndex) in item.facilityTypeUnitVoList\" :key=\"facilityIndex\">\n                      #{{facilityItem.facilityName}}#\n                      <span style=\"color: blue\">(\n                        <span v-for=\"(unitItem, unitIndex) in facilityItem.unitInfoVoList\" :key=\"unitIndex\">\n                          {{unitItem.unitValue}}{{unitItem.unitSymbol}};\n                        </span> )</span>\n                    </span>\n                  </span>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column :label=\"item.strengthLv\" prop=\"typeDesc\">\n              <template slot-scope=\"scope\">\n                <div v-for=\"(item, index) in scope.row.courseDetailByRankVos[1].planCourseSportVos\" :key=\"index\">\n                  {{index + 1}}.{{item.sportType == 3 ? '拉伸运动' : item.sportType == 1 ? '无氧运动' : item.sportType == 2 ? '有氧运动' : '' }}:\n                  <span v-if=\"item.stretchExercise\">{{item.stretchExercise.name}}</span>\n                  <span v-if=\"item.facilityTypeUnitVoList\">\n                    <span v-for=\"(facilityItem, facilityIndex) in item.facilityTypeUnitVoList\" :key=\"facilityIndex\">\n                      #{{facilityItem.facilityName}}#\n                      <span style=\"color: blue\">(\n                        <span v-for=\"(unitItem, unitIndex) in facilityItem.unitInfoVoList\" :key=\"unitIndex\">\n                          {{unitItem.unitValue}}{{unitItem.unitSymbol}};\n                        </span> )</span>\n                    </span>\n                  </span>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"训练部位\" prop=\"bodies\">\n              <template slot-scope=\"scope\">\n                <span v-for=\"(item, index) in scope.row.bodies\" :key=\"index\">\n                  #{{item.planBodyName}}# &nbsp;&nbsp;\n                </span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" prop=\"time\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"primary\" plain @click=\"editType(scope.row)\">编辑</el-button>\n                <el-button type=\"danger\" plain @click=\"removeType(scope.row)\" style=\"margin-left: 0\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n    <div class=\"bottom_add\">\n      <div>已添加{{courseNum}}天课程</div>\n      <el-button type=\"primary\" @click=\"addCourse\">+添加课程</el-button>\n    </div>\n\n    <el-dialog title=\"添加课程\" :visible.sync=\"dialogVisible\" width=\"70%\" center :before-close=\"handleClose\">\n      <div class=\"dialog_trainingType\">\n        <el-input placeholder=\"搜索课程ID\" v-model=\"courseId\" style=\"width: 200px;margin-right: 10px\"></el-input>\n        <el-input placeholder=\"搜索课程名称\" v-model=\"courseName\" style=\"width: 200px;margin-right:10px\"></el-input>\n        <el-button @click=\"fetchAllCourses\">搜索</el-button>\n        <el-button type=\"primary\" plain @click=\"jumpToCourse\">去课程库</el-button>\n      </div>\n\n      <el-table :data=\"dialog_courses\" style=\"width: 100%\" v-loading=\"isLoadingAllCourses\" @selection-change=\"handleSelectionChange\" ref=\"multipleTable\">\n        <el-table-column label=\"ID\" prop=\"planCourseId\">\n        </el-table-column>\n        <el-table-column label=\"课程名称\" prop=\"name\">\n        </el-table-column>\n        <el-table-column label=\"训练基础值\" prop=\"displayStatus\">\n          <template slot-scope=\"scope\">\n            <div v-for=\"(item, index) in scope.row.courseSportVoList\" :key=\"index\">\n              {{index + 1}}.{{item.sportType == 3 ? '拉伸运动' : item.sportType == 1 ? '有氧运动' : item.sportType == 2 ? '无氧运动' : '' }}:\n              <span v-if=\"item.stretchExercise\">{{item.stretchExercise.name}}</span>\n              <span v-if=\"item.facilityTypeUnitVoList\">\n                <span v-for=\"(facilityItem, facilityIndex) in item.facilityTypeUnitVoList\" :key=\"facilityIndex\">\n                  #{{facilityItem.facilityName}}#\n                  <span style=\"color: blue\">(\n                    <span v-for=\"(unitItem, unitIndex) in facilityItem.unitInfoVoList\" :key=\"unitIndex\">\n                      {{unitItem.unitValue}}{{unitItem.unitSymbol}};\n                    </span> )</span>\n                </span>\n              </span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"训练部位\" prop=\"bodyNames\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-radio v-model=\"currentSelectedCourse\" :label=\"scope.row.\n            planCourseId\" border @change=\"getCurrentSelect\">选择</el-radio>\n            <div v-if=\"courseIdList.includes(scope.row.planCourseId)\">已在课程中</div>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirmUpdate\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport SubTitle from 'components/SubTitle';\n\nimport { getTrainingCourseList, getCoursesAll, updatePlanCourseBind, removePlanCourse } from 'api/training/newPlan';\n\nimport { getPlanRank } from 'api/training/trainingLevel';\n\nexport default {\n  data() {\n    return {\n      strengthId: '1',\n      strengthList: [],\n      courseList: [],\n      dialogVisible: false,\n      courseId: '',\n      courseName: '',\n      trainingType: '',\n      trainingName: '',\n      trainingPart: '',\n      trainingPlanTypeId: '',\n      bodyIds: '',\n      planBodyTypeId: 0,\n      isLoadingCourses: false,\n      isLoadingAllCourses: false,\n      dialog_courses: [],\n      selectedCourses: [],\n      currentSelectedCourse: ''\n    };\n  },\n  components: {\n    SubTitle\n  },\n  computed: {\n    courseNum() {\n      return this.courseList.length;\n    },\n    courseIdList() {\n      return this.courseList.map(item => item.planCourseId)\n    }\n  },\n  methods: {\n    getCurrentSelect(val) {\n      // console.log(val);\n    },\n    jumpToCourse() {\n      this.dialogVisible = false;\n      this.$router.push({ path: '/training/course' });\n    },\n    handleSelectionChange(val) {\n      this.selectedCourses = val.map(item => item.planCourseId);\n    },\n    handleClose(done) {\n      done();\n    },\n    handleClick(tab) {\n      // console.log(tab)\n      this.fetchCourses();\n    },\n    addCourse() {\n      this.dialogVisible = true;\n      this.fetchAllCourses();\n    },\n    editType() {\n      this.addCourse();\n    },\n    removeType(row) {\n      if (confirm('确认删除吗?')) {\n        removePlanCourse({\n          id: row.planBodyTypeCourseBindId\n        }).then( (res) => {\n          if (res.data.code == 200) {\n            this.$notify.success('删除成功');\n            this.fetchCourses();\n            return;\n          } else {\n             this.$notify.error('删除失败');\n          }\n        }).catch( () => {\n          this.$notify.error('删除失败');\n        })\n      }\n    },\n    confirmUpdate() {\n      this.dialogVisible = false;\n      updatePlanCourseBind({\n        planTypeId: this.trainingPlanTypeId,\n        planBodyTypeId: this.planBodyTypeId,\n        planCourseId: this.currentSelectedCourse\n      }).then( (res) => {\n        if ( res.data.code == 200) {\n          this.$notify.success('绑定课程成功');\n          this.fetchCourses();\n          return;\n        } else {\n          this.$notify.error('绑定课程失败');\n        }\n      }).catch( () => {\n        this.$notify.error('绑定课程失败');\n      })\n    },\n    initData() {\n      this.planBodyTypeId = this.$route.query.id;\n      this.trainingType = this.$route.query.type;\n      this.trainingName = this.$route.query.planName;\n      this.trainingPart = this.$route.query.planPart;\n      this.trainingPlanTypeId = this.$route.query.planTypeId\n      this.bodyIds = this.$route.query.bodyIds\n        ? JSON.stringify(\n            this.$route.query.bodyIds.split('-').map(item => parseInt(item))\n          )\n        : '';\n      // console.log(this.bodyIds);\n    },\n    createParams() {\n      let params = {};\n      if (this.courseName) {\n        params.courseName = this.courseName;\n      }\n      if (this.courseId) {\n        params.courseId = this.courseId;\n      }\n      params.planBodyIds = this.bodyIds;\n      return params;\n    },\n    fetchRank() {\n      return new Promise((resolve, reject) => {\n        getPlanRank({ page: 1, size: 100 })\n          .then(res => {\n            this.strengthId = res.data.data.list[0].id + '';\n            this.strengthList = res.data.data.list;\n            resolve();\n          })\n          .catch(() => {\n            reject();\n          });\n      });\n    },\n    fetchCourses() {\n      this.isLoadingCourses = true;\n      getTrainingCourseList({\n        planBodyTypeId: this.planBodyTypeId,\n        // courseId: 6,\n        rankId: this.strengthId\n      })\n        .then(res => {\n          this.courseList = res.data.data;\n          this.isLoadingCourses = false;\n        })\n        .catch(() => {\n          this.isLoadingCourses = false;\n        });\n    },\n    fetchAllCourses() {\n      this.isLoadingAllCourses = true;\n      getCoursesAll(this.createParams())\n        .then(res => {\n          res.data.data.list.forEach((item, index) => {\n\n            item.createTime = this.moment(item.createTime).format(\n              'YYYY-MM-DD HH:mm:ss'\n            );\n            item.bodyNames = item.bodies\n              .map(item => item.planBodyName)\n              .join(';');\n            item.isSelected = item.planBodyTypeId\n          });\n          this.dialog_courses = res.data.data.list;\n          this.isLoadingAllCourses = false;\n        })\n        .catch(() => {\n          this.isLoadingAllCourses = false;\n        });\n    }\n  },\n  watch: {\n    $route() {\n      this.initData();\n      this.fetchRank().then(() => {\n        this.fetchCourses();\n      });\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.initData();\n      this.fetchRank().then(() => {\n        this.fetchCourses();\n      });\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.courseConfigPage {\n  box-sizing: border-box;\n  padding: 20px;\n  width: 100%;\n}\n\n.trainingPlan {\n  box-sizing: border-box;\n  padding: 20px;\n  border: 1px solid #e5e5e5;\n  margin: {\n    bottom: 20px;\n  }\n  .planDetail {\n    padding: 10px;\n    background-color: #e5e5e5;\n    margin: {\n      top: 20px;\n    }\n  }\n}\n\n.courseContent {\n  box-sizing: border-box;\n  padding: 20px;\n  border: 1px solid #e5e5e5;\n  min-height: 200px;\n}\n\n.bottom_add {\n  background-color: #999999;\n  height: 60px;\n  @include flexbox;\n  @include align-items(center);\n  @include justify-content(space-between);\n  box-sizing: border-box;\n  padding: {\n    left: 20px;\n    right: 20px;\n  }\n}\n\n.dialog_trainingType {\n  @include flexbox;\n  @include align-items(center);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/training/newPlan/CourseConfig.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"courseConfigPage\"},[_c('div',{staticClass:\"trainingPlan\"},[_c('sub-title',{attrs:{\"title\":\"训练计划\"}}),_vm._v(\" \"),_c('div',{staticClass:\"planDetail\"},[_c('div',{staticStyle:{\"padding-bottom\":\"10px\"}},[_vm._v(\"训练类型: \"+_vm._s(_vm.trainingType))]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-bottom\":\"10px\"}},[_vm._v(\"训练名称: \"+_vm._s(_vm.trainingName))]),_vm._v(\" \"),_c('div',[_vm._v(\"训练部位: \"+_vm._s(_vm.trainingPart))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"courseContent\"},[_c('sub-title',{attrs:{\"title\":\"课程内容\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"30px\"}}),_vm._v(\" \"),_c('el-tabs',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingCourses),expression:\"isLoadingCourses\"}],attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.strengthId),callback:function ($$v) {_vm.strengthId=$$v},expression:\"strengthId\"}},_vm._l((_vm.strengthList),function(item,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":item.strengthLv,\"name\":item.id + ''}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.courseList}},[_c('el-table-column',{attrs:{\"label\":\"课程ID\",\"prop\":\"planCourseId\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"课程名称\",\"prop\":\"name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"训练基础值\",\"prop\":\"typeDesc\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.courseDetailByRankVos[0].planCourseSportVos),function(item,index){return _c('div',{key:index},[_vm._v(\"\\n                \"+_vm._s(index + 1)+\".\"+_vm._s(item.sportType == 3 ? '拉伸运动' : item.sportType == 1 ? '无氧运动' : item.sportType == 2 ? '有氧运动' : '')+\":\\n                \"),(item.stretchExercise)?_c('span',[_vm._v(_vm._s(item.stretchExercise.name))]):_vm._e(),_vm._v(\" \"),(item.facilityTypeUnitVoList)?_c('span',_vm._l((item.facilityTypeUnitVoList),function(facilityItem,facilityIndex){return _c('span',{key:facilityIndex},[_vm._v(\"\\n                    #\"+_vm._s(facilityItem.facilityName)+\"#\\n                    \"),_c('span',{staticStyle:{\"color\":\"blue\"}},[_vm._v(\"(\\n                      \"),_vm._l((facilityItem.unitInfoVoList),function(unitItem,unitIndex){return _c('span',{key:unitIndex},[_vm._v(\"\\n                        \"+_vm._s(unitItem.unitValue)+_vm._s(unitItem.unitSymbol)+\";\\n                      \")])}),_vm._v(\" )\")],2)])})):_vm._e()])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":item.strengthLv,\"prop\":\"typeDesc\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.courseDetailByRankVos[1].planCourseSportVos),function(item,index){return _c('div',{key:index},[_vm._v(\"\\n                \"+_vm._s(index + 1)+\".\"+_vm._s(item.sportType == 3 ? '拉伸运动' : item.sportType == 1 ? '无氧运动' : item.sportType == 2 ? '有氧运动' : '')+\":\\n                \"),(item.stretchExercise)?_c('span',[_vm._v(_vm._s(item.stretchExercise.name))]):_vm._e(),_vm._v(\" \"),(item.facilityTypeUnitVoList)?_c('span',_vm._l((item.facilityTypeUnitVoList),function(facilityItem,facilityIndex){return _c('span',{key:facilityIndex},[_vm._v(\"\\n                    #\"+_vm._s(facilityItem.facilityName)+\"#\\n                    \"),_c('span',{staticStyle:{\"color\":\"blue\"}},[_vm._v(\"(\\n                      \"),_vm._l((facilityItem.unitInfoVoList),function(unitItem,unitIndex){return _c('span',{key:unitIndex},[_vm._v(\"\\n                        \"+_vm._s(unitItem.unitValue)+_vm._s(unitItem.unitSymbol)+\";\\n                      \")])}),_vm._v(\" )\")],2)])})):_vm._e()])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"训练部位\",\"prop\":\"bodies\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.bodies),function(item,index){return _c('span',{key:index},[_vm._v(\"\\n                #\"+_vm._s(item.planBodyName)+\"#   \\n              \")])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"prop\":\"time\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.editType(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"0\"},attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){_vm.removeType(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)}))],1),_vm._v(\" \"),_c('div',{staticClass:\"bottom_add\"},[_c('div',[_vm._v(\"已添加\"+_vm._s(_vm.courseNum)+\"天课程\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addCourse}},[_vm._v(\"+添加课程\")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加课程\",\"visible\":_vm.dialogVisible,\"width\":\"70%\",\"center\":\"\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"dialog_trainingType\"},[_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"搜索课程ID\"},model:{value:(_vm.courseId),callback:function ($$v) {_vm.courseId=$$v},expression:\"courseId\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"搜索课程名称\"},model:{value:(_vm.courseName),callback:function ($$v) {_vm.courseName=$$v},expression:\"courseName\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.fetchAllCourses}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.jumpToCourse}},[_vm._v(\"去课程库\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingAllCourses),expression:\"isLoadingAllCourses\"}],ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dialog_courses},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"prop\":\"planCourseId\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"课程名称\",\"prop\":\"name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"训练基础值\",\"prop\":\"displayStatus\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.courseSportVoList),function(item,index){return _c('div',{key:index},[_vm._v(\"\\n            \"+_vm._s(index + 1)+\".\"+_vm._s(item.sportType == 3 ? '拉伸运动' : item.sportType == 1 ? '有氧运动' : item.sportType == 2 ? '无氧运动' : '')+\":\\n            \"),(item.stretchExercise)?_c('span',[_vm._v(_vm._s(item.stretchExercise.name))]):_vm._e(),_vm._v(\" \"),(item.facilityTypeUnitVoList)?_c('span',_vm._l((item.facilityTypeUnitVoList),function(facilityItem,facilityIndex){return _c('span',{key:facilityIndex},[_vm._v(\"\\n                #\"+_vm._s(facilityItem.facilityName)+\"#\\n                \"),_c('span',{staticStyle:{\"color\":\"blue\"}},[_vm._v(\"(\\n                  \"),_vm._l((facilityItem.unitInfoVoList),function(unitItem,unitIndex){return _c('span',{key:unitIndex},[_vm._v(\"\\n                    \"+_vm._s(unitItem.unitValue)+_vm._s(unitItem.unitSymbol)+\";\\n                  \")])}),_vm._v(\" )\")],2)])})):_vm._e()])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"训练部位\",\"prop\":\"bodyNames\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-radio',{attrs:{\"label\":scope.row.\n          planCourseId,\"border\":\"\"},on:{\"change\":_vm.getCurrentSelect},model:{value:(_vm.currentSelectedCourse),callback:function ($$v) {_vm.currentSelectedCourse=$$v},expression:\"currentSelectedCourse\"}},[_vm._v(\"选择\")]),_vm._v(\" \"),(_vm.courseIdList.includes(scope.row.planCourseId))?_c('div',[_vm._v(\"已在课程中\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmUpdate}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72cdc87e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/training/newPlan/CourseConfig.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72cdc87e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CourseConfig.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CourseConfig.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CourseConfig.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72cdc87e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CourseConfig.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-72cdc87e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/training/newPlan/CourseConfig.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}