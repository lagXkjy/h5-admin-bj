webpackJsonp([48],{"2ePS":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("woOf"),n=i.n(a),o=i("0LZo"),r=i("Y2va"),s=i("EfP4"),c={data:function(){return{facility_aerobic:[],facility_anaerobic:[],dialogVisible:!1,selectedMainPart:[],selectedMinorPart:[],editingItem:{}}},watch:{selectedMainPart:function(t){}},components:{SubTitle:o.a},methods:{handleClose:function(t){this.selectedMainPart=[],this.selectedMinorPart=[],t()},edit:function(t){var e=this;this.editingItem=t,this.selectedMainPart=t.mainBodyList?t.mainBodyList.map(function(t){return t.id}):[],this.selectedMinorPart=t.minorBodyList?t.minorBodyList.map(function(t){return t.id}):[],this.dialogVisible=!0,Object(s.a)({page:1,size:100}).then(function(t){e.editingItem=n()({},e.editingItem,{mainPart:t.data.data.list.concat()}),e.editingItem=n()({},e.editingItem,{minorPart:t.data.data.list.concat()})})},fetchFacility_anaerobic:function(){var t=this;Object(r.b)({facilityKind:1}).then(function(e){e.data.data.forEach(function(t,e){var i=t.mainBodyList?t.mainBodyList.map(function(t){return t.name}).join("、"):"无",a=t.minorBodyList?t.minorBodyList.map(function(t){return t.name}).join("、"):"无";t.parts={mainParts:i,minorParts:a}}),t.facility_anaerobic=e.data.data})},fetchFacility_aerobic:function(){var t=this;Object(r.b)({facilityKind:2}).then(function(e){e.data.data.forEach(function(t,e){var i=t.mainBodyList?t.mainBodyList.map(function(t){return t.name}).join("、"):"无",a=t.minorBodyList?t.minorBodyList.map(function(t){return t.name}).join("、"):"无";t.parts={mainParts:i,minorParts:a}}),t.facility_aerobic=e.data.data})},confirmUpdate:function(){var t=this;this.dialogVisible=!1,Object(r.a)({facilityType:this.editingItem.facilityType,mainIds:this.selectedMainPart.join(","),minorIds:this.selectedMinorPart.join(",")}).then(function(e){if(200==e.data.code)return t.$notify.success("关联部位成功"),t.fetchFacility_anaerobic(),void t.fetchFacility_aerobic();t.$notify.error("关联部位失败")}).catch(function(){t.$notify.error("关联部位失败")})}},mounted:function(){var t=this;this.$nextTick(function(){t.fetchFacility_anaerobic(),t.fetchFacility_aerobic()})}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sportFacilityPage"},[i("div",{directives:[{name:"permission",rawName:"v-permission",value:"8820871b-fa64-48e2-bb8f-1688c50a1579",expression:"'8820871b-fa64-48e2-bb8f-1688c50a1579'"}],staticClass:"facility_aerobic"},[i("sub-title",{attrs:{title:"有氧运动设备"}}),t._v(" "),i("el-table",{directives:[{name:"permission",rawName:"v-permission",value:"d90838a2-08fe-4570-9034-f4eaf1b22016",expression:"'d90838a2-08fe-4570-9034-f4eaf1b22016'"}],staticStyle:{width:"100%"},attrs:{data:t.facility_aerobic}},[i("el-table-column",{attrs:{label:"设备ID",prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{label:"设备名称",prop:"facilityName"}}),t._v(" "),i("el-table-column",{attrs:{label:"设备类型",prop:"sportType"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(2==e.row.sportType?"有氧设备":"无氧设备")+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"训练部位",prop:"parts"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.parts?[t._v("\n          主:"+t._s(e.row.parts.mainParts)+" 副: "+t._s(e.row.parts.minorParts)+"\n        ")]:void 0}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",prop:"time"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"616b357d-302c-4724-899f-7baa3f1049f6",expression:"'616b357d-302c-4724-899f-7baa3f1049f6'"}],attrs:{type:"primary",plain:""},on:{click:function(i){t.edit(e.row)}}},[t._v("编辑")])]}}])})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisible,width:"50%",center:"","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"dialog_trainingType"},[i("span",[t._v("设备名称")]),t._v(" "),i("span",[t._v(t._s(t.editingItem.facilityName))])]),t._v(" "),i("div",{staticClass:"dialog_trainingType"},[i("span",[t._v("设备类型")]),t._v(" "),i("span",[t._v(t._s(1==t.editingItem.sportType?"无氧设备":"有氧设备"))])]),t._v(" "),i("div",{staticStyle:{"padding-top":"10px","padding-bottom":"10px"}},[t._v("主要部位")]),t._v(" "),i("div",{staticStyle:{width:"100%"}},[i("el-checkbox-group",{model:{value:t.selectedMainPart,callback:function(e){t.selectedMainPart=e},expression:"selectedMainPart"}},t._l(t.editingItem.mainPart,function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id,border:""}},[t._v(t._s(e.name))])}))],1),t._v(" "),i("div",{staticStyle:{"padding-top":"10px","padding-bottom":"10px"}},[t._v("辅助部位")]),t._v(" "),i("div",{staticStyle:{width:"100%"}},[i("el-checkbox-group",{model:{value:t.selectedMinorPart,callback:function(e){t.selectedMinorPart=e},expression:"selectedMinorPart"}},t._l(t.editingItem.minorPart,function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id,border:""}},[t._v(t._s(e.name))])}))],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.confirmUpdate}},[t._v("确 定")])],1)]),t._v(" "),i("div",{directives:[{name:"permission",rawName:"v-permission",value:"39c54448-4cd6-49ed-be70-947b84077591",expression:"'39c54448-4cd6-49ed-be70-947b84077591'"}],staticClass:"facility_anaerobic"},[i("sub-title",{attrs:{title:"无氧运动设备"}}),t._v(" "),i("el-table",{directives:[{name:"permission",rawName:"v-permission",value:"d599b5b0-8b9f-4dd5-824d-28c5b9194a7c",expression:"'d599b5b0-8b9f-4dd5-824d-28c5b9194a7c'"}],staticStyle:{width:"100%"},attrs:{data:t.facility_anaerobic}},[i("el-table-column",{attrs:{label:"设备ID",prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{label:"设备名称",prop:"facilityName"}}),t._v(" "),i("el-table-column",{attrs:{label:"设备类型",prop:"sportType"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(2==e.row.sportType?"有氧设备":"无氧设备")+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"训练部位",prop:"adminName"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.parts?[t._v("\n          主:"+t._s(e.row.parts.mainParts)+" 副: "+t._s(e.row.parts.minorParts)+"\n        ")]:void 0}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",prop:"time"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"86015a6a-4046-4185-9399-d1e20b603986",expression:"'86015a6a-4046-4185-9399-d1e20b603986'"}],attrs:{type:"primary",plain:""},on:{click:function(i){t.edit(e.row)}}},[t._v("编辑")])]}}])})],1)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(c,l,!1,function(t){i("44+z")},"data-v-9ad5413e",null);e.default=d.exports},"44+z":function(t,e){}});
//# sourceMappingURL=48.064fd4492a6a4f4dd009.js.map