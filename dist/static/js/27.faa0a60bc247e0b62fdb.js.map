{"version":3,"sources":["webpack:///src/pages/configuration/appVersion/components/VersionConfig.vue","webpack:///./src/pages/configuration/appVersion/components/VersionConfig.vue?7279","webpack:///./src/pages/configuration/appVersion/components/VersionConfig.vue","webpack:///src/pages/configuration/appVersion/components/VersionSubPage.vue","webpack:///./src/pages/configuration/appVersion/components/VersionSubPage.vue?2612","webpack:///./src/pages/configuration/appVersion/components/VersionSubPage.vue","webpack:///src/pages/configuration/appVersion/Page.vue","webpack:///./src/pages/configuration/appVersion/Page.vue?33fd","webpack:///./src/pages/configuration/appVersion/Page.vue"],"names":["VersionConfig","_this","this","version","id","then","res","versionCode","apkUrl","isForce","methods","extends_default","Object","vuex_esm","appType","updateType","upgradePoint","url","_this2","currentVersion","catch","_this3","androidVersion","components_VersionConfig","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","placeholder","model","value","callback","$$v","appSide","expression","_l","item","key","type","label","name","staticStyle","width","autosize","minRows","on","click","update","staticRenderFns","appVersion_components_VersionConfig","__webpack_require__","normalizeComponent","ssrContext","VersionSubPage","SubPage","String","components_VersionSubPage","mainTitle","subTitle","routeCallback","Page","VersionSubPage_normalizeComponent","fetchUserSideData","fetchManagerSideData","keys_default","$route","query","userSide","managerSide","refreshData","val","curPageSize","done","pageNum","total","pageSize","operation","row","publishAppVersion","removeAppVersion","obj","target","_this4","_this5","page","size","list","_this6","_this7","appVersion_Page","directives","rawName","activeSide","addVersionConfig","data","datas","prop","scopedSlots","_u","fn","scope","_s","createTime","split","updateTime","href","resize","disabled","appRelease","plain","$event","showDialog","editVersion","_e","current-page","currentPage","page-sizes","pageSizes","page-size","layout","curTotal","size-change","handleSizeChange","current-change","handleCurrentChange","title","dialogTitle","visible","dialogVisible","center","before-close","handleClose","update:visible","text-align","dialogContent","slot","subPageInfo","routeQuery","Page_Component","Page_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/27.faa0a60bc247e0b62fdb.js","sourcesContent":["<template>\n  <div class=\"versionConfig\">\n    <div class=\"appType\">\n      <div class=\"subTitle\">客户端</div>\n      <el-select v-model=\"appSide\" placeholder=\"请选择\">\n        <el-option v-for=\"item in appSides\" :key=\"item.type\" :label=\"item.name\" :value=\"item.type\">\n        </el-option>\n      </el-select>\n    </div>\n\n    <div class=\"appType\">\n      <div class=\"subTitle\">平台</div>\n      <el-select v-model=\"appType\" placeholder=\"请选择\">\n        <el-option v-for=\"item in appTypes\" :key=\"item.type\" :label=\"item.name\" :value=\"item.type\">\n        </el-option>\n      </el-select>\n    </div>\n\n    <div class=\"appType\">\n      <div class=\"subTitle\">更新类型</div>\n      <el-select v-model=\"updateType\" placeholder=\"请选择\">\n        <el-option v-for=\"item in updateTypes\" :key=\"item.type\" :label=\"item.name\" :value=\"item.type\">\n        </el-option>\n      </el-select>\n    </div>\n\n    <div class=\"appType\">\n      <div class=\"subTitle\">App版本号</div>\n      <el-input v-model=\"version\" style=\"width: 200px\"></el-input>\n    </div>\n\n    <div class=\"appType\">\n      <div class=\"subTitle\">外部版本号</div>\n      <el-input v-model=\"versionCode\" style=\"width: 200px\"></el-input>\n    </div>\n\n    <div class=\"appType\">\n      <div class=\"subTitle\">更新链接</div>\n      <el-input v-model=\"apkUrl\" style=\"width: 50%\"></el-input>\n    </div>\n\n    <div class=\"appType\">\n      <div class=\"subTitle\">更新说明</div>\n      <el-input type=\"textarea\" :autosize=\"{ minRows: 4}\" v-model=\"upgradePoint\" style=\"width: 50%\"></el-input>\n    </div>\n\n    <el-button type=\"primary\" @click=\"update\">确认提交</el-button>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      id: '',\n      apkUrl: '',\n      upgradePoint: '',\n      currentVersion: '',\n      version: '',\n      versionCode: '',\n      appSide: 1,\n      appSides: [\n        {\n          type: 1,\n          name: '用户端'\n        },\n        {\n          type: 2,\n          name: '店长端'\n        }\n      ],\n      appType: 1,\n      appTypes: [\n        {\n          type: 1,\n          name: 'ios'\n        },\n        {\n          type: 2,\n          name: 'android'\n        }\n      ],\n\n      updateType: 1,\n      updateTypes: [\n        {\n          type: 1,\n          name: '强制更新'\n        },\n        {\n          type: 2,\n          name: '提示更新'\n        }\n      ]\n    };\n  },\n  computed: {\n    isCreate() {\n      if (this.id) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  },\n  watch: {\n    $route(val) {\n      if (this.isCreate) return;\n      this.id = val.query.version;\n      this.getAppVerisonDetail({\n        id: this.id\n      }).then(res => {\n        this.upgradePoint = res.upgradePoint.replace(/\\\\n\\\\r/g, '\\n\\r');\n        this.versionCode = res.versionCode;\n        this.apkUrl = res.apkUrl;\n        this.updateType = res.isForce;\n        this.version = res.version;\n        this.currentVersion = res.version;\n        this.appType = res.appType == 1 || res.appType == 3 ? 1 : 2;\n        this.appSide = res.appType == 1 || res.appType == 2 ? 1 : 2;\n      });\n    },\n    appSide(val) {\n      if (val == 2) {\n        this.updateTypes = [\n          {\n            type: 1,\n            name: '强制更新'\n          }\n        ];\n        if (this.updateType == 2) {\n          this.updateType = 1;\n        }\n      } else {\n        this.updateTypes = [\n          {\n            type: 1,\n            name: '强制更新'\n          },\n          {\n            type: 2,\n            name: '提示更新'\n          }\n        ];\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\n      'getAppVerisonDetail',\n      'updateAppVersion',\n      'addVersionConfig'\n    ]),\n    parseParams(isCreate, type) {\n      if (isCreate) {\n        if (type == 1) { // ios\n          return {\n            appType: this.parseUserType(this.appSide, this.appType),\n            versionCode: this.versionCode,\n            iosVersion: this.version,\n            version: this.version,\n            isForce: this.updateType,\n            apkUrl: this.apkUrl,\n            upgradePoint: this.upgradePoint\n          }\n        } else { // Android\n          return {\n            appType: this.parseUserType(this.appSide, this.appType),\n            versionCode: this.versionCode,\n            androidVersion: this.version,\n            version: this.version,\n            isForce: this.updateType,\n            apkUrl: this.apkUrl,\n            upgradePoint: this.upgradePoint\n          }\n        }\n      } else { // 编辑\n        if ( type == 1) { // ios\n          return {\n            id: this.id,\n            appType: this.parseUserType(this.appSide, this.appType),\n            versionCode: this.versionCode,\n            isForce: this.updateType,\n            iosVersion: this.version,\n            version: this.version,\n            apkUrl: this.apkUrl,\n            upgradePoint: this.upgradePoint\n          }\n        } else { // android\n          return {\n            id: this.id,\n            appType: this.parseUserType(this.appSide, this.appType),\n            versionCode: this.versionCode,\n            isForce: this.updateType,\n            androidVersion: this.version,\n            version: this.version,\n            apkUrl: this.apkUrl,\n            upgradePoint: this.upgradePoint\n          }\n        }\n      }\n    },\n    re_url(url) {\n      let re = /^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/).*$/\n      return re.test(url)\n    },\n    update() {\n      if (this.version < this.currentVersion) {\n        this.version = this.currentVersion;\n        return this.$notify.error('内部版本号不能小于之前的版本号, 且为整数');\n      }\n      if (!this.re_url(this.apkUrl)) {\n        return this.$notify.error('请输入有效的网址,如http://www.baidu.com');\n      }\n      this.$router.push({ path: '/system/appVersion' });\n      if (this.isCreate) {\n        this.addVersionConfig(this.parseParams(this.isCreate, this.appType))\n        .then(() => {\n          this.$notify.success('操作成功');\n        })\n        .catch(() => this.$notify.error('操作失败'));\n      }else {\n          this.updateAppVersion(this.parseParams(this.isCreate, this.appType))\n          .then(() => {\n            this.$notify.success('操作成功');\n          })\n          .catch(() => this.$notify.error('操作失败'));\n      }\n    },\n    parseUserType(side, type) {\n      if (side == 1) {\n        if (type == 1) {\n          return 1;\n        } else {\n          return 2;\n        }\n      }\n      if (side == 2) {\n        if (type == 1) {\n          return 3;\n        } else {\n          return 4;\n        }\n      }\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.id = this.$route.query.version;\n      if (!this.isCreate) {\n        this.getAppVerisonDetail({\n          id: this.id\n        }).then(res => {\n          this.upgradePoint = res.upgradePoint.replace(/\\\\n\\\\r/g, '\\n\\r');\n          this.versionCode = res.versionCode;\n          this.apkUrl = res.apkUrl;\n          this.currentVersion = res.version;\n          this.updateType = res.isForce;\n          this.appType = res.appType == 1 || res.appType == 3 ? 1 : 2;\n          this.appSide = res.appType == 1 || res.appType == 2 ? 1 : 2;\n          this.version = this.appType == 1 ? res.iosVersion : res.androidVersion\n        });\n      }\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.versionConfig {\n  background-color: #ffffff;\n  width: 100%;\n  min-height: 100%;\n  box-sizing: border-box;\n  padding: 20px;\n  .appType {\n    padding: {\n      top: 10px;\n      bottom: 10px;\n    }\n  }\n  .subTitle {\n    display: inline-block;\n    color: #666666;\n    width: 150px;\n    height: 40px;\n    line-height: 40px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/configuration/appVersion/components/VersionConfig.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"versionConfig\"},[_c('div',{staticClass:\"appType\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"客户端\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.appSide),callback:function ($$v) {_vm.appSide=$$v},expression:\"appSide\"}},_vm._l((_vm.appSides),function(item){return _c('el-option',{key:item.type,attrs:{\"label\":item.name,\"value\":item.type}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"appType\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"平台\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.appType),callback:function ($$v) {_vm.appType=$$v},expression:\"appType\"}},_vm._l((_vm.appTypes),function(item){return _c('el-option',{key:item.type,attrs:{\"label\":item.name,\"value\":item.type}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"appType\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"更新类型\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.updateType),callback:function ($$v) {_vm.updateType=$$v},expression:\"updateType\"}},_vm._l((_vm.updateTypes),function(item){return _c('el-option',{key:item.type,attrs:{\"label\":item.name,\"value\":item.type}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"appType\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"App版本号\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.version),callback:function ($$v) {_vm.version=$$v},expression:\"version\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"appType\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"外部版本号\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.versionCode),callback:function ($$v) {_vm.versionCode=$$v},expression:\"versionCode\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"appType\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"更新链接\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"50%\"},model:{value:(_vm.apkUrl),callback:function ($$v) {_vm.apkUrl=$$v},expression:\"apkUrl\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"appType\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"更新说明\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"50%\"},attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4}},model:{value:(_vm.upgradePoint),callback:function ($$v) {_vm.upgradePoint=$$v},expression:\"upgradePoint\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"确认提交\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6635cfea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/configuration/appVersion/components/VersionConfig.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6635cfea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VersionConfig.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./VersionConfig.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./VersionConfig.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6635cfea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./VersionConfig.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6635cfea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/configuration/appVersion/components/VersionConfig.vue\n// module id = null\n// module chunks = ","<template>\n  <sub-page mainTitle=\"App版本配置\"\n            subTitle=\"编辑App版本配置\"\n            :routeCallback=\"routeCallback\">\n    <version-config></version-config>\n  </sub-page>    \n</template>\n\n<script>\nimport SubPage from 'components/SubPage';\n\nimport VersionConfig from './VersionConfig';\n\nexport default {\n  components: {\n    SubPage,\n    VersionConfig\n  },\n  props: {\n    subPageInfo: {\n      type: String\n    }\n  },\n  computed: {\n    subPageType() {\n      let arr = this.subPageInfo.split('=');\n      let type = arr[0];\n      return type;\n    },\n    ID() {\n      let arr = this.subPageInfo.split('=');\n      let id = arr[1];\n      return id;\n    }\n  },\n  data() {\n    return {\n    }\n  },\n  methods: {\n    routeCallback() {\n      this.$router.push({path: '/system/appVersion'})\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/configuration/appVersion/components/VersionSubPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sub-page',{attrs:{\"mainTitle\":\"App版本配置\",\"subTitle\":\"编辑App版本配置\",\"routeCallback\":_vm.routeCallback}},[_c('version-config')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7766373e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/configuration/appVersion/components/VersionSubPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7766373e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VersionSubPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./VersionSubPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./VersionSubPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7766373e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./VersionSubPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7766373e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/configuration/appVersion/components/VersionSubPage.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"protalPage\" v-if=\"isLoadSubPage\">\n    <div class=\"appVersionPage\">\n      <div class=\"title\">\n        APP版本配置\n      </div>\n\n      <div class=\"selector\" v-permission=\"'47132837-f28b-406d-9a4d-0c1b8b90c8e1'\">\n        <el-radio-group v-model=\"activeSide\">\n          <el-radio-button label=\"用户端\"></el-radio-button>\n          <el-radio-button label=\"店长端\"></el-radio-button>\n        </el-radio-group>\n        <el-button @click=\"addVersionConfig\" v-permission=\"'e9341fd0-492c-4f07-9499-400de8671ffc'\">新增</el-button>\n      </div>\n      <el-table :data=\"datas\" style=\"width: 100%\" v-loading=\"isLoading\"  v-permission=\"'47132837-f28b-406d-9a4d-0c1b8b90c8e1'\">\n        <el-table-column prop=\"createTime\" label=\"创建时间\">\n          <template slot-scope=\"scope\">\n            <div>{{scope.row.createTime.split(' ')[0]}}</div>\n            <div>{{scope.row.createTime.split(' ')[1]}}</div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"updateTime\" label=\"发布时间\">\n          <template slot-scope=\"scope\">\n            <div>{{scope.row.updateTime.split(' ')[0]}}</div>\n            <div>{{scope.row.updateTime.split(' ')[1]}}</div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"side\" label=\"客户端\" width=\"80\"> </el-table-column>\n        <el-table-column prop=\"appType\" label=\"平台\"></el-table-column>\n        <el-table-column prop=\"versionCode\" label=\"版本号\" width=\"80\"></el-table-column>\n        <el-table-column prop=\"isForce\" label=\"更新类型\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"apkUrl\" label=\"链接地址\">\n          <template slot-scope=\"scope\">\n            <a :href=\"scope.row.apkUrl\" target=\"_blank\">{{scope.row.apkUrl}}</a>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"address\" label=\"更新说明\">\n          <template slot-scope=\"scope\">\n            <!-- scope.row.upgradePoint -->\n            <el-input type=\"textarea\" :autosize=\"{ minRows: 4}\" :value=\"scope.row.upgradePoint\" resize=\"none\" disabled/>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"appRelease\" label=\"状态\" width=\"80\"></el-table-column>\n        <el-table-column label=\"操作\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <div v-if=\"scope.row.appRelease !== '已发布'\" class=\"table_button\">\n              <el-button @click=\"showDialog('发布', scope.row)\" type=\"success\" plain v-permission=\"'4190f81a-cd2e-4024-8b93-009f4fb380c4'\">发布</el-button><el-button @click=\"editVersion(scope.row)\" type=\"primary\" plain v-permission=\"'1032b656-0fba-4048-b743-68af4dfdeab1'\">编辑</el-button><el-button @click=\"showDialog('删除', scope.row)\" type=\"danger\" plain v-permission=\"'3bd3e29d-c51d-4980-832e-4826cc447a86'\">删除</el-button>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n\n\n      <div class=\"paginationBox\" v-permission=\"'47132837-f28b-406d-9a4d-0c1b8b90c8e1'\">\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage\" :page-sizes=\"pageSizes\" :page-size=\"curPageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"curTotal\">\n        </el-pagination>\n      </div>\n\n      <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"30%\" center :before-close=\"handleClose\">\n        <div class=\"subTitle\" style=\"text-align: center\">确认要{{dialogTitle}}吗?</div>\n        <div class=\"dialogContent\" style=\"text-align: center\">{{dialogContent}}</div>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"update\">确 认</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </div>\n  <version-sub-page v-else :subPageInfo=\"routeQuery\"></version-sub-page>\n</template>\n\n<script>\nimport VersionSubPage from './components/VersionSubPage';\n\nimport { mapState, mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      curPageSize: 10,\n      pageSizes: [10, 20 ,30, 40],\n      curTotal: 0,\n      currentPage: 0,\n      activeSide: '用户端',\n      userSide: [],\n      managerSide: [],\n      isLoading: false,\n      editingItem: {},\n      dialogTitle: '',\n      dialogContent: '',\n      dialogVisible: false\n    };\n  },\n  components: {\n    VersionSubPage\n  },\n  beforeRouteEnter(to, from, next) {\n      next( vm => {\n        vm.$nextTick( () => {\n          vm.fetchUserSideData();\n          vm.fetchManagerSideData();\n        });\n      })\n    },\n  computed: {\n    routeQuery() {\n      return (\n        Object.keys(this.$route.query)[0] +\n        '=' +\n        this.$route.query[Object.keys(this.$route.query)[0]]\n      );\n    },\n    isLoadSubPage() {\n      if (Object.keys(this.$route.query)[0]) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    datas() {\n      if ( this.activeSide === '用户端') {\n        return this.userSide;\n      } else {\n        return this.managerSide;\n      }\n    }\n  },\n  // beforeRouteEnter(to, from, next) {\n  //    next( vm => {\n  //      vm.$nextTick( () => {\n  //        vm.refreshData();\n  //      });\n  //    })\n  //  },\n watch: {\n    $route(val) {\n      this.refreshData();\n    },\n    activeSide(val) {\n      if (val === '用户端') {\n        this.fetchUserSideData();\n      } else {\n        this.fetchManagerSideData();\n      }\n    }\n },\n  methods: {\n    // appKind 1 用户端 2 店长端\n    ...mapActions(['getAppVersionList', 'updateAppVersion']),\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      if (this.activeSide === '用户端') {\n        this.fetchUserSideData(val,this.curPageSize);\n      } else {\n        this.fetchManagerSideData();\n      }\n    },\n    handleSizeChange(val) {\n      this.curPageSize = val;\n      if (this.activeSide === '用户端') {\n        this.fetchUserSideData(this.currentPage,val);\n      } else {\n        this.fetchManagerSideData();\n      }\n    },\n    handleClose(done) {\n      this.editingItem = {};\n      this.dialogTitle = '';\n      this.dialogContent = '';\n      done();\n    },\n    mapPagination(res) {\n      this.currentPage = res.pageNum < 1 ? 1 : res.pageNum;\n      this.curTotal = res.total;\n      this.curPageSize = res.pageSize;\n    },\n    showDialog(operation, row) {\n      this.dialogTitle = operation;\n      this.editingItem = row;\n      if (operation === '发布') {\n        this.dialogContent = '一经确认发布后会立即生效到APP端，且不可取消';\n      } else {\n        this.dialogContent = '一经确认删除后此条信息会清空，且不可恢复';\n      }\n      this.dialogVisible = true;\n    },\n    editVersion(row) {\n      this.$router.push({ path: `/system/appVersion?version=${row.id}` });\n    },\n    addVersionConfig() {\n      this.$router.push({ path: '/system/appVersion?version=' });\n    },\n    removeAppVersion() {\n      this.updateAppVersion({\n        id: this.editingItem.id,\n        status: 2\n      }).then( () => {\n        this.$notify.success('删除成功');\n        this.refreshData();\n      }).catch( () => {\n        this.$notify.error('删除失败');\n      })\n    },\n    publishAppVersion() {\n      this.updateAppVersion({\n        id: this.editingItem.id,\n        appRelease: 1\n      }).then( () => {\n        this.$notify.success('发布成功');\n        this.refreshData();\n      }).catch( () => {\n        this.$notify.error('发布失败');\n      })\n    },\n    update() {\n      if (this.dialogTitle === '发布') {\n        this.publishAppVersion();\n      } else {\n        this.removeAppVersion();\n      }\n      this.dialogVisible = false;\n    },\n    refreshData() {\n      this.fetchUserSideData();\n      this.fetchManagerSideData();\n    },\n    mapUserSide(list) {\n      let target = [];\n      list.forEach( (item, index) => {\n        let obj = {};\n        obj.createTime = this.moment(item.createTime).format('YYYY-MM-DD HH:mm:ss');\n        obj.updateTime = item.releaseTime ? this.moment(item.releaseTime).format('YYYY-MM-DD HH:mm:ss'): ''\n        obj.side = '用户端';\n        obj.id = item.id;\n        obj.versionCode = item.versionCode;\n        obj.upgradePoint = item.upgradePoint.replace(/\\\\n\\\\r/g,\"\\n\\r\");\n        // console.log(obj.upgradePoint);\n        obj.appType = item.appType == 1 ? 'ios' : item.appType == 2 ? 'android' : '';\n        obj.apkUrl = item.apkUrl;\n        obj.isForce = item.isForce == 1 ? '强制更新' : item.isForce == 2 ? '提示更新' : '';\n        obj.appRelease = item.appRelease == 1  ? '已发布' : item.appRelease == 2  ? '未发布' : '';\n        target.push(obj);\n      })\n      return target;\n    },\n    mapManagerSide(list) {\n      let target = [];\n      list.forEach( (item, index) => {\n        let obj = {};\n        obj.createTime = this.moment(item.createTime).format('YYYY-MM-DD HH:mm:ss');\n        obj.updateTime = item.releaseTime ? this.moment(item.releaseTime).format('YYYY-MM-DD HH:mm:ss'): ''\n        obj.side = '店长端';\n        obj.id = item.id;\n        obj.versionCode = item.versionCode;\n        obj.upgradePoint = item.upgradePoint.replace(/\\\\n\\\\r/g,\"\\n\\r\");\n        obj.appType = item.appType == 3 ? 'ios' : item.appType == 4 ? 'android' : '';\n        obj.apkUrl = item.apkUrl;\n        obj.isForce = item.isForce == 1 ? '强制更新' : item.isForce == 2 ? '提示更新' : '';\n        obj.appRelease = item.appRelease == 1  ? '已发布' : item.appRelease == 2  ? '未发布' : '';\n        target.push(obj);\n      })\n      return target;\n    },\n    fetchUserSideData(page=1,size=10) {\n      this.isLoading = true;\n      this.getAppVersionList({\n        appKind: 1,\n        page: page,\n        size: size\n      }).then( (res) => {\n        this.isLoading = false;\n        this.userSide = this.mapUserSide(res.list);\n        if (this.activeSide==='用户端') {\n          this.mapPagination(res);\n        }\n      }).catch( () => {\n        this.isLoading = false;\n      })\n    },\n    fetchManagerSideData(page=1,size=10) {\n      this.isLoading = true;\n      this.getAppVersionList({\n        appKind: 2,\n        page: page,\n        size: size\n      }).then( (res) => {\n        this.isLoading = false;\n        this.managerSide = this.mapManagerSide(res.list);\n          if (this.activeSide==='店长端') {\n            this.mapPagination(res);\n          }\n      }).catch( () => {\n        this.isLoading = false;\n      })\n    }\n  },\n  mounted() {\n    this.$nextTick( () => {\n      this.fetchUserSideData();\n      this.fetchManagerSideData()\n    })\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.appVersionPage {\n  background-color: #ffffff;\n  width: 100%;\n  min-height: 100%;\n  box-sizing: border-box;\n  padding: 20px;\n  .title {\n    font-size: 30px;\n    height: 50px;\n    line-height: 50px;\n    border: {\n      bottom: 1px solid #999999;\n    }\n  }\n}\n.selector {\n  padding: {\n    top: 20px;\n    bottom: 20px;\n  }\n}\n\n.table_button {\n  @include flexbox;\n  @include flex-direction(column);\n  @include justify-content(center);\n  @include align-items(center);\n  .el-button {\n    margin:0\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/configuration/appVersion/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoadSubPage)?_c('div',{staticClass:\"protalPage\"},[_c('div',{staticClass:\"appVersionPage\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      APP版本配置\\n    \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('47132837-f28b-406d-9a4d-0c1b8b90c8e1'),expression:\"'47132837-f28b-406d-9a4d-0c1b8b90c8e1'\"}],staticClass:\"selector\"},[_c('el-radio-group',{model:{value:(_vm.activeSide),callback:function ($$v) {_vm.activeSide=$$v},expression:\"activeSide\"}},[_c('el-radio-button',{attrs:{\"label\":\"用户端\"}}),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":\"店长端\"}})],1),_vm._v(\" \"),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('e9341fd0-492c-4f07-9499-400de8671ffc'),expression:\"'e9341fd0-492c-4f07-9499-400de8671ffc'\"}],on:{\"click\":_vm.addVersionConfig}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"},{name:\"permission\",rawName:\"v-permission\",value:('47132837-f28b-406d-9a4d-0c1b8b90c8e1'),expression:\"'47132837-f28b-406d-9a4d-0c1b8b90c8e1'\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.datas}},[_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.createTime.split(' ')[0]))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(scope.row.createTime.split(' ')[1]))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"发布时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.updateTime.split(' ')[0]))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(scope.row.updateTime.split(' ')[1]))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"side\",\"label\":\"客户端\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"appType\",\"label\":\"平台\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"versionCode\",\"label\":\"版本号\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"isForce\",\"label\":\"更新类型\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"apkUrl\",\"label\":\"链接地址\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":scope.row.apkUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(scope.row.apkUrl))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"更新说明\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4},\"value\":scope.row.upgradePoint,\"resize\":\"none\",\"disabled\":\"\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"appRelease\",\"label\":\"状态\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.appRelease !== '已发布')?_c('div',{staticClass:\"table_button\"},[_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('4190f81a-cd2e-4024-8b93-009f4fb380c4'),expression:\"'4190f81a-cd2e-4024-8b93-009f4fb380c4'\"}],attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){_vm.showDialog('发布', scope.row)}}},[_vm._v(\"发布\")]),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('1032b656-0fba-4048-b743-68af4dfdeab1'),expression:\"'1032b656-0fba-4048-b743-68af4dfdeab1'\"}],attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.editVersion(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('3bd3e29d-c51d-4980-832e-4826cc447a86'),expression:\"'3bd3e29d-c51d-4980-832e-4826cc447a86'\"}],attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){_vm.showDialog('删除', scope.row)}}},[_vm._v(\"删除\")])],1):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('47132837-f28b-406d-9a4d-0c1b8b90c8e1'),expression:\"'47132837-f28b-406d-9a4d-0c1b8b90c8e1'\"}],staticClass:\"paginationBox\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.curPageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.curTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"center\":\"\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"subTitle\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"确认要\"+_vm._s(_vm.dialogTitle)+\"吗?\")]),_vm._v(\" \"),_c('div',{staticClass:\"dialogContent\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.dialogContent))]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"确 认\")])],1)])],1)]):_c('version-sub-page',{attrs:{\"subPageInfo\":_vm.routeQuery}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-42f46338\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/configuration/appVersion/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-42f46338\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-42f46338\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-42f46338\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/configuration/appVersion/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}