webpackJsonp([50],{"1+4h":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("BO1k"),o=a.n(i),n=a("fZjL"),l=a.n(n),r=a("dM75"),s={name:"userSportDetail",data:function(){return{dialog_facilityName:"",dialog_sportLength:"",dialog_sportCalorie:"",dialog_sportDataVoList:[],sportData:[],dialogVisible:!1,id:"",tableData:[],totalData:{},orderInfo:{},unitKeys:[],isLoading:!1,config:[{label:"放松时间",field:"cooldown",unit:"秒"},{label:"重量",field:"heavy",unit:"kg"},{label:"平局坡度",field:"incline",unit:"%"},{label:"平均速度",field:"speed",unit:"km/h"},{label:"耗时",field:"time",unit:"秒"},{label:"瓦特",field:"watt",unit:"w"},{label:"次数",field:"times",unit:"次"}]}},computed:{userId:function(){return this.$route.query.userId},storeName:function(){return this.$route.query.storeName},statisticDate:function(){return this.$route.query.statisticDate},orderSn:function(){return this.$route.query.orderSn}},methods:{getUnitKeys:function(){if(0==this.sportData.length)this.unitKeys=[];else{var t=this.sportData[0],e=!0,a=!1,i=void 0;try{for(var n,r=o()(l()(t));!(e=(n=r.next()).done);e=!0){var s=n.value;t[s]||delete t[s]}}catch(t){a=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw i}}this.unitKeys=l()(t)}},checkoutDetail:function(t){var e=this;this.isLoading=!0,this.dialogVisible=!0,this.dialog_facilityName=t.facilityTypeName,this.dialog_sportLength=t.sportLength,this.dialog_sportCalorie=t.sportCalorie,Object(r.b)({id:t.id}).then(function(t){e.sportData=t.data.data.sportDataVoList,e.getUnitKeys(),e.isLoading=!1}).catch(function(){e.isLoading=!1})},fetchData:function(){var t=this;Object(r.m)({userId:this.userId,statisticDate:this.statisticDate,orderSn:this.orderSn}).then(function(e){if(t.isFetchingData=!1,200==e.data.code){var a=e.data.data.list.voList;t.orderInfo=e.data.data.list.orderInfo,t.totalData=e.data.data.total,a.forEach(function(t,e){t.sportUnity=0==t.sportTimes?t.sportDistance+"米":t.sportTimes+"次",t.sportCalorie=t.sportCalorie/1e3+"kcal",t.sportLength=(t.sportLength/60).toFixed(2)+"分钟"}),t.tableData=a}}).catch(function(){})}},mounted:function(){var t=this;this.$nextTick(function(){t.fetchData()})}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userSportDetailPage"},[a("div",{staticStyle:{"font-size":"22px","font-weight":"600","margin-bottom":"10px"}},[t._v("门店: "+t._s(t.storeName))]),t._v(" "),a("div",{staticStyle:{"font-size":"10px",color:"#999999"}},[t._v("预约时间:"+t._s(t.orderInfo.startTime?t.moment(t.orderInfo.startTime).format("YYYY-MM-DD HH:mm:ss"):"-")+"至"+t._s(t.orderInfo.endTime?t.moment(t.orderInfo.endTime).format("YYYY-MM-DD HH:mm:ss"):"-")+" 订单号: "+t._s(t.orderSn))]),t._v(" "),a("el-dialog",{attrs:{title:t.dialog_facilityName,visible:t.dialogVisible,width:"60%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"dialog_header"},[a("span",[t._v("器械:"+t._s(t.dialog_facilityName))]),t._v(" "),a("span",[t._v("时长:"+t._s(t.dialog_sportLength))]),t._v(" "),a("span",[t._v("消耗:"+t._s(t.dialog_sportCalorie))])]),t._v(" "),t.isLoading?t._e():a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sportData}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),t._l(t.unitKeys,function(e,i){return a("el-table-column",{key:i,attrs:{prop:e,label:t.config.find(function(t){return t.field==e}).label},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n            "+t._s(a.row[e]?a.row[e]+t.config.find(function(t){return t.field==e}).unit:"N/A")+"\n          ")]}}])})})],2)]}}])}),t._v(" "),a("div",{staticClass:"tableBox"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"facilityTypeName",label:"项目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sportLength",label:"时长"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sportUnity",label:"距离/次数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sportCalorie",label:"消耗卡路里"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.checkoutDetail(e.row)}}},[t._v("详细数据")])]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"font-size":"18px","font-weight":"600"}},[a("span",[t._v("运动总时长: "+t._s(t.totalData.totalsportLength?(t.totalData.totalsportLength/60).toFixed(2):0)+"分钟")]),t._v(" "),a("span",[t._v("消耗总卡路里: "+t._s(t.totalData.totalsportCalorie?(t.totalData.totalsportCalorie/1e3).toFixed(3):0)+"kcal")])])],1)},staticRenderFns:[]};var c=a("VU/8")(s,d,!1,function(t){a("iEPC")},"data-v-77682578",null);e.default=c.exports},iEPC:function(t,e){}});
//# sourceMappingURL=50.60ce2745c501ae1ccc1d.js.map