webpackJsonp([35],{"8cmW":function(e,t){},HCpl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),n=a("JaHG"),s=a("NYxO"),o={methods:i()({handleClose:function(e){e(),this.showDialog=!1}},Object(s.b)(["getOrderDetailList"]),{checkDetail:function(e){this.centerDialogVisible=!0,this.currentDetail=e}}),props:{tableData:{type:Array,default:function(){return[]}}},data:function(){return{currentDetail:{},showDialog:!1,centerDialogVisible:!1,createTime:"",payStatus:"",storeName:"",orderSn:"",goodsName:"",amount:"",payMoney:""}},computed:i()({},Object(s.e)({orderDetailList:function(e){return e.shopsOrder.orderDetailList}}),{datas:function(){var e=Object(n.b)(this.tableData);return e.forEach(function(e,t){e.createTime=moment(e.createTime).format("YYYY-MM-DD HH:mm:ss"),e.payMoney=(e.payMoney/100).toFixed(2)+"元",e.payStatus=0==e.payStatus?"未支付":1==e.payStatus?"已支付":""}),e}}),mounted:function(){var e=this;this.$nextTick(function(){e.getOrderDetailList()})}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table",staticStyle:{width:"100%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.datas}},[a("el-table-column",{attrs:{prop:"createTime",label:"下单时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderSn",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userInfo.nickname",label:"用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"所属门店"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"购买商品"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payMoney",label:"价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payStatus",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"91b81634-20d8-4116-9b86-e842a8d1f257",expression:"'91b81634-20d8-4116-9b86-e842a8d1f257'"}],attrs:{type:"text"},on:{click:function(a){e.checkDetail(t.row)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"50%",center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.centerDialogVisible=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"订单状态"}},[a("span",[e._v(e._s(e.currentDetail.payStatus))])]),e._v(" "),a("el-form-item",{attrs:{label:"所属门店"}},[a("span",[e._v(e._s(e.currentDetail.storeName))])]),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("span",[e._v(e._s(e.currentDetail.createTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("span",[e._v(e._s(e.currentDetail.orderSn))])]),e._v(" "),a("el-form-item",{attrs:{label:"售货机ID"}},[a("span",[e._v(e._s(e.currentDetail.facilityNo))])]),e._v(" "),a("el-form-item",{attrs:{label:"购买商品"}},[a("span",[e._v(e._s(e.currentDetail.goodsName))])]),e._v(" "),a("el-form-item",{attrs:{label:"数量"}},[a("span",[e._v(e._s(e.currentDetail.amount))])]),e._v(" "),a("el-form-item",{attrs:{label:"单价"}},[a("span",[e._v(e._s(e.currentDetail.payMoney))])]),e._v(" "),a("hr"),e._v(" "),a("el-form-item",{attrs:{label:"总价"}},[a("span",[e._v(e._s(e.currentDetail.payMoney))])]),e._v(" "),a("el-form-item",{attrs:{label:"实付金额"}},[a("span",[e._v(e._s(e.currentDetail.payMoney))])])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})]}}])})],1)},staticRenderFns:[]};var c={watch:{time:function(e){this.fetchData()},store:function(){this.fetchData()},$route:function(e){e.query.orderSn&&(this.orderSn=e.query.orderSn)},orderSn:function(){this.getData()}},components:{shopsTab:a("VU/8")(o,l,!1,function(e){a("RcX+")},"data-v-3c57985a",null).exports},methods:i()({},Object(s.b)(["getShopsOrderList","getErrorDropDownStoreList"]),{handleClick:function(e,t){this.tabIndex=e.label,this.fetchData()},handleSizeChange:function(e){this.curPageSize=e,this.fetchData()},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},getData:function(){this.fetchData()},handleEdit1:function(e,t){this.$router.push({path:"/storePart/store?baseInfo"})},mapPagination:function(){this.currentPage=this.pageNum,this.curTotal=this.total,this.curPageSize=this.pageSize},computeParams:function(){var e={};return this.time.length>0&&(e.beginTime=this.time[0]+" 00:00:00",e.endTime=this.time[1]+" 23:59:59"),this.orderSn&&(e.orderSn=this.orderSn),"all"!==this.store&&(e.storeId=this.store),e.page=this.currentPage,e.size=this.curPageSize,e},fetchData:function(){var e=this;this.getShopsOrderList(this.computeParams()).then(function(){e.mapPagination()})}}),computed:i()({},Object(s.e)({shopsOrderList:function(e){return e.shopsOrder.shopsOrderList},pageSize:function(e){return e.shopsOrder.pageSize},pageNum:function(e){return e.shopsOrder.pageNum},total:function(e){return e.shopsOrder.total},shopsOrderIsFetchingData:function(e){return e.shopsOrder.shopsOrderIsFetchingData},errorDropdownStoreList:function(e){return e.shopsOrder.errorDropdownStoreList}}),{storeList:function(){var e=Object(n.b)(this.errorDropdownStoreList);return e.unshift({storeName:"全部门店",id:"all"}),e}}),data:function(){return{store:"all",currentPage:1,pageSizes:[10,20,30,40],curPageSize:10,curTotal:0,value11:"",value1:"",input21:"",orderSn:"",time:[],pickerOptions2:{shortcuts:[{text:"本周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"本月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"本年",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-31536e6),e.$emit("pick",[a,t])}}]}}},beforeRouteEnter:function(e,t,a){a(function(e){e.$nextTick(function(){e.fetchData()})})},mounted:function(){var e=this;this.$nextTick(function(){e.getErrorDropDownStoreList(),e.fetchData()})}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"protalPage"},[a("div",{staticClass:"wraper"},[a("div",{staticClass:"title"},[e._v("售货机商品订单")]),e._v(" "),a("div",{staticClass:"sportOrderTop"},[a("div",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.store,callback:function(t){e.store=t},expression:"store"}},e._l(e.storeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.storeName,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),a("div",[a("el-input",{attrs:{placeholder:"请输入完整订单号","suffix-icon":"el-icon-search",autofocus:!0},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.getData(t)}},model:{value:e.orderSn,callback:function(t){e.orderSn=t},expression:"orderSn"}})],1)]),e._v(" "),a("div",{directives:[{name:"permission",rawName:"v-permission",value:"d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e",expression:"'d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e'"}],staticClass:"sportOrderBottom",staticStyle:{width:"100%"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.shopsOrderIsFetchingData,expression:"shopsOrderIsFetchingData"}]},[a("shops-tab",{attrs:{tableData:e.shopsOrderList}})],1),e._v(" "),a("div",{directives:[{name:"permission",rawName:"v-permission",value:"d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e",expression:"'d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e'"}],staticClass:"paging"},[a("el-pagination",{attrs:{"page-sizes":e.pageSizes,layout:"total, sizes, prev, pager, next, jumper",total:e.curTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])])},staticRenderFns:[]};var d=a("VU/8")(c,u,!1,function(e){a("8cmW")},"data-v-2a41ac57",null);t.default=d.exports},"RcX+":function(e,t){}});
//# sourceMappingURL=35.b73a53afc8fc2c8cdb71.js.map