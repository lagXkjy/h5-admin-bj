webpackJsonp([19],{CI7s:function(t,e){},GAwv:function(t,e){},Y9Tv:function(t,e){},aorR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("fZjL"),i=a.n(r),n=a("Dd8w"),o=a.n(n),s=a("JaHG"),l={props:{tableData:{type:Array,default:function(){return[]}}},methods:{getZoom:function(t,e){this.$router.push({path:"/monitor/securezoom?ZoomDetail="+e.id})}},data:function(){return{}},computed:{datas:function(){var t=Object(s.b)(this.tableData);return t.forEach(function(t,e){t.alarmType=1==t.alarmType?"陌生人闯入":2==t.alarmType?"安全画面":"",t.createTime=moment(t.createTime).format("YYYY-MM-DD HH:mm:ss")}),t}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.datas}},[a("el-table-column",{attrs:{prop:"createTime",label:"上报时间",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"门店"}}),t._v(" "),a("el-table-column",{attrs:{prop:"alarmCode",label:"异常代码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"alarmType",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"alarmDesc",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"f5f180a8-e4a0-4e6d-9eec-adf88e88eb06",expression:"'f5f180a8-e4a0-4e6d-9eec-adf88e88eb06'"}],attrs:{type:"primary",plain:""},on:{click:function(a){t.getZoom(e.$index,e.row)}}},[t._v("查看明细")])]}}])})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(l,u,!1,function(t){a("CI7s")},"data-v-2de1d576",null).exports,p=a("83G7"),m=a("NYxO"),d={computed:o()({},Object(m.e)({monitorDetailList:function(t){return t.securezoom.monitorDetailList}}),{currentDetail:function(){var t=Object(s.b)(this.monitorDetailList);return t.createTime=moment(t.createTime).format("YYYY-MM-DD HH:mm:ss"),t}}),methods:o()({},Object(m.b)(["getMonitorDetailList"])),watch:{$route:function(t){this.id=t.query.ZoomDetail},id:function(){this.getMonitorDetailList({id:this.$route.query.ZoomDetail})}},mounted:function(){var t=this;this.$nextTick(function(){t.id=t.$route.query.ZoomDetail,t.getMonitorDetailList({id:t.$route.query.ZoomDetail})})},data:function(){return{id:null}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wraper"},[a("div",{staticClass:"title"},[t._v("\n    闯入事件-详情\n  ")]),t._v(" "),a("div",[a("p",[t._v("所属门店："+t._s(t.currentDetail.storeName))]),t._v(" "),a("p",[t._v("记录时间："+t._s(t.currentDetail.createTime))]),t._v(" "),a("p",[t._v("异常代码："+t._s(t.currentDetail.alarmCode))]),t._v(" "),a("p",[t._v("事件类型："+t._s(t.currentDetail.alarmType?1==t.currentDetail.alarmType?"陌生人入场":2==t.currentDetail.alarmType?"安全画面":"":""))]),t._v(" "),a("p",[t._v("问题描述："+t._s(t.currentDetail.alarmDesc))]),t._v(" "),a("p",[t._v("处理建议："+t._s(t.currentDetail.alarmDesc))]),t._v(" "),a("p",[t._v("监控录像：\n      "),a("el-button",{attrs:{type:"primary"}},[t._v("监控录像")])],1),t._v(" "),a("p",[t._v("抓拍图片："),a("img",{staticStyle:{width:"70%",height:"300px"},attrs:{src:t.currentDetail.picUrl,alt:""}})])])])},staticRenderFns:[]};var v=a("VU/8")(d,f,!1,function(t){a("rziG")},"data-v-3a10823a",null).exports,h={methods:{routeCallback:function(){this.$router.push({path:"/monitor/securezoom"})}},components:{SubPage:p.a,secureDetail:v},props:{subPageType:{type:String,default:""}},computed:{},data:function(){return{mapSubPage:{ZoomDetail:{mainTitle:"安全画面",subTitle:"详情"}}}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("sub-page",{attrs:{mainTitle:"安全画面",subTitle:"详情",routeCallback:this.routeCallback}},["ZoomDetail"==this.subPageType?e("secure-detail"):this._e()],1)},staticRenderFns:[]};var g={components:{securezoomTab:c,SecurePage:a("VU/8")(h,b,!1,function(t){a("GAwv")},"data-v-404ff4a4",null).exports},watch:{store:function(){this.fetchData()},time:function(t){this.fetchData()},type:function(){this.fetchData()}},computed:o()({},Object(m.e)({monitorList:function(t){return t.securezoom.monitorList},monitorDetailList:function(t){return t.securezoom.monitorDetailList},pageSize:function(t){return t.securezoom.pageSize},pageNum:function(t){return t.securezoom.pageNum},total:function(t){return t.securezoom.total},errorDropdownStoreList:function(t){return t.error.errorDropdownStoreList}}),{storeList:function(){var t=Object(s.b)(this.errorDropdownStoreList);return t.unshift({storeName:"全部门店",id:"all"}),t},routeQuery:function(){return i()(this.$route.query)[0]},isLoadSubPage:function(){return!i()(this.$route.query)[0]}}),methods:o()({},Object(m.b)(["getMonitorList","getMonitorDetailList","getErrorDropDownStoreList"]),{handleSizeChange:function(t){this.curPageSize=t,this.fetchData()},handleCurrentChange:function(t){this.currentPage=t,this.fetchData()},createParams:function(){var t={};return t.page=this.currentPage,t.size=this.curPageSize,this.time.length>0&&(t.beginTime=this.time[0]+" 00:00:00",t.endTime=this.time[1]+" 23:59:59"),"all"!==this.store&&(t.storeId=this.store),"all"!==this.type&&(t.alarmType=this.type),t},mapPagination:function(){this.currentPage=this.pageNum,this.curTotal=this.total,this.curPageSize=this.pageSize},fetchData:function(){var t=this;this.getMonitorList(this.createParams()).then(function(){t.mapPagination()})},formatter:function(t,e){return t.address},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t}}),data:function(){return{options:[{value:"all",label:"全部"},{value:"1",label:"陌生人闯入"},{value:"2",label:"安全画面"}],pageSizes:[10,20,30,40],curPageSize:10,currentPage:1,curTotal:0,value3:[new Date(2e3,10,10,10,10),new Date(2e3,10,11,10,10)],value7:"",pickerOptions1:{},input21:"",store:"all",type:"all",time:[]}},beforeRouteEnter:function(t,e,a){a(function(t){t.$nextTick(function(){t.fetchData()})})},mounted:function(){var t=this;this.$nextTick(function(){t.fetchData(),t.getErrorDropDownStoreList()})}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoadSubPage?a("div",{staticClass:"protalPage"},[a("div",{staticClass:"wraper"},[a("div",{staticClass:"title"},[t._v("\n      安全画面\n    ")]),t._v(" "),a("div",{staticClass:"sportOrderTop"},[a("div",[t._v("\n        门店：\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.store,callback:function(e){t.store=e},expression:"store"}},t._l(t.storeList,function(t){return a("el-option",{key:t.id,attrs:{label:t.storeName,value:t.id}})}))],1),t._v(" "),a("div",[t._v("\n        类型：\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),t._v(" "),a("div",{directives:[{name:"permission",rawName:"v-permission",value:"85c36449-4f88-4255-a3eb-a520a46d6bac",expression:"'85c36449-4f88-4255-a3eb-a520a46d6bac'"}],staticClass:"sportOrderBotom"},[a("div",[a("securezoom-tab",{attrs:{tableData:t.monitorList}})],1),t._v(" "),a("div",{staticClass:"paging"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.curTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])]):a("secure-page",{attrs:{subPageType:t.routeQuery}})},staticRenderFns:[]};var _=a("VU/8")(g,D,!1,function(t){a("Y9Tv")},"data-v-79e5aa04",null);e.default=_.exports},rziG:function(t,e){}});
//# sourceMappingURL=19.8014e6b170f12c0ad80b.js.map