webpackJsonp([9],{I66o:function(e,t){},Kddj:function(e,t){},eGo5:function(e,t,a){"use strict";var n={props:{switchToggle:{type:String,default:"1"}},watch:{switchToggle:function(e){}},computed:{switchStyle:function(){return"1"==this.switchToggle?{backgroundColor:"blue"}:{backgroundColor:"gray"}},dotStyle:function(){return"1"==this.switchToggle?{top:"1px",left:"1px"}:{left:"21px"}}},methods:{}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"switchBox",style:this.switchStyle},[t("div",{ref:"dot",staticClass:"dot",style:this.dotStyle})])},staticRenderFns:[]};var i=a("VU/8")(n,r,!1,function(e){a("oe+O")},"data-v-ba1e2008",null);t.a=i.exports},"oe+O":function(e,t){},rlha:function(e,t){},sDLv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("fZjL"),r=a.n(n),i=a("Dd8w"),s=a.n(i),o=a("JaHG"),c={components:{AdminSwitch:a("eGo5").a},props:{tableData:{type:Array,default:function(){return[]}}},computed:{datas:function(){var e=Object(o.b)(this.tableData);return e.forEach(function(e){e.createTime=moment(e.createTime).format("YYYY-MM-DD HH:mm:ss")}),e}},data:function(){return{headStyle:{}}},methods:{editManager:function(e){this.$router.push({path:"/storePart/manager?editManager="+e.id})},handleEdit1:function(e,t){},handleEdit2:function(e,t){},handleEdit3:function(e,t){},handleEdit4:function(e,t){}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"storeTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.datas,"header-cell-style":e.headStyle}},[a("el-table-column",{attrs:{label:"ID",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",prop:"createTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"ownerName"}}),e._v(" "),a("el-table-column",{attrs:{label:"账号",prop:"ownerAccount"}}),e._v(" "),a("el-table-column",{attrs:{label:"手机",prop:"ownerPhone"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属门店",prop:"storeListStr"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"18316176-a0d7-46fe-a207-3b1311b9d382",expression:"'18316176-a0d7-46fe-a207-3b1311b9d382'"}],nativeOn:{click:function(a){e.editManager(t.row)}}},[e._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]};var l=a("VU/8")(c,u,!1,function(e){a("Kddj")},"data-v-c7df3bf0",null).exports,g=a("83G7"),h=a("NYxO"),d={props:{id:{type:String,default:""}},computed:s()({},Object(h.e)({currentManagerDetail:function(e){return e.manager.currentManagerDetail}})),methods:s()({},Object(h.b)(["updateManagerInfo","getManagerDetail"]),{mapManagerInfo:function(){this.managerName=this.currentManagerDetail.ownerName,this.managerPhone=this.currentManagerDetail.ownerPhone,this.managerAccount=this.currentManagerDetail.ownerAccount,this.managerPassword=this.currentManagerDetail.ownerPassword},createParams:function(){var e={};return"null"!==this.id&&(e.id=this.id),e.name=this.managerName,e.phone=this.managerPhone,e.account=this.managerAccount,e.password=this.managerPassword,e},resetData:function(){this.managerName="",this.managerAccount="",this.managerPhone="",this.managerPassword=""},verityData:function(){return!!(this.managerName||this.managerAccount||this.managerPhone||this.managerPassword)||(this.$notify.error("请补全信息"),!1)},saveManagerInfo:function(){var e=this;this.verityData()&&(this.$notify({title:"提示",message:"正在保存店长信息...",type:"warning"}),this.updateManagerInfo(this.createParams()).then(function(){"null"===e.id?(e.$notify.success("创建店长["+e.managerName+"]成功"),e.$router.push({path:"/storePart/manager"}),e.$emit("refreshData")):(e.$notify({title:"成功",message:"店长["+e.id+"] 保存成功",type:"success"}),e.$router.push({path:"/storePart/manager"}),e.$emit("refreshData")),e.resetData()}).catch(function(t){e.$notify.error({title:"失败",message:t.message}),e.$router.push({path:"/storePart/manager"}),e.$emit("refreshData")}))}}),data:function(){return{managerName:"",managerAccount:"",managerPhone:"",managerPassword:""}},watch:{},mounted:function(){var e=this;this.$nextTick(function(){"null"!==e.id&&e.getManagerDetail({id:e.id}).then(function(t){e.mapManagerInfo()})})}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editManagerPage"},[a("div",{staticClass:"editManagerTitle"},[e._v("\n    "+e._s("null"===e.id?"新建-店长":"编辑-店长")+"\n  ")]),e._v(" "),a("div",{staticClass:"EM_item EM_ManagerName",staticStyle:{width:"200px"}},[a("div",{staticClass:"subTitle"},[e._v("姓名")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入姓名",clearable:""},model:{value:e.managerName,callback:function(t){e.managerName=t},expression:"managerName"}})],1),e._v(" "),a("div",{staticClass:"EM_item",staticStyle:{width:"200px"}},[a("div",{staticClass:"subTitle"},[e._v("手机")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:e.managerPhone,callback:function(t){e.managerPhone=t},expression:"managerPhone"}})],1),e._v(" "),a("div",{staticClass:"EM_item",staticStyle:{width:"200px"}},[a("div",{staticClass:"subTitle"},[e._v("账号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.managerAccount,callback:function(t){e.managerAccount=t},expression:"managerAccount"}})],1),e._v(" "),a("div",{staticClass:"EM_item",staticStyle:{width:"200px"}},[a("div",{staticClass:"subTitle"},[e._v("密码")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入密码",clearable:"",type:"password"},model:{value:e.managerPassword,callback:function(t){e.managerPassword=t},expression:"managerPassword"}})],1),e._v(" "),a("div",{staticClass:"EM_buttonBox"},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.saveManagerInfo(t)}}},[e._v("保存")])],1)])},staticRenderFns:[]};var f=a("VU/8")(d,m,!1,function(e){a("I66o")},"data-v-56e04ab2",null).exports,p={components:{SubPage:g.a,EditManager:f},props:{subPageInfo:{type:String}},computed:{subPageType:function(){return this.subPageInfo.split("=")[0]},ID:function(){return this.subPageInfo.split("=")[1]}},methods:{routeCallback:function(){this.$router.push({path:"/storePart/manager"})},refreshData:function(){this.$emit("fetchMangerList")}},data:function(){return{mapSubPage:{editManager:{mainTitle:"店长管理",subTitle:"编辑店长"},modifiyManager:{mainTitle:"店长管理",subTitle:"编辑店长"}}}}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return this.subPageInfo?t("sub-page",{key:"1",attrs:{mainTitle:"店长管理",subTitle:"编辑店长",routeCallback:this.routeCallback}},["editManager"===this.subPageType?t("edit-manager",{attrs:{id:this.ID},on:{refreshData:this.refreshData}}):this._e()],1):this._e()},staticRenderFns:[]};var b={components:{ManagerTable:l,ManagerSubPage:a("VU/8")(p,v,!1,function(e){a("znzz")},"data-v-c4ad7516",null).exports},data:function(){return{currentPage4:1,curPageSize:10,pageSizes:[10,20,30,40],curTotal:10,value:"",input23:""}},computed:s()({},Object(h.e)({managerList:function(e){return e.manager.managerList},total:function(e){return e.manager.total},pageSize:function(e){return e.manager.pageSize},pageNum:function(e){return e.manager.pageNum}}),{routeQuery:function(){return r()(this.$route.query)[0]+"="+this.$route.query[r()(this.$route.query)[0]]},isLoadSubPage:function(){return!r()(this.$route.query)[0]}}),methods:s()({},Object(h.b)(["getManagerTable"]),{handleSizeChange:function(e){var t=this;this.curPageSize=e,this.getManagerTable({page:this.currentPage4,size:this.curPageSize}).then(function(){t.mapPagination()})},handleCurrentChange:function(e){var t=this;this.currentPage4=e,this.getManagerTable({page:this.currentPage4,size:this.curPageSize}).then(function(){t.mapPagination()})},createManager:function(){this.$router.push({path:"/storePart/manager?editManager=null"})},fetchData:function(){var e=this;this.getManagerTable({page:this.currentPage4,size:this.curPageSize}).then(function(){e.mapPagination()})},mapPagination:function(){this.currentPage4=this.pageNum,this.curTotal=this.total,this.pageSizes.includes(this.pageSize)||this.pageSizes.unshift(this.pageSize),this.curPageSize=this.pageSize}}),beforeRouteEnter:function(e,t,a){var n=this;a(function(e){e.$nextTick(function(){e.getManagerTable({page:1,size:10}).then(function(){n.mapPagination()}).catch(function(e){})})})},mounted:function(){var e=this;this.$nextTick(function(){e.getManagerTable({page:1,size:10}).then(function(){e.mapPagination()}).catch(function(e){})})}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLoadSubPage?a("div",{staticClass:"protalPage"},[a("div",{staticClass:"storePage"},[a("div",{staticClass:"title"},[e._v("\n      店长管理\n    ")]),e._v(" "),a("div",{staticClass:"selects"},[a("div",{staticClass:"addManager"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"53c5f0a0-ca11-4d0f-9b82-49b29a21310c",expression:"'53c5f0a0-ca11-4d0f-9b82-49b29a21310c'"}],attrs:{type:"primary"},on:{click:e.createManager}},[e._v("新建店长")])],1)]),e._v(" "),a("div",{directives:[{name:"permission",rawName:"v-permission",value:"0ff407d-8e9a-45f6-9f04-27272d0222c4",expression:"'0ff407d-8e9a-45f6-9f04-27272d0222c4'"}],staticClass:"tableBox"},[a("manager-table",{attrs:{tableData:e.managerList}}),e._v(" "),a("div",{staticClass:"paginationBox"},[a("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":e.pageSizes,"page-size":e.curPageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.curTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])]):a("manager-sub-page",{attrs:{subPageInfo:e.routeQuery},on:{fetchMangerList:e.fetchData}})},staticRenderFns:[]};var _=a("VU/8")(b,P,!1,function(e){a("rlha")},"data-v-a0267676",null);t.default=_.exports},znzz:function(e,t){}});
//# sourceMappingURL=9.9db60563562bc0c781c0.js.map