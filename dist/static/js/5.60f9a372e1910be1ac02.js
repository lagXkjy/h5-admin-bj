webpackJsonp([5],{"4YYB":function(t,e){},"53Jj":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),r=a.n(i),n=a("NYxO"),s=a("WBHA"),o={props:{title:{type:String,default:""},unity:{type:String,default:""},value:{type:Number,default:0}},components:{countTo:a.n(s).a}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card shadow"},[a("div",{staticClass:"cardTitle"},[t._v("\n    "+t._s(t.title)+"\n    "),a("span",{staticStyle:{color:"#666666","font-size":"10px"}},[t._v(t._s(t.unity))])]),t._v(" "),a("div",{staticClass:"cardValue"},[a("countTo",{attrs:{startVal:0,endVal:t.value,duration:2e3}})],1)])},staticRenderFns:[]};var c=a("VU/8")(o,u,!1,function(t){a("z+07")},"data-v-934ae20a",null).exports,l={props:{chartData:{type:Object,default:function(){}}},data:function(){return{myChart:null,options:{}}},methods:{initChart:function(){this.setChartOptions(this.chartData),this.myChart=echarts.init(document.getElementById("ordercharts")),this.myChart.setOption(this.options)},resetChart:function(t){this.myChart.clear(),this.setChartOptions(t),this.myChart.setOption(this.options)},setChartOptions:function(t){var e={title:{text:"营业额&订单"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"#777"}},grid:{left:"7%",right:"10%",bottom:"7%"},xAxis:[{type:"category",boundaryGap:!1,scale:!1,nameLocation:"center",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:1,formatter:function(t){var e=t.substr(4);return e.substr(0,2)+"/"+e.substr(2)}},data:t.dateStr}],yAxis:[{type:"value",name:"营业额",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},{type:"value",name:"订单量",axisLine:{show:!1},axisTick:{show:!1}}],series:[{name:"营业额",type:"line",yAxisIndex:0,smooth:!0,tooltip:{trigger:"axis"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"red"},{offset:1,color:"white"}],globalCoord:!1}},data:JSON.parse(t.orderMoney)},{name:"订单量",type:"line",yAxisIndex:1,smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"blue"},{offset:1,color:"white"}],globalCoord:!1}},data:JSON.parse(t.orderNum)}],dataZoom:[{type:"inside",filterMode:"empty",start:0,end:100},{type:"inside",filterMode:"empty",start:0,end:100}]};this.options=e}},watch:{chartData:function(t){this.resetChart(t)}},mounted:function(){var t=this;this.$nextTick(function(){t.initChart()})}},h={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"ordercharts"}})},staticRenderFns:[]};var d=a("VU/8")(l,h,!1,function(t){a("EIOJ")},"data-v-4bedc3d4",null).exports,p={props:{chartData:{type:Object,default:function(){}}},data:function(){return{payChart:null,options:{}}},methods:{initChart:function(){this.setChartOptions(this.chartData),this.payChart=echarts.init(document.getElementById("payChart")),this.payChart.setOption(this.options)},resetChart:function(t){this.payChart.clear(),this.setChartOptions(t),this.payChart.setOption(this.options)},setChartOptions:function(t){var e={title:{text:"充值统计",top:20,left:10},grid:{left:"17%",top:"15%",right:"4%",bottom:"10%"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",data:JSON.parse(t.getStatisticsRechargedateStr),axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:1,formatter:function(t){var e=t.substr(4);return e.substr(0,2)+"/"+e.substr(2)}}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1}},series:[{name:"充值金额",data:JSON.parse(t.getStatisticsRechargeorderNum).map(function(t){return t/100}),type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"red"},{offset:1,color:"white"}],globalCoord:!1}}}],dataZoom:[{type:"inside",filterMode:"empty",start:0,end:100}]};this.options=e}},watch:{chartData:function(t){this.resetChart(t)}},mounted:function(){var t=this;this.$nextTick(function(){t.initChart()})}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return this.chartData.getStatisticsRechargedateStr?e("div",{attrs:{id:"payChart"}}):this._e()},staticRenderFns:[]};var m=a("VU/8")(p,f,!1,function(t){a("4YYB")},"data-v-5ab502f5",null).exports,v={props:{chartData:{type:Object,default:function(){}}},data:function(){return{options:null,userChart:null}},methods:{initChart:function(){this.setChartOptions(this.chartData),this.userChart=echarts.init(document.getElementById("userChart")),this.userChart.setOption(this.options)},resetChart:function(t){this.userChart.clear(),this.setChartOptions(t),this.userChart.setOption(this.options)},setChartOptions:function(t){var e={title:{text:"新用户增长",top:20,left:10},grid:{left:"10%",top:"15%",right:"4%",bottom:"10%"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",data:JSON.parse(t.getStatisticsNewUserStr),axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:1,formatter:function(t){var e=t.substr(4);return e.substr(0,2)+"/"+e.substr(2)}}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1}},series:[{name:"新用户量",data:JSON.parse(t.getStatisticsNewUserNum),type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"red"},{offset:1,color:"white"}],globalCoord:!1}}}],dataZoom:[{type:"inside",filterMode:"empty",start:0,end:100}]};this.options=e}},watch:{chartData:function(t){this.resetChart(t)}},mounted:function(){var t=this;this.$nextTick(function(){t.initChart()})}},y={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"userChart"}})},staticRenderFns:[]};var x=a("VU/8")(v,y,!1,function(t){a("r461")},"data-v-ea311610",null).exports,C=moment().format("YYYY-MM-DD HH:mm:ss"),w={data:function(){return{time:[],today:C,start:moment(C).add(-15,"days").format("YYYY-MM-DD HH:mm:ss")}},props:{},computed:r()({},Object(n.e)({consumAndOrder:function(t){return t.home.consumAndOrder},newUser:function(t){return t.home.newUser},recharge:function(t){return t.home.recharge},isFetchChartDatas:function(t){return t.home.isFetchChartDatas}})),watch:{time:function(t){var e=t[0]+" 00:00:00",a=t[1]+" 23:59:59",i=moment(a).subtract(1,"years").format("YYYY-MM-DD");moment(e).isBefore(moment(i))?this.$notify.error("选择时间段不能超过一年"):this.fetchData(e,a)}},methods:r()({},Object(n.b)(["getChartDatas"]),{fetchData:function(t,e){var a={beginTime:t,endTime:e};this.getChartDatas(a)}}),mounted:function(){var t=this;this.$nextTick(function(){t.time.push(t.start),t.time.push(t.today),t.fetchData(t.start,t.today)})},components:{OrderChart:d,PayChart:m,UserChart:x}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.consumAndOrder&&t.consumAndOrder.dateStr?a("div",{staticClass:"charts"},[a("div",{staticClass:"timeSelect"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isFetchChartDatas,expression:"isFetchChartDatas"}],staticClass:"orderChart"},[a("order-chart",{attrs:{chartData:t.consumAndOrder}})],1),t._v(" "),a("div",{staticClass:"twoCharts"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isFetchChartDatas,expression:"isFetchChartDatas"}],staticClass:"chart-left"},[a("pay-chart",{attrs:{chartData:t.recharge}})],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isFetchChartDatas,expression:"isFetchChartDatas"}],staticClass:"chart-right"},[a("user-chart",{attrs:{chartData:t.newUser}})],1)])]):a("div",{staticClass:"empty"},[t._v("暂无图表数据")])},staticRenderFns:[]};var b=a("VU/8")(w,g,!1,function(t){a("uY8t")},"data-v-a82b72aa",null).exports,V={data:function(){return{title1:"营业额(元)",value1:"6666"}},computed:r()({},Object(n.e)({overview:function(t){return t.home.overview}})),watch:{},components:{Card:c,Cards:b},methods:r()({},Object(n.b)(["getHomeOverview","getChartDatas"])),beforeRouteEnter:function(t,e,a){a(function(t){t.$nextTick(function(){t.getHomeOverview()})})},mounted:function(){var t=this;this.$nextTick(function(){t.getHomeOverview()})}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"homePage protalPage"},[a("div",{staticClass:"homeHeader"},[a("div",{staticClass:"cards"},[a("card",{attrs:{title:"营业额",unity:"(元)",value:t.overview.orderMoney?parseFloat((t.overview.orderMoney/100).toFixed(2)):0}}),t._v(" "),a("card",{attrs:{title:"总订单量",unity:"(单)",value:t.overview.orderTimes?parseFloat(t.overview.orderTimes):0}}),t._v(" "),a("card",{attrs:{title:"总用户量",unity:"(人)",value:t.overview.userNum?parseFloat(t.overview.userNum):0}}),t._v(" "),a("card",{attrs:{title:"门店数量",unity:"(间)",value:t.overview.storeNum?parseFloat(t.overview.storeNum):0}})],1)]),t._v(" "),a("cards")],1)},staticRenderFns:[]};var O=a("VU/8")(V,F,!1,function(t){a("c329")},"data-v-51baf63a",null);e.default=O.exports},EIOJ:function(t,e){},WBHA:function(t,e,a){var i;i=function(){return function(t){function e(i){if(a[i])return a[i].exports;var r=a[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,a){var i=a(4)(a(1),a(5),null,null);t.exports=i.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,a,i){return a*(1-Math.pow(2,-10*t/i))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,i.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,i.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,i.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,i.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,i.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals);var e=(t+="").split("."),a=e[0],i=e.length>1?this.decimal+e[1]:"",r=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;r.test(a);)a=a.replace(r,"$1"+this.separator+"$2");return this.prefix+a+i+this.suffix}},destroyed:function(){(0,i.cancelAnimationFrame)(this.rAF)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(a(0));e.default=i.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",i.default)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=0,r="webkit moz ms o".split(" "),n=void 0,s=void 0;if("undefined"==typeof window)e.requestAnimationFrame=n=function(){},e.cancelAnimationFrame=s=function(){};else{e.requestAnimationFrame=n=window.requestAnimationFrame,e.cancelAnimationFrame=s=window.cancelAnimationFrame;for(var o=void 0,u=0;u<r.length&&(!n||!s);u++)o=r[u],e.requestAnimationFrame=n=n||window[o+"RequestAnimationFrame"],e.cancelAnimationFrame=s=s||window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"];n&&s||(e.requestAnimationFrame=n=function(t){var e=(new Date).getTime(),a=Math.max(0,16-(e-i)),r=window.setTimeout(function(){t(e+a)},a);return i=e+a,r},e.cancelAnimationFrame=s=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=n,e.cancelAnimationFrame=s},function(t,e){t.exports=function(t,e,a,i){var r,n=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,n=t.default);var o="function"==typeof n?n.options:n;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),i){var u=Object.create(o.computed||null);Object.keys(i).forEach(function(t){var e=i[t];u[t]=function(){return e}}),o.computed=u}return{esModule:r,exports:n,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])},t.exports=i()},c329:function(t,e){},r461:function(t,e){},uY8t:function(t,e){},"z+07":function(t,e){}});
//# sourceMappingURL=5.60f9a372e1910be1ac02.js.map