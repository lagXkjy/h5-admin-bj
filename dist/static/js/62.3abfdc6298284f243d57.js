webpackJsonp([62],{"/b9+":function(t,e){},tkyW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("hA+o"),s={name:"planDetail",data:function(){return{dialogVisible:!1,userTrainId:"",cycle:"",trainStatus:"",planRate:0,planName:"",completePercent:0,trainList:[],processList:[]}},components:{SubTitle:a("0LZo").a},computed:{nickname:function(){return this.$route.query.nickname},userId:function(){return this.$route.query.userId},mobile:function(){return this.$route.query.mobile}},methods:{checkoutProcess:function(){this.dialogVisible=!0,this.fetchProcess(this.$route.query.userTrainId)},fetchDetail:function(){var t=this;Object(i.b)({userTrainId:this.$route.query.userTrainId}).then(function(e){e.data.data.trainList.list.forEach(function(t,e){t.num=e+1}),t.trainStatus=e.data.data.trainStatus,t.planName=e.data.data.planName,t.cycle=e.data.data.cycle,t.completePercent=e.data.data.completePercent,t.planRate=e.data.data.completeLevel,t.trainList=e.data.data.trainList.list})},formatDay:function(t){switch(t){case 0:return"周日";case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六";default:return""}},fetchProcess:function(t){var e=this;Object(i.a)({userTrainId:t}).then(function(t){var a=t.data.data,i=[{q:"您的健身基础",a:a.planRankName},{q:"您希望通过健身达到什么效果",a:a.planTypesName},{q:"您希望着重训练哪个部位",a:a.planBodyTypesName},{q:"您身体哪个部位受过伤",a:a.medicalHisName?a.medicalHisName:"无"},{q:"训练计划坚持周数",a:a.cityName},{q:"选择每周的训练日",a:a.weekDay},{q:"4M测试",a:a.fourMTotal?a.fourMTotal+"个":"N/A"}];e.processList=i})}},mounted:function(){var t=this;this.$nextTick(function(){t.fetchDetail()})}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userPlanDetailPage"},[a("div",{staticClass:"userInfo"},[a("sub-title",{attrs:{title:"用户信息"}}),t._v(" "),a("div",{staticClass:"userInfo_item",staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{width:"80px",display:"inline-block"}},[t._v("昵称")]),t._v(t._s(t.nickname))]),t._v(" "),a("div",{staticClass:"userInfo_item"},[a("span",{staticStyle:{width:"80px",display:"inline-block"}},[t._v("ID")]),t._v(t._s(t.userId))]),t._v(" "),a("div",{staticClass:"userInfo_item"},[a("span",{staticStyle:{width:"80px",display:"inline-block"}},[t._v("手机")]),t._v(t._s(t.mobile))])],1),t._v(" "),a("el-dialog",{attrs:{title:"定制过程",visible:t.dialogVisible,width:"50%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.processList}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"问题",prop:"q"}}),t._v(" "),a("el-table-column",{attrs:{label:"回答",prop:"a"}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("我知道了")])],1)],1),t._v(" "),a("div",{staticClass:"planDetail"},[a("sub-title",{attrs:{title:"训练计划详情"}}),t._v(" "),a("div",{staticClass:"planDetailInfo"},[a("a",{staticClass:"hyperlink processButton",attrs:{href:"javascript:;"},on:{click:t.checkoutProcess}},[t._v("定制过程记录")]),t._v(" "),a("div",{staticStyle:{"font-size":"20px","font-weight":"600","padding-bottom":"15px"}},[t._v(t._s(t.planName))]),t._v(" "),a("div",{staticStyle:{color:"#999999","font-size":"14px","padding-bottom":"10px"}},[a("span",{staticStyle:{display:"inline-block","margin-right":"20px"}},[t._v(" 状态: "+t._s(1==t.trainStatus?"进行中":2==t.trainStatus?"已过期":3==t.trainStatus?"已终止":"未开始")+" ")]),t._v(" "),a("span",[t._v("时间: "+t._s(t.cycle))])]),t._v(" "),a("div",{staticClass:"planDetail_rate",staticStyle:{color:"#999999","font-size":"14px","padding-bottom":"10px"}},[a("span",{staticStyle:{display:"inline-block","margin-right":"20px"}},[t._v(" 完成: "+t._s(isNaN(100*t.completePercent)?"0%":100*t.completePercent+"%")+" ")]),t._v(" "),a("span",[t._v("星级:\n          "),a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:t.planRate,callback:function(e){t.planRate=e},expression:"planRate"}})],1)]),t._v(" "),a("div",{staticClass:"planDetail_progress"},[a("el-progress",{attrs:{percentage:isNaN(100*t.completePercent)?0:100*t.completePercent}})],1)]),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.trainList}},[a("el-table-column",{attrs:{label:"序号",prop:"num"}}),t._v(" "),a("el-table-column",{attrs:{label:"运动日期",prop:"trainDate"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n              "+t._s(e.row.trainDate)+"\n            ")]),t._v(" "),a("div",[t._v("\n              "+t._s(t.formatDay(new Date(e.row.trainDate).getDay()))+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"训练内容",prop:"userFacilityInfoList"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.userFacilityInfoList,function(e,i){return a("div",{key:i,staticStyle:{"padding-top":"20px","padding-bottom":"20px","border-bottom":"1px solid #e5e5e5"}},[t._v("\n              "+t._s(e.facilityName)+t._s(e.trainContent)+"\n            ")])})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"单项完成"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.userFacilityInfoList,function(e,i){return a("div",{key:i,staticStyle:{"padding-top":"20px","padding-bottom":"20px","border-bottom":"1px solid #e5e5e5"}},[3!=e.sportType?a("span",[t._v("\n                完成:"+t._s(100*e.completePercent+"%")+"\n                "),a("div",{staticClass:"plan_rate"},[t._v("星评\n                  "),a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.completeLevel,callback:function(a){t.$set(e,"completeLevel",a)},expression:"facItem.completeLevel"}})],1)]):a("span",[t._v("N/A")])])})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"疲劳反馈",prop:"userFacilityInfoList"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.userFacilityInfoList,function(e,i){return a("div",{key:i,staticStyle:{"padding-top":"26px","padding-bottom":"26px","border-bottom":"1px solid #e5e5e5"}},[3!=e.sportType&&e.tiredFeedback?a("span",[t._v(t._s(e.tiredFeedback))]):a("span",[t._v("N/A")])])})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"每日完成",prop:"planName"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            完成"+t._s(100*e.row.courseCompletePercent+"%")+" \n            "),a("div",{staticClass:"plan_rate"},[t._v("星评\n              "),a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.row.courseCompleteLevel,callback:function(a){t.$set(e.row,"courseCompleteLevel",a)},expression:"scope.row.courseCompleteLevel"}})],1)]}}])})],1)],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("/b9+")},"data-v-1dc239fb",null);e.default=l.exports}});
//# sourceMappingURL=62.3abfdc6298284f243d57.js.map