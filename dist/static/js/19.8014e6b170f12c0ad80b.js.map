{"version":3,"sources":["webpack:///src/pages/monitor/securezoom/components/securezoomTab.vue","webpack:///./src/pages/monitor/securezoom/components/securezoomTab.vue?30c3","webpack:///./src/pages/monitor/securezoom/components/securezoomTab.vue","webpack:///src/pages/monitor/securezoom/components/secureDetail.vue","webpack:///./src/pages/monitor/securezoom/components/secureDetail.vue?5f1f","webpack:///./src/pages/monitor/securezoom/components/secureDetail.vue","webpack:///src/pages/monitor/securezoom/components/securePage.vue","webpack:///./src/pages/monitor/securezoom/components/securePage.vue?72cd","webpack:///./src/pages/monitor/securezoom/components/securePage.vue","webpack:///src/pages/monitor/securezoom/Page.vue","webpack:///./src/pages/monitor/securezoom/Page.vue?ebd7","webpack:///./src/pages/monitor/securezoom/Page.vue"],"names":["securezoomTab","Array","id","tableData","alarmType","item","list","components_securezoomTab","render","_vm","this","_h","$createElement","_c","_self","staticStyle","width","attrs","data","datas","prop","label","sortable","_v","scopedSlots","_u","key","fn","scope","directives","name","rawName","value","expression","type","plain","on","click","$event","getZoom","$index","row","staticRenderFns","securezoom_components_securezoomTab","__webpack_require__","normalizeComponent","ssrContext","secureDetail","computed","extends_default","Object","vuex_esm","monitorDetailList","format","detail","methods","ZoomDetail","_this","components_secureDetail","staticClass","_s","currentDetail","storeName","createTime","alarmCode","alarmDesc","height","src","picUrl","alt","securezoom_components_secureDetail","secureDetail_normalizeComponent","securePage","SubPage","String","components_securePage","mainTitle","subTitle","routeCallback","subPageType","_e","Page","SecurePage","securePage_normalizeComponent","fetchData","monitorList","pageSize","pageNum","total","errorDropdownStoreList","val","currentPage","curPageSize","store","params","mapPagination","address","_this2","getErrorDropDownStoreList","securezoom_Page","placeholder","model","callback","$$v","_l","align","unlink-panels","range-separator","start-placeholder","end-placeholder","value-format","time","current-page","page-sizes","page-size","layout","curTotal","size-change","handleSizeChange","current-change","handleCurrentChange","routeQuery","Page_Component","Page_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/19.8014e6b170f12c0ad80b.js","sourcesContent":["<template>\r\n  <div style=\"width: 100%\">\r\n    <el-table :data=\"datas\" style=\"width: 100%\">\r\n      <el-table-column prop=\"createTime\" label=\"上报时间\" sortable>\r\n      </el-table-column>\r\n      <el-table-column prop=\"storeName\" label=\"门店\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"alarmCode\" label=\"异常代码\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"alarmType\" label=\"类型\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"alarmDesc\" label=\"描述\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" plain @click=\"getZoom(scope.$index, scope.row)\" v-permission=\"'f5f180a8-e4a0-4e6d-9eec-adf88e88eb06'\">查看明细</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n<script>\r\n// import moment from 'moment';\r\n\r\nimport { deepCopy } from 'common/utils';\r\n\r\nexport default {\r\n  props: {\r\n    tableData: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  methods: {\r\n    getZoom(index, row) {\r\n      this.$router.push({ path: `/monitor/securezoom?ZoomDetail=${row.id}` }); \r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    datas() {\r\n      let list = deepCopy(this.tableData);\r\n      list.forEach((item, index) => {\r\n        item.alarmType =\r\n          item.alarmType == 1\r\n            ? '陌生人闯入'\r\n            : item.alarmType == 2 ? '安全画面' : '';\r\n        item.createTime = moment(item.createTime).format('YYYY-MM-DD HH:mm:ss');\r\n      });\r\n      return list;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/monitor/securezoom/components/securezoomTab.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.datas}},[_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"上报时间\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"storeName\",\"label\":\"门店\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmCode\",\"label\":\"异常代码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmType\",\"label\":\"类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmDesc\",\"label\":\"描述\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('f5f180a8-e4a0-4e6d-9eec-adf88e88eb06'),expression:\"'f5f180a8-e4a0-4e6d-9eec-adf88e88eb06'\"}],attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.getZoom(scope.$index, scope.row)}}},[_vm._v(\"查看明细\")])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2de1d576\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/monitor/securezoom/components/securezoomTab.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2de1d576\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./securezoomTab.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./securezoomTab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./securezoomTab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2de1d576\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./securezoomTab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2de1d576\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/monitor/securezoom/components/securezoomTab.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"wraper\">\r\n      <div class=\"title\">\r\n        闯入事件-详情\r\n      </div>\r\n      <div>\r\n        <p>所属门店：{{currentDetail.storeName}}</p>\r\n        <p>记录时间：{{currentDetail.createTime}}</p>\r\n        <p>异常代码：{{currentDetail.alarmCode}}</p>\r\n        <p>事件类型：{{currentDetail.alarmType ? currentDetail.alarmType == 1 ? '陌生人入场' : currentDetail.alarmType == 2 ?  '安全画面' : '' : '' }}</p>\r\n        <p>问题描述：{{currentDetail.alarmDesc}}</p>\r\n        <p>处理建议：{{currentDetail.alarmDesc}}</p>\r\n        <p>监控录像：\r\n          <el-button type=\"primary\">监控录像</el-button>\r\n        </p>\r\n        <p>抓拍图片：<img :src=\"currentDetail.picUrl\" alt=\"\" style=\"width: 70%; height: 300px\"></p>\r\n      </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\n// getMonitorDetailList\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\nimport { deepCopy } from 'common/utils';\r\n\r\n// import moment from 'moment';\r\nexport default {\r\n  computed: {\r\n    ...mapState({\r\n      monitorDetailList: state => state.securezoom.monitorDetailList //详情页接口\r\n    }),\r\n    currentDetail() {\r\n      let detail = deepCopy(this.monitorDetailList);\r\n      detail.createTime = moment(detail.createTime).format(\r\n        'YYYY-MM-DD HH:mm:ss'\r\n      );\r\n      return detail;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['getMonitorDetailList'])\r\n  },\r\n  watch: {\r\n    '$route'(val) {\r\n      this.id = val.query.ZoomDetail;\r\n    },\r\n    id() {\r\n      this.getMonitorDetailList({\r\n        id: this.$route.query.ZoomDetail\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.id = this.$route.query.ZoomDetail;\r\n      this.getMonitorDetailList({\r\n        id: this.$route.query.ZoomDetail\r\n      });\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      id: null\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.wraper {\r\n  background: white;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  box-sizing: border-box;\r\n  padding: 20px;\r\n  .title {\r\n    font-size: 30px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    border: {\r\n      bottom: 1px solid #999999;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/monitor/securezoom/components/secureDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wraper\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n    闯入事件-详情\\n  \")]),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(\"所属门店：\"+_vm._s(_vm.currentDetail.storeName))]),_vm._v(\" \"),_c('p',[_vm._v(\"记录时间：\"+_vm._s(_vm.currentDetail.createTime))]),_vm._v(\" \"),_c('p',[_vm._v(\"异常代码：\"+_vm._s(_vm.currentDetail.alarmCode))]),_vm._v(\" \"),_c('p',[_vm._v(\"事件类型：\"+_vm._s(_vm.currentDetail.alarmType ? _vm.currentDetail.alarmType == 1 ? '陌生人入场' : _vm.currentDetail.alarmType == 2 ?  '安全画面' : '' : ''))]),_vm._v(\" \"),_c('p',[_vm._v(\"问题描述：\"+_vm._s(_vm.currentDetail.alarmDesc))]),_vm._v(\" \"),_c('p',[_vm._v(\"处理建议：\"+_vm._s(_vm.currentDetail.alarmDesc))]),_vm._v(\" \"),_c('p',[_vm._v(\"监控录像：\\n      \"),_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"监控录像\")])],1),_vm._v(\" \"),_c('p',[_vm._v(\"抓拍图片：\"),_c('img',{staticStyle:{\"width\":\"70%\",\"height\":\"300px\"},attrs:{\"src\":_vm.currentDetail.picUrl,\"alt\":\"\"}})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3a10823a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/monitor/securezoom/components/secureDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a10823a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./secureDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./secureDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./secureDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3a10823a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./secureDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3a10823a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/monitor/securezoom/components/secureDetail.vue\n// module id = null\n// module chunks = ","<template>\n  <sub-page mainTitle=\"安全画面\" subTitle=\"详情\" :routeCallback=\"routeCallback\">\n    <secure-detail v-if=\"subPageType =='ZoomDetail'\"></secure-detail>\n  </sub-page>\n</template>\n\n<script>\nimport SubPage from 'components/SubPage';\n\nimport secureDetail from './secureDetail'\nexport default {\n  methods: {\n    routeCallback() {\n      this.$router.push({ path: '/monitor/securezoom' });\n    }\n  },\n  components: {\n    SubPage,\n    secureDetail\n  },\n  props: {\n    subPageType: {\n      type: String,\n      default: ''\n    }\n  },\n  computed:{},\n  data() {\n    return {\n      mapSubPage: {\n        ZoomDetail: {\n          mainTitle: '安全画面',\n          subTitle: '详情'\n        }\n      }\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/monitor/securezoom/components/securePage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sub-page',{attrs:{\"mainTitle\":\"安全画面\",\"subTitle\":\"详情\",\"routeCallback\":_vm.routeCallback}},[(_vm.subPageType =='ZoomDetail')?_c('secure-detail'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-404ff4a4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/monitor/securezoom/components/securePage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-404ff4a4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./securePage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./securePage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./securePage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-404ff4a4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./securePage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-404ff4a4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/monitor/securezoom/components/securePage.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"protalPage\" v-if=\"isLoadSubPage\">\r\n    <div class=\"wraper\">\r\n      <div class=\"title\">\r\n        安全画面\r\n      </div>\r\n      <div class=\"sportOrderTop\">\r\n        <!-- 门店选择框 -->\r\n        <div>\r\n          门店：\r\n          <el-select v-model=\"store\" placeholder=\"请选择\">\r\n            <el-option v-for=\"item in storeList\" :key=\"item.id\" :label=\"item.storeName\" :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <!-- 类型选择框 -->\r\n        <div>\r\n          类型：\r\n          <el-select v-model=\"type\" placeholder=\"请选择\">\r\n            <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <!-- 选择时间和日期 -->\r\n        <div class=\"block\">\r\n          <el-date-picker v-model=\"time\" type=\"daterange\" align=\"right\" unlink-panels range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\">\r\n          </el-date-picker>\r\n        </div>\r\n        <!-- 搜索框 -->\r\n      </div>\r\n      <!-- 表格部分 -->\r\n      <div class=\"sportOrderBotom\" v-permission=\"'85c36449-4f88-4255-a3eb-a520a46d6bac'\">\r\n        <div>\r\n          <securezoom-tab :tableData=\"monitorList\"></securezoom-tab>\r\n        </div>\r\n        <!-- 分页 -->\r\n        <div class=\"paging\">\r\n          <div class=\"block\">\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"10\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"curTotal\">\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <secure-page v-else :subPageType=\"routeQuery\"></secure-page>\r\n</template>\r\n\r\n<script>\r\nimport securezoomTab from './components/securezoomTab';\r\n\r\nimport SecurePage from './components/securePage';\r\n\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\nimport secureDetail from './components/secureDetail';\r\n\r\nimport { deepCopy } from 'common/utils';\r\nexport default {\r\n  components: {\r\n    securezoomTab,\r\n    SecurePage\r\n  },\r\n  watch: {\r\n    store() {\r\n      this.fetchData();\r\n    },\r\n    time(val) {\r\n      // console.log(val)\r\n      this.fetchData();\r\n    },\r\n    type() {\r\n      this.fetchData();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      monitorList: state => state.securezoom.monitorList,\r\n      monitorDetailList: state => state.securezoom.monitorDetailList, //详情页接口\r\n      pageSize: state => state.securezoom.pageSize,\r\n      pageNum: state => state.securezoom.pageNum,\r\n      total: state => state.securezoom.total,\r\n      errorDropdownStoreList: state => state.error.errorDropdownStoreList\r\n    }),\r\n    storeList() {\r\n      // let list = [];\r\n      let list = deepCopy(this.errorDropdownStoreList);\r\n      list.unshift({\r\n        storeName: '全部门店',\r\n        id: 'all'\r\n      });\r\n      return list;\r\n    },\r\n    routeQuery() {\r\n      return Object.keys(this.$route.query)[0];\r\n    },\r\n    isLoadSubPage() {\r\n      if (Object.keys(this.$route.query)[0]) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'getMonitorList',\r\n      'getMonitorDetailList',\r\n      'getErrorDropDownStoreList'\r\n    ]),\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`);\r\n      this.curPageSize = val;\r\n      this.fetchData();\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.currentPage = val;\r\n      this.fetchData();\r\n    },\r\n    createParams() {\r\n      let params = {};\r\n      params.page = this.currentPage;\r\n      params.size = this.curPageSize;\r\n      if (this.time.length > 0) {\r\n        params.beginTime = this.time[0] + ' 00:00:00';\r\n        params.endTime = this.time[1] + ' 23:59:59';\r\n      }\r\n      if (this.store !== 'all') {\r\n        params.storeId = this.store;\r\n      }\r\n      if (this.type !== 'all') {\r\n        params.alarmType = this.type;\r\n      }\r\n      return params;\r\n    },\r\n    mapPagination() {\r\n      this.currentPage = this.pageNum;\r\n      this.curTotal = this.total;\r\n      // console.log('zongyeshu', this.total);\r\n      this.curPageSize = this.pageSize;\r\n    },\r\n    fetchData() {\r\n      this.getMonitorList(this.createParams()).then(() => {\r\n        this.mapPagination();\r\n      });\r\n    },\r\n    formatter(row, column) {\r\n      return row.address;\r\n    },\r\n    filterTag(value, row) {\r\n      return row.tag === value;\r\n    },\r\n    filterHandler(value, row, column) {\r\n      const property = column['property'];\r\n      return row[property] === value;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      options: [\r\n        {\r\n          value: 'all',\r\n          label: '全部'\r\n        },\r\n        {\r\n          value: '1',\r\n          label: '陌生人闯入'\r\n        },\r\n        {\r\n          value: '2',\r\n          label: '安全画面'\r\n        }\r\n      ],\r\n      pageSizes: [10, 20, 30, 40],\r\n      curPageSize: 10,\r\n      currentPage: 1,\r\n      curTotal: 0,\r\n      value3: [new Date(2000, 10, 10, 10, 10), new Date(2000, 10, 11, 10, 10)],\r\n      value7: '',\r\n      pickerOptions1: {},\r\n      input21: '',\r\n      store: 'all',\r\n      type: 'all',\r\n      time: []\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next( vm => {\r\n      vm.$nextTick( () => {\r\n        vm.fetchData();\r\n      });\r\n    })\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      // this.getMonitorList();\r\n      this.fetchData();\r\n      this.getErrorDropDownStoreList();\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wraper {\r\n  background: white;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  box-sizing: border-box;\r\n  padding: 20px;\r\n  .sportOrderTop {\r\n    display: -webkit-flex;\r\n    justify-content: space-between;\r\n    margin: 20px 0;\r\n  }\r\n  .title {\r\n    font-size: 30px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    border: {\r\n      bottom: 1px solid #999999;\r\n    }\r\n  }\r\n  .sportOrderBotom {\r\n    .paging {\r\n      margin-top: 30px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/monitor/securezoom/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoadSubPage)?_c('div',{staticClass:\"protalPage\"},[_c('div',{staticClass:\"wraper\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      安全画面\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"sportOrderTop\"},[_c('div',[_vm._v(\"\\n        门店：\\n        \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.store),callback:function ($$v) {_vm.store=$$v},expression:\"store\"}},_vm._l((_vm.storeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.storeName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',[_vm._v(\"\\n        类型：\\n        \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('85c36449-4f88-4255-a3eb-a520a46d6bac'),expression:\"'85c36449-4f88-4255-a3eb-a520a46d6bac'\"}],staticClass:\"sportOrderBotom\"},[_c('div',[_c('securezoom-tab',{attrs:{\"tableData\":_vm.monitorList}})],1),_vm._v(\" \"),_c('div',{staticClass:\"paging\"},[_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":10,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.curTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])])])]):_c('secure-page',{attrs:{\"subPageType\":_vm.routeQuery}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79e5aa04\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/monitor/securezoom/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79e5aa04\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79e5aa04\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-79e5aa04\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/monitor/securezoom/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}