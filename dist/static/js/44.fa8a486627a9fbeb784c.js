webpackJsonp([44],{LUXk:function(t,e,n){"use strict";e.a=function(t){return o.a.post("admin/store/getCouponUseList",t)},e.c=function(t){return o.a.post("admin/Store/getCouponTotal",t)},e.b=function(t){return o.a.post("admin/store/getStoreCouponUseList",t)},e.d=function(t){return o.a.post("admin/store/getStoreCouponTotal",t)};var o=n("RyKi")},UI4X:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("LUXk"),a={components:{SubTitle:n("0LZo").a},data:function(){return{pickerOptions2:{shortcuts:[{text:"本周",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"本月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}},{text:"本年",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-31536e6),t.$emit("pick",[n,e])}}]},time:[],couponPresentList:[],couponTotal:[]}},watch:{time:function(){this.fetchPresentList(),this.fetchCouponTotal()}},methods:{setDefaultDate:function(){var t=this.moment().format("YYYY-MM-DD"),e=this.moment(t).add(-30,"days").format("YYYY-MM-DD");this.time=[e,t]},jumpTo:function(t){this.$router.push({path:"/finance/presentDetail?storeId="+t.storeId})},fetchPresentList:function(){var t=this;Object(o.a)({page:1,size:10,beginTime:this.time[0],endTime:this.time[1]}).then(function(e){t.couponPresentList=e.data.data.list})},fetchCouponTotal:function(){var t=this;Object(o.c)({beginTime:this.time[0],endTime:this.time[1]}).then(function(e){t.couponTotal=[e.data.data]})}},beforeRouteEnter:function(t,e,n){n(function(t){t.$nextTick(function(){t.fetchPresentList(),t.fetchCouponTotal()})})},mounted:function(){var t=this;this.$nextTick(function(){t.setDefaultDate(),t.fetchPresentList(),t.fetchCouponTotal()})}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"couponPresentPage"},[n("sub-title",{attrs:{title:"赠送消耗"}}),t._v(" "),n("div",{staticClass:"date_time_picker",staticStyle:{"margin-top":"30px","margin-bottom":"10px"}},[n("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions2,"value-format":"yyyy-MM-dd"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),n("el-table",{directives:[{name:"permission",rawName:"v-permission",value:"2455e031-2471-40cd-9f76-f5d2026f6127",expression:"'2455e031-2471-40cd-9f76-f5d2026f6127'"}],staticStyle:{width:"100%"},attrs:{data:t.couponPresentList}},[n("el-table-column",{attrs:{label:"排名",prop:"sortNum"}}),t._v(" "),n("el-table-column",{attrs:{prop:"storeName",label:"门店"}}),t._v(" "),n("el-table-column",{attrs:{label:"优惠券使用张数",prop:"couponCount"}}),t._v(" "),n("el-table-column",{attrs:{label:"总抵用金额",prop:"discountMoney"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.discountMoney/100+"元")+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"b35d87ba-79d4-434a-9eee-7bce76e982c9",expression:"'b35d87ba-79d4-434a-9eee-7bce76e982c9'"}],attrs:{type:"primay",plain:""},on:{click:function(n){t.jumpTo(e.row)}}},[t._v("查看操作")])]}}])})],1),t._v(" "),n("div",{staticClass:"totalCoupon",staticStyle:{"margin-top":"20px"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.couponTotal}},[n("el-table-column",{attrs:{label:"  "},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        总计\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"storeNum",label:"门店总数"}}),t._v(" "),n("el-table-column",{attrs:{label:"优惠券使用张数",prop:"couponCount"}}),t._v(" "),n("el-table-column",{attrs:{label:"总抵用金额",prop:"discountMoney"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.discountMoneyTotal/100+"元")+"\n      ")]}}])})],1)],1)],1)},staticRenderFns:[]};var s=n("VU/8")(a,i,!1,function(t){n("Wtzq")},"data-v-4b067ae5",null);e.default=s.exports},Wtzq:function(t,e){}});
//# sourceMappingURL=44.fa8a486627a9fbeb784c.js.map