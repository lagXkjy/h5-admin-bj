{"version":3,"sources":["webpack:///src/pages/monitor/stranger/components/strangerTab.vue","webpack:///./src/pages/monitor/stranger/components/strangerTab.vue?3870","webpack:///./src/pages/monitor/stranger/components/strangerTab.vue","webpack:///src/pages/monitor/stranger/components/strangerDetail.vue","webpack:///./src/pages/monitor/stranger/components/strangerDetail.vue?746b","webpack:///./src/pages/monitor/stranger/components/strangerDetail.vue","webpack:///src/pages/monitor/stranger/components/strangerPage.vue","webpack:///./src/pages/monitor/stranger/components/strangerPage.vue?eed7","webpack:///./src/pages/monitor/stranger/components/strangerPage.vue","webpack:///src/pages/monitor/stranger/Page.vue","webpack:///./src/pages/monitor/stranger/Page.vue?767e","webpack:///./src/pages/monitor/stranger/Page.vue"],"names":["strangerTab","Array","id","tableData","dealStatus","item","list","components_strangerTab","render","_vm","this","_h","$createElement","_c","_self","staticStyle","width","attrs","data","datas","prop","label","sortable","_v","scopedSlots","_u","key","fn","scope","directives","name","rawName","value","expression","type","plain","on","click","$event","getStranger","$index","row","staticRenderFns","stranger_components_strangerTab","__webpack_require__","normalizeComponent","ssrContext","strangerDetail","computed","extends_default","Object","vuex_esm","strangerDetailList","userInformation","format","detail","methods","_this","content","status","userId","then","res","fetchData","_this2","strangerTotal","_this3","components_strangerDetail","staticClass","_s","currentDetail","storeName","createTime","alarmCode","alarmName","alarmDesc","_m","userInfo","nickname","mobile","orderSn","startTime","endTime","title","src","newFace","alt","text-align","color","originalFace","dealResult","placeholder","disabled","model","callback","$$v","_e","background-color","padding","report","box-sizing","font-size","font-weight","padding-bottom","dealRemark","border-top","updateTime","style","stranger_components_strangerDetail","strangerDetail_normalizeComponent","strangerPage","SubPage","String","components_strangerPage","mainTitle","subTitle","routeCallback","subPageType","Page","strangerPage_normalizeComponent","mapPagination","strangerList","errorDropdownStoreList","pageSize","pageNum","total","state","stranger","strangereIsFetchingData","val","address","store","currentPage","curPageSize","params","Date","end","getErrorDropDownStoreList","stranger_Page","_l","margin-left","margin-right","align","unlink-panels","range-separator","start-placeholder","end-placeholder","picker-options","pickerOptions2","value-format","time","current-page","page-sizes","pageSizes","page-size","layout","curTotal","size-change","handleSizeChange","current-change","handleCurrentChange","routeQuery","Page_Component","Page_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/18.19fc98ff1278292f169d.js","sourcesContent":["<template>\r\n  <div style=\"width: 100%\">\r\n    <el-table :data=\"datas\" style=\"width: 100%\">\r\n      <el-table-column prop=\"createTime\" label=\"上报时间\" sortable>\r\n      </el-table-column>\r\n      <el-table-column prop=\"storeName\" label=\"门店\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"alarmCode\" label=\"异常代码\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"alarmName\" label=\"类型\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"alarmDesc\" label=\"描述\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"dealStatus\" label=\"状态\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" plain @click=\"getStranger(scope.$index, scope.row)\" v-permission=\"'a3d94429-0305-4318-8e52-5d10cda6b3fb'\">查看详情</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { deepCopy } from 'common/utils';\r\n\r\n// import moment from 'moment';\r\nexport default {\r\n  props: {\r\n    tableData: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  methods: {\r\n    getStranger(index, row) {\r\n      //console.log('11', row);\r\n      this.$router.push({ path: `/monitor/stranger?strangerTotal=${row.id}` });\r\n    },\r\n  },\r\n  computed: {\r\n    datas() {\r\n      let list = deepCopy(this.tableData);\r\n      list.forEach((item, index) => {\r\n        item.dealStatus =\r\n          item.dealStatus == 1\r\n            ? '待处理'\r\n            : item.dealStatus == 2 ? '已处理' : '';\r\n              item.createTime = moment(item.createTime).format('YYYY-MM-DD HH:mm:ss');\r\n      });\r\n      return list;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/monitor/stranger/components/strangerTab.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.datas}},[_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"上报时间\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"storeName\",\"label\":\"门店\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmCode\",\"label\":\"异常代码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmName\",\"label\":\"类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmDesc\",\"label\":\"描述\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dealStatus\",\"label\":\"状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('a3d94429-0305-4318-8e52-5d10cda6b3fb'),expression:\"'a3d94429-0305-4318-8e52-5d10cda6b3fb'\"}],attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.getStranger(scope.$index, scope.row)}}},[_vm._v(\"查看详情\")])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e805f68\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/monitor/stranger/components/strangerTab.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e805f68\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./strangerTab.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./strangerTab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./strangerTab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e805f68\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./strangerTab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e805f68\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/monitor/stranger/components/strangerTab.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"wraper\">\r\n    <div class=\"handleStatus\">状态:  {{currentDetail.dealStatus == 1 ? '待处理' : currentDetail.dealStatus == 2 ? '已处理' : ''}}</div>\r\n    <div class=\"detail\">\r\n      <div class=\"subTitle\">\r\n        基本信息\r\n      </div>\r\n      <div class=\"top\">\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">所属门店</div>{{currentDetail.storeName}}</div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">记录时间</div>{{currentDetail.createTime}}</div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">异常代码</div>{{currentDetail.alarmCode}}</div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">事件类型</div>{{currentDetail.alarmName}}</div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">问题描述</div>{{currentDetail.alarmDesc}}</div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">监控录像</div>（此功能暂没开通）\r\n        </div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">闯入用户</div>{{currentDetail.userInfo ? currentDetail.userInfo.nickname : ''}}</div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">用户ID</div>   {{currentDetail.userId}}</div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">联系电话</div>{{currentDetail.userInfo ? currentDetail.userInfo.mobile : ''}}</div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">订单号码</div>{{currentDetail.orderSn}}</div>\r\n        <div class=\"info_item\">\r\n          <div class=\"item_subTitle\">预约时间</div>{{currentDetail.startTime}}至{{currentDetail.endTime}}</div>\r\n      </div>\r\n      <div class=\"bottom\">\r\n          <div class=\"info_item\">\r\n            人脸对比照片：\r\n          </div>\r\n          <div class=\"comparison\">\r\n      <div class=\"comparison_item new\" title=\"新人脸记录\">\r\n        <img :src=\"currentDetail.newFace\" alt=\"\"  class=\"face_img\"/>\r\n        <span style=\"text-align: center; color: #999999\">新人脸记录</span>\r\n      </div>\r\n      <div class=\"comparison_item ever\" title=\"初始人脸记录\">\r\n        <img :src=\"currentDetail.originalFace\" alt=\"\" class=\"face_img\">\r\n        <span style=\"text-align: center; color: #999999\">初始人脸记录</span>\r\n      </div>\r\n    </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"dealContent\" v-if=\"detail.dealResult == 0\">\r\n      处理备注:\r\n      <el-input v-model=\"content\" placeholder=\"\" :disabled=\"detail.dealResult != 0\"></el-input>\r\n    </div>\r\n    <div class=\"feedbackButtons\" style=\"background-color: #ffffff;padding: 20px\" v-if=\"detail.dealResult == 0\">\r\n      <el-button type=\"primary\" @click=\"report(1)\" :disabled=\"detail.dealResult == 1\">有效举报</el-button>\r\n      <el-button @click=\"report(2)\">无效举报</el-button>\r\n    </div>\r\n\r\n    <div class=\"dealResult\" v-if=\"detail.dealResult != 0\" style=\"width: 100%; background-color: #ffffff; box-sizing: border-box; padding: 20px\">\r\n      <div style=\"font-size: 18px; font-weight: 600\">{{detail.dealResult == 1 ? '有效举报' : detail.dealResult == 2 ? '无效举报' : ''}}</div>\r\n      <div style=\"padding-bottom: 20px;\">处理备注: &nbsp;{{detail.dealRemark}}</div>\r\n      <div style=\"color: #666666;font-size:10px;border-top:1px solid #666666\">操作&nbsp;用户名:admin 时间:{{currentDetail.updateTime}}</div>\r\n    </div>\r\n    <div class=\"tips\" :style=\"`color: #666666`\">\r\n      <div>*说明</div>\r\n      <div>有效反馈，系统给予反馈用户相应的信用加分项。</div>\r\n      <div>无效反馈，暂无后续操作。</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\nimport { deepCopy } from 'common/utils';\r\n\r\n// import moment from 'moment';\r\n\r\nimport { failureUpdate } from 'api/monitor/stranger';\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapState({\r\n      strangerDetailList: state => state.stranger.strangerDetailList, //详情页接口\r\n      userInformation: state => state.auth.userInformation\r\n    }),\r\n    currentDetail() {\r\n      let detail = Object.assign({}, this.strangerDetailList);\r\n\r\n      detail.createTime = moment(detail.createTime).format(\r\n        'YYYY-MM-DD HH:mm:ss'\r\n      );\r\n      detail.updateTime = moment(detail.updateTime).format(\r\n        'YYYY-MM-DD HH:mm:ss'\r\n      );\r\n      detail.startTime = moment(detail.startTime).format('YYYY-MM-DD HH:mm:ss');\r\n      detail.endTime = moment(detail.endTime).format('YYYY-MM-DD HH:mm:ss');\r\n      return detail;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['getStrangerDetailList']),\r\n    report(status) {\r\n      if (!this.content) {\r\n         return this.$notify.error(\"请输入处理备注\");\r\n      }\r\n      failureUpdate({\r\n        dealRemark: this.content,\r\n        dealStatus: 2,\r\n        dealResult: status,\r\n        operateId: this.userInformation.id,\r\n        operateType: 2,\r\n        userId: this.currentDetail.userId,\r\n        id: this.detail.id\r\n      }).then( (res) => {\r\n        if (res.data.code == 200) {\r\n          this.fetchData();\r\n          return this.$notify.success('更新申诉状态成功')\r\n        }\r\n        return this.$notify.error('更新申诉状态失败')\r\n      }).catch( (error) => {\r\n        return this.$notify.error('更新申诉状态失败')\r\n      })\r\n    },\r\n    fetchData() {\r\n      this.getStrangerDetailList({\r\n        id: this.id\r\n      }).then( () => {\r\n        this.detail = Object.assign({}, this.strangerDetailList);\r\n      })\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      content: '',\r\n      id: null,\r\n      detail: {}\r\n    };\r\n  },\r\n  watch: {\r\n    '$route'(val) {\r\n      this.id = val.query.strangerTotal;\r\n    },\r\n    id() {\r\n      this.fetchData();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.id = this.$route.query.strangerTotal;\r\n      this.fetchData();\r\n    });\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '~assets/style/utils';\r\n\r\n.wraper {\r\n  // background: white;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  box-sizing: border-box;\r\n  // padding: 20px;\r\n  .title {\r\n    font-size: 30px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    border: {\r\n      bottom: 1px solid #999999;\r\n    }\r\n  }\r\n  .detail {\r\n    background-color: #ffffff;\r\n    box-sizing: border-box;\r\n    padding: 20px;\r\n    // display: flex;\r\n    .top {\r\n      width: 100%;\r\n      @include flexbox;\r\n      @include flex-wrap(wrap);\r\n      .info_item {\r\n        width: 50%;\r\n        height: 50px;\r\n        line-height: 50px;\r\n      }\r\n      .item_subTitle {\r\n        display: inline-block;\r\n        width: 120px;\r\n        color: #666666;\r\n      }\r\n    }\r\n    .bottom {\r\n      padding: {\r\n        top: 10px;\r\n      }\r\n      .info_item {\r\n\r\n          display: inline-block;\r\n          width: 120px;\r\n          color: #666666;\r\n      }\r\n    }\r\n  }\r\n  .comparison {\r\n    display: flex;\r\n    justify-content: space-around;\r\n  }\r\n  .comparison_item {\r\n    @include flexbox;\r\n    @include flex-direction(column);\r\n  }\r\n  .textarea {\r\n    margin: 10px 0;\r\n  }\r\n  .button {\r\n    display: flex;\r\n    justify-content: space-around;\r\n  }\r\n}\r\n.subTitle {\r\n  font-size: 22px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  border: {\r\n    bottom: 1px solid #e5e5e5;\r\n  }\r\n}\r\n.handleStatus {\r\n  padding: 20px;\r\n  font-weight: 600;\r\n  background-color: #ffffff;\r\n  margin: {\r\n    bottom: 20px;\r\n  }\r\n}\r\n.dealContent{\r\n  background-color: #ffffff;\r\n  box-sizing: border-box;\r\n  padding: 20px;\r\n}\r\n.dealResult{\r\n  background-color: #ffffff;\r\n}\r\n.face_img {\r\n  width: 200px;\r\n  height: 200px;\r\n}\r\n\r\n.tips {\r\n  font-size: 10px;\r\n  background-color: #ffffff;\r\n  padding: 20px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/monitor/stranger/components/strangerDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wraper\"},[_c('div',{staticClass:\"handleStatus\"},[_vm._v(\"状态:  \"+_vm._s(_vm.currentDetail.dealStatus == 1 ? '待处理' : _vm.currentDetail.dealStatus == 2 ? '已处理' : ''))]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"subTitle\"},[_vm._v(\"\\n      基本信息\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"所属门店\")]),_vm._v(_vm._s(_vm.currentDetail.storeName))]),_vm._v(\" \"),_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"记录时间\")]),_vm._v(_vm._s(_vm.currentDetail.createTime))]),_vm._v(\" \"),_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"异常代码\")]),_vm._v(_vm._s(_vm.currentDetail.alarmCode))]),_vm._v(\" \"),_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"事件类型\")]),_vm._v(_vm._s(_vm.currentDetail.alarmName))]),_vm._v(\" \"),_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"问题描述\")]),_vm._v(_vm._s(_vm.currentDetail.alarmDesc))]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"闯入用户\")]),_vm._v(_vm._s(_vm.currentDetail.userInfo ? _vm.currentDetail.userInfo.nickname : ''))]),_vm._v(\" \"),_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"用户ID\")]),_vm._v(\"   \"+_vm._s(_vm.currentDetail.userId))]),_vm._v(\" \"),_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"联系电话\")]),_vm._v(_vm._s(_vm.currentDetail.userInfo ? _vm.currentDetail.userInfo.mobile : ''))]),_vm._v(\" \"),_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"订单号码\")]),_vm._v(_vm._s(_vm.currentDetail.orderSn))]),_vm._v(\" \"),_c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"预约时间\")]),_vm._v(_vm._s(_vm.currentDetail.startTime)+\"至\"+_vm._s(_vm.currentDetail.endTime))])]),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"info_item\"},[_vm._v(\"\\n          人脸对比照片：\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"comparison\"},[_c('div',{staticClass:\"comparison_item new\",attrs:{\"title\":\"新人脸记录\"}},[_c('img',{staticClass:\"face_img\",attrs:{\"src\":_vm.currentDetail.newFace,\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"text-align\":\"center\",\"color\":\"#999999\"}},[_vm._v(\"新人脸记录\")])]),_vm._v(\" \"),_c('div',{staticClass:\"comparison_item ever\",attrs:{\"title\":\"初始人脸记录\"}},[_c('img',{staticClass:\"face_img\",attrs:{\"src\":_vm.currentDetail.originalFace,\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"text-align\":\"center\",\"color\":\"#999999\"}},[_vm._v(\"初始人脸记录\")])])])])]),_vm._v(\" \"),(_vm.detail.dealResult == 0)?_c('div',{staticClass:\"dealContent\"},[_vm._v(\"\\n    处理备注:\\n    \"),_c('el-input',{attrs:{\"placeholder\":\"\",\"disabled\":_vm.detail.dealResult != 0},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.detail.dealResult == 0)?_c('div',{staticClass:\"feedbackButtons\",staticStyle:{\"background-color\":\"#ffffff\",\"padding\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.detail.dealResult == 1},on:{\"click\":function($event){_vm.report(1)}}},[_vm._v(\"有效举报\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.report(2)}}},[_vm._v(\"无效举报\")])],1):_vm._e(),_vm._v(\" \"),(_vm.detail.dealResult != 0)?_c('div',{staticClass:\"dealResult\",staticStyle:{\"width\":\"100%\",\"background-color\":\"#ffffff\",\"box-sizing\":\"border-box\",\"padding\":\"20px\"}},[_c('div',{staticStyle:{\"font-size\":\"18px\",\"font-weight\":\"600\"}},[_vm._v(_vm._s(_vm.detail.dealResult == 1 ? '有效举报' : _vm.detail.dealResult == 2 ? '无效举报' : ''))]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-bottom\":\"20px\"}},[_vm._v(\"处理备注:  \"+_vm._s(_vm.detail.dealRemark))]),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#666666\",\"font-size\":\"10px\",\"border-top\":\"1px solid #666666\"}},[_vm._v(\"操作 用户名:admin 时间:\"+_vm._s(_vm.currentDetail.updateTime))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"tips\",style:(\"color: #666666\")},[_c('div',[_vm._v(\"*说明\")]),_vm._v(\" \"),_c('div',[_vm._v(\"有效反馈，系统给予反馈用户相应的信用加分项。\")]),_vm._v(\" \"),_c('div',[_vm._v(\"无效反馈，暂无后续操作。\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info_item\"},[_c('div',{staticClass:\"item_subTitle\"},[_vm._v(\"监控录像\")]),_vm._v(\"（此功能暂没开通）\\n      \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3010beb0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/monitor/stranger/components/strangerDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3010beb0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./strangerDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./strangerDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./strangerDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3010beb0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./strangerDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3010beb0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/monitor/stranger/components/strangerDetail.vue\n// module id = null\n// module chunks = ","<template>\n  <sub-page mainTitle=\"陌生人入场\" subTitle=\"详情\" :routeCallback=\"routeCallback\">\n    <stranger-detail v-if=\"subPageType =='strangerTotal'\"></stranger-detail>\n  </sub-page>\n</template>\n\n<script>\nimport SubPage from 'components/SubPage';\n\nimport strangerDetail from './strangerDetail';\n\nexport default {\n  methods: {\n    routeCallback() {\n      this.$router.push({ path: '/monitor/stranger' });\n    }\n  },\n  components: {\n    SubPage,\n    strangerDetail\n  },\n  props: {\n    subPageType: {\n      type: String,\n      default: ''\n    }\n  },\n  computed:{},\n  data() {\n    return {\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/monitor/stranger/components/strangerPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sub-page',{attrs:{\"mainTitle\":\"陌生人入场\",\"subTitle\":\"详情\",\"routeCallback\":_vm.routeCallback}},[(_vm.subPageType =='strangerTotal')?_c('stranger-detail'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc248480\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/monitor/stranger/components/strangerPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc248480\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./strangerPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./strangerPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./strangerPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc248480\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./strangerPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dc248480\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/monitor/stranger/components/strangerPage.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"protalPage\" v-if=\"isLoadSubPage\">\r\n    <div class=\"wraper\">\r\n      <div class=\"title\">\r\n        陌生人闯入记录\r\n      </div>\r\n      <div class=\"sportOrderTop\">\r\n        <div>\r\n          门店：\r\n          <el-select v-model=\"store\" placeholder=\"请选择\">\r\n            <el-option v-for=\"item in storeList\" :key=\"item.id\" :label=\"item.storeName\" :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <!-- 类型选择框 -->\r\n        <div style=\"margin-left: 10px; margin-right: 20px\">\r\n          状态：\r\n          <el-select v-model=\"value\" placeholder=\"请选择\">\r\n            <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <!-- 选择时间和日期 -->\r\n        <div class=\"block\">\r\n          <el-date-picker v-model=\"time\" type=\"daterange\" align=\"right\" unlink-panels range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" :picker-options=\"pickerOptions2\" value-format=\"yyyy-MM-dd\">\r\n          </el-date-picker>\r\n        </div>\r\n      </div>\r\n      <!-- 表格部分 -->\r\n      <div class=\"sportOrderBotom\" v-permission=\"'2b89c3d6-0675-4507-8415-357823b95e4a'\">\r\n        <div v-loading=\"strangereIsFetchingData\">\r\n          <stranger-tab :tableData=\"strangerList\"></stranger-tab>\r\n        </div>\r\n        <!-- 分页 -->\r\n        <div class=\"paging\">\r\n          <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage\" :page-sizes=\"pageSizes\" :page-size=\"curPageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"curTotal\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <stranger-Page v-else :subPageType=\"routeQuery\"></stranger-Page>\r\n</template>\r\n\r\n<script>\r\nimport { deepCopy } from 'common/utils';\r\n\r\nimport strangerTab from './components/strangerTab';\r\n\r\nimport strangerPage from './components/strangerPage';\r\n\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\nexport default {\r\n  components: {\r\n    strangerTab,\r\n    strangerPage\r\n  },\r\n  watch: {\r\n    store() {\r\n      this.fetchData();\r\n    },\r\n    value() {\r\n      this.getStrangerList(this.computeParams()).then(() => {\r\n        this.mapPagination();\r\n      });\r\n    },\r\n    time(val) {\r\n      // console.log(val)\r\n      this.fetchData();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      strangerList: state => state.stranger.strangerList,\r\n      strangerDetailList: state => state.stranger.strangerDetailList, //详情页接口,\r\n      errorDropdownStoreList: state => state.error.errorDropdownStoreList,\r\n      pageSize: state => state.stranger.pageSize,\r\n      pageNum: state => state.stranger.pageNum,\r\n      total: state => state.stranger.total,\r\n      strangereIsFetchingData: state =>\r\n        state.stranger.strangereIsFetchingData\r\n    }),\r\n    storeList() {\r\n      // let list = [];\r\n      let list = deepCopy(this.errorDropdownStoreList);\r\n      list.unshift({\r\n        storeName: '全部门店',\r\n        id: 'all'\r\n      });\r\n      return list;\r\n    },\r\n    routeQuery() {\r\n      return Object.keys(this.$route.query)[0];\r\n    },\r\n    isLoadSubPage() {\r\n      if (Object.keys(this.$route.query)[0]) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'getStrangerList',\r\n      'getStrangerDetailList',\r\n      'getErrorDropDownStoreList'\r\n    ]),\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`);\r\n      this.curPageSize = val;\r\n      this.fetchData();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n      // console.log(`当前页: ${val}`);\r\n      this.fetchData();\r\n    },\r\n    formatter(row, column) {\r\n      return row.address;\r\n    },\r\n    filterTag(value, row) {\r\n      return row.tag === value;\r\n    },\r\n    filterHandler(value, row, column) {\r\n      const property = column['property'];\r\n      return row[property] === value;\r\n    },\r\n    mapPagination() {\r\n      this.currentPage = this.pageNum;\r\n      this.curTotal = this.total;\r\n      this.curPageSize = this.pageSize;\r\n    },\r\n    computeParams() {\r\n      let params = {};\r\n      if (this.value !== 'all') {\r\n        params.dealStatus = this.value;\r\n      }\r\n      if (this.store !== 'all') {\r\n        params.storeId = this.store;\r\n      }\r\n      if (this.time.length > 0) {\r\n        params.beginTime = this.time[0] + ' 00:00:00';\r\n        params.endTime = this.time[1] + ' 23:59:59';\r\n      }\r\n      params.page = this.currentPage;\r\n      params.size = this.curPageSize;\r\n      return params;\r\n    },\r\n    fetchData() {\r\n      this.getStrangerList(this.computeParams()).then(() => {\r\n        this.mapPagination();\r\n      });\r\n    }\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next( vm => {\r\n      vm.$nextTick( () => {\r\n        vm.fetchData();\r\n        vm.getStrangerList({\r\n          page: 1,\r\n          size: 10\r\n        })\r\n      });\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      options: [\r\n        {\r\n          value: 'all',\r\n          label: '全部'\r\n        },\r\n        {\r\n          value: '1',\r\n          label: '待处理'\r\n        },\r\n        {\r\n          value: '2',\r\n          label: '已处理'\r\n        }\r\n      ],\r\n      value: 'all',\r\n      store: 'all',\r\n      currentPage: 1,\r\n      pageSizes: [10, 20, 30, 40],\r\n      curPageSize: 10,\r\n      curTotal: 0,\r\n      value11: '',\r\n      pickerOptions2: {\r\n        shortcuts: [\r\n          {\r\n            text: '本周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: '本月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: '本年',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 365);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      value1: '',\r\n      value2: '',\r\n      input21: '',\r\n      time: []\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.getStrangerList({\r\n        page: 1,\r\n        size: 10\r\n      });\r\n    });\r\n    this.getErrorDropDownStoreList();\r\n    this.fetchData();\r\n    // this.getErrorDropDownStoreList().then(() => {\r\n    //   this.fetchData();\r\n    // });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~assets/style/utils';\r\n\r\n.wraper {\r\n  background: white;\r\n  width: 100%;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  overflow-y: scroll;\r\n  padding: 20px;\r\n  .sportOrderTop {\r\n    @include flexbox;\r\n    margin: 20px 0;\r\n  }\r\n  .title {\r\n    font-size: 30px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    border: {\r\n      bottom: 1px solid #999999;\r\n    }\r\n  }\r\n  .sportOrderBotom {\r\n    .paging {\r\n      margin-top: 30px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/monitor/stranger/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoadSubPage)?_c('div',{staticClass:\"protalPage\"},[_c('div',{staticClass:\"wraper\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      陌生人闯入记录\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"sportOrderTop\"},[_c('div',[_vm._v(\"\\n        门店：\\n        \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.store),callback:function ($$v) {_vm.store=$$v},expression:\"store\"}},_vm._l((_vm.storeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.storeName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"20px\"}},[_vm._v(\"\\n        状态：\\n        \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions2,\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('2b89c3d6-0675-4507-8415-357823b95e4a'),expression:\"'2b89c3d6-0675-4507-8415-357823b95e4a'\"}],staticClass:\"sportOrderBotom\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.strangereIsFetchingData),expression:\"strangereIsFetchingData\"}]},[_c('stranger-tab',{attrs:{\"tableData\":_vm.strangerList}})],1),_vm._v(\" \"),_c('div',{staticClass:\"paging\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.curPageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.curTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])])]):_c('stranger-Page',{attrs:{\"subPageType\":_vm.routeQuery}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-999846fe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/monitor/stranger/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-999846fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-999846fe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-999846fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/monitor/stranger/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}