webpackJsonp([3],{"+Euq":function(t,i){},DGMo:function(t,i){},"KiH/":function(t,i){},Sszc:function(t,i){},bvkU:function(t,i){},g4oo:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("0LZo"),s=e("RyKi");function o(t){return s.a.post("admin/Equipment/facilityUpdate",t)}var l={props:{tableData:{type:Array,default:function(){return[]}}},data:function(){return{id:"",dialogVisible:!1,dialog_sportType:"",dialog_facilityName:"",dialog_facilityType:"",dialog_desciption:"",dialog_bodyTip:"",dialog_keypoint:"",dialog_protect:""}},methods:{editDesc:function(t){this.id=t.id,this.dialog_facilityName=t.facilityName,this.dialog_facilityType=t.facilityType,this.dialog_sportType=t.sportType,this.dialog_desciption=t.typeSummary,this.dialog_bodyTip=t.typeMuscle,this.dialog_keypoint=t.typeKeypoint,this.dialog_protect=t.typeProtect,this.dialogVisible=!0},confirm:function(){var t=this;this.dialogVisible=!1,o({id:this.id,facilityName:this.dialog_facilityName,facilityType:this.dialog_facilityType,sportType:this.dialog_sportType,typeSummary:this.dialog_desciption,typeMuscle:this.dialog_bodyTip,typeKeypoint:this.dialog_keypoint,typeProtect:this.dialog_protect}).then(function(i){if(200==i.data.code)return t.$notify.success("编辑设备配置成功"),void t.$emit("refreshData");t.$notify.error("编辑设备配置失败")}).catch(function(){t.$notify.error("编辑设备配置失败")})}},mounted:function(){this.$nextTick(function(){})}},r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-dialog",{attrs:{title:"描述编辑",center:"",visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备类型")]),t._v(" "),e("div",[t._v(t._s(1==t.dialog_sportType?"无氧设备":2==t.dialog_sportType?"有氧设备":""))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备名称")]),t._v(" "),e("div",[t._v(t._s(t.dialog_facilityName))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备简介("+t._s(t.dialog_desciption.length)+"/50)")]),t._v(" "),e("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",placeholder:"限50汉字",maxlength:"50"},model:{value:t.dialog_desciption,callback:function(i){t.dialog_desciption=i},expression:"dialog_desciption"}})],1),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("训练部位说明("+t._s(t.dialog_bodyTip.length)+"/100)")]),t._v(" "),e("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:"限100汉字",maxlength:"100"},model:{value:t.dialog_bodyTip,callback:function(i){t.dialog_bodyTip=i},expression:"dialog_bodyTip"}})],1),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("使用要点("+t._s(t.dialog_keypoint.length)+"/1000)")]),t._v(" "),e("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:"限1000汉字",maxlength:"1000"},model:{value:t.dialog_keypoint,callback:function(i){t.dialog_keypoint=i},expression:"dialog_keypoint"}})],1),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("防护说明("+t._s(t.dialog_protect.length)+"/1000)")]),t._v(" "),e("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:"限1000汉字",maxlength:"1000"},model:{value:t.dialog_protect,callback:function(i){t.dialog_protect=i},expression:"dialog_protect"}})],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"sportType",label:"设备类型"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n          "+t._s(1==i.row.sportType?"无氧运动":2==i.row.sportType?"有氧运动":"")+"\n        ")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"facilityName",label:"设备名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"typeSummary",label:"简介"}}),t._v(" "),e("el-table-column",{attrs:{prop:"typeMuscle",label:"训练部位说明"}}),t._v(" "),e("el-table-column",{attrs:{prop:"typeKeypoint",label:"使用要点"}}),t._v(" "),e("el-table-column",{attrs:{prop:"typeProtect",label:"防护说明"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"9e29efc0-0fb2-4112-ab42-6b756c4a8c9d",expression:"'9e29efc0-0fb2-4112-ab42-6b756c4a8c9d'"}],attrs:{type:"primary"},on:{click:function(e){t.editDesc(i.row)}}},[t._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]};var n=e("VU/8")(l,r,!1,function(t){e("gRb3")},"data-v-79dce3dd",null).exports,c=e("F+jZ"),d={data:function(){return{id:"",dialog_facilityType:"",dialogVisible:!1,dialog_sportType:"",dialog_facilityName:"",imageUrl:"",actionApi:c.d,isOverUploading:!1}},props:{tableData:{type:Array,default:function(){return[]}}},methods:{beforeAvatarUpload:function(t){var i="image/png"===t.type||"image/jpeg"===t.type,e=t.size/1024/1024<2;return i||this.$notify.error("上传图片只能是 JPG/PNG 格式!"),e||this.$notify.error("上传图片大小不能超过 2MB!"),i&&e},successUpload:function(t,i,e){this.imageUrl=t.data["oss-request-url"],this.isOverUploading=!0},failedUpload:function(t,i,e){this.$notify.error("文件上传失败, 请重新上传"),this.isOverUploading=!1},editImage:function(t){this.id=t.id,this.dialog_facilityType=t.facilityType,this.dialog_sportType=t.sportType,this.dialog_facilityName=t.facilityName,this.imageUrl=t.typePicUrl,this.dialogVisible=!0},confirm:function(){var t=this;if(!this.isOverUploading)return this.$notify.warning("请等待文件上传成功");this.dialogVisible=!1,o({id:this.id,facilityName:this.dialog_facilityName,facilityType:this.dialog_facilityType,sportType:this.dialog_sportType,typePicUrl:this.imageUrl}).then(function(i){if(200==i.data.code)return t.$notify.success("编辑设备配置成功"),void t.$emit("refreshData");t.$notify.error("编辑设备配置失败")}).catch(function(){t.$notify.error("编辑设备配置失败")})}}},p={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-dialog",{attrs:{title:"编辑",center:"",visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备类型")]),t._v(" "),e("div",[t._v(t._s(1==t.dialog_sportType?"无氧设备":2==t.dialog_sportType?"有氧设备":""))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备名称")]),t._v(" "),e("div",[t._v(t._s(t.dialog_facilityName))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备图片")]),t._v(" "),e("el-upload",{key:"sadadsaw",staticClass:"upload-demo",attrs:{drag:"",action:t.actionApi,"show-file-list":!1,"on-success":t.successUpload,"on-error":t.failedUpload,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t._v(" "),e("div",{staticStyle:{"font-size":"12px"},attrs:{slot:"tip"},slot:"tip"},[t._v("尺寸为600*600PX；大小在2M内；图片格式为PNG/JPG")])])],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"sportType",label:"设备类型"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n        "+t._s(1==i.row.sportType?"无氧运动":2==i.row.sportType?"有氧运动":"")+"\n      ")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"facilityName",label:"设备名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"typePicUrl",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.typePicUrl?e("img",{staticStyle:{width:"100px"},attrs:{src:i.row.typePicUrl,alt:""}}):e("span",[t._v("空")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"typePicUrl",label:"输出地址"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.typePicUrl?e("span",[t._v(t._s(i.row.typePicUrl))]):e("span",[t._v("空")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"1aaf67f0-c67d-44df-b3de-758867db70e0",expression:"'1aaf67f0-c67d-44df-b3de-758867db70e0'"}],attrs:{type:"primary"},on:{click:function(e){t.editImage(i.row)}}},[t._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]};var f=e("VU/8")(d,p,!1,function(t){e("Sszc")},"data-v-7512ffe6",null).exports,u={data:function(){return{id:"",dialog_facilityType:"",dialogVisible:!1,dialog_sportType:"",dialog_facilityName:"",imageUrl:"",actionApi:c.d,isOverUploading:!0}},props:{tableData:{type:Array,default:function(){return[]}}},mounted:function(){this.$nextTick(function(){})},methods:{beforeAvatarUpload:function(t){this.isOverUploading=!1;var i="image/png"===t.type||"image/jpeg"===t.type,e=t.size/1024/1024>0;return i||this.$notify.error("上传图片只能是 JPG/PNG 格式!"),e||this.$notify.error("上传图片大小不能超过 1MB!"),i&&e&&(this.isOverUploading=!0),i&&e},successUpload:function(t,i,e){this.imageUrl=t.data["oss-request-url"],this.isOverUploading=!0},failedUpload:function(t,i,e){this.$notify.error("文件上传失败, 请重新上传"),this.isOverUploading=!0},editImage:function(t){this.id=t.id,this.dialog_facilityType=t.facilityType,this.dialog_sportType=t.sportType,this.dialog_facilityName=t.facilityName,this.imageUrl=t.backgroundPicUrl,this.dialogVisible=!0},confirm:function(){var t=this;if(!this.isOverUploading)return this.$notify.warning("请等待文件上传成功");this.dialogVisible=!1,o({id:this.id,facilityName:this.dialog_facilityName,facilityType:this.dialog_facilityType,sportType:this.dialog_sportType,backgroundPicUrl:this.imageUrl}).then(function(i){if(200==i.data.code)return t.$notify.success("编辑设备配置成功"),void t.$emit("refreshData");t.$notify.error("编辑设备配置失败")}).catch(function(){t.$notify.error("编辑设备配置失败")})}}},y={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-dialog",{attrs:{title:"编辑",center:"",visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备类型")]),t._v(" "),e("div",[t._v(t._s(1==t.dialog_sportType?"无氧设备":2==t.dialog_sportType?"有氧设备":""))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备名称")]),t._v(" "),e("div",[t._v(t._s(t.dialog_facilityName))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备背景图")]),t._v(" "),e("el-upload",{key:"sqebsg",staticClass:"upload-demo",attrs:{drag:"",action:t.actionApi,"show-file-list":!1,"on-success":t.successUpload,"on-error":t.failedUpload,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"sportType",label:"设备类型"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n        "+t._s(1==i.row.sportType?"无氧运动":2==i.row.sportType?"有氧运动":"")+"\n      ")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"facilityName",label:"设备名称"}}),t._v(" "),e("el-table-column",{attrs:{label:"背景图片"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.backgroundPicUrl?e("img",{staticStyle:{width:"100px"},attrs:{src:i.row.backgroundPicUrl,alt:""}}):e("span",[t._v("空")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"backgroundPicUrl",label:"输出地址"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.backgroundPicUrl?e("span",[t._v(t._s(i.row.backgroundPicUrl))]):e("span",[t._v("空")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"b3b80205-e76c-4cb0-b1cb-ff81d4a2dd39",expression:"'b3b80205-e76c-4cb0-b1cb-ff81d4a2dd39'"}],attrs:{type:"primary"},on:{click:function(e){t.editImage(i.row)}}},[t._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]};var v=e("VU/8")(u,y,!1,function(t){e("+Euq")},"data-v-3d8adffa",null).exports,_={data:function(){return{id:"",dialog_facilityType:"",dialogVisible:!1,dialog_units:[],dialog_sportType:"",dialog_facilityName:"",imageUrl:"",actionApi:c.d,unitLists:[]}},props:{tableData:{type:Array,default:function(){return[]}}},watch:{dialog_units:function(t){}},computed:{unitList:function(){var t=this;return this.unitLists.filter(function(i,e){return i.unitType==t.dialog_sportType})},datas:function(){var t=this,i=this.tableData.concat();if(!(this.unitLists.length<1||this.tableData.length<1))return i.forEach(function(i){var e="";(i.typeUnit?i.typeUnit.split(","):[]).forEach(function(i){var a=t.unitLists.find(function(t){return t.id==i});e+=a.name+"("+a.unitSymbol+");"}),i.unitStr=e}),i}},methods:{fetchUnit:function(){var t,i=this;(t={page:1,size:10},s.a.post("admin/Equipment/unitConf",t)).then(function(t){i.unitLists=t.data.data.list})},editImage:function(t){this.id=t.id,this.dialog_facilityType=t.facilityType,this.dialog_sportType=t.sportType,this.dialog_facilityName=t.facilityName,this.dialog_units=t.typeUnit.split(",").map(function(t){return parseInt(t)}),this.dialogVisible=!0},confirm:function(){var t=this;this.dialogVisible=!1,o({id:this.id,facilityName:this.dialog_facilityName,facilityType:this.dialog_facilityType,sportType:this.dialog_sportType,typeUnit:this.dialog_units.join(",")}).then(function(i){if(200==i.data.code)return t.$notify.success("编辑设备配置成功"),void t.$emit("refreshData");t.$notify.error("编辑设备配置失败")}).catch(function(){t.$notify.error("编辑设备配置失败")})}},mounted:function(){var t=this;this.$nextTick(function(){t.fetchUnit()})}},b={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-dialog",{attrs:{title:"编辑",center:"",visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备类型")]),t._v(" "),e("div",[t._v(t._s(1==t.dialog_sportType?"无氧设备":2==t.dialog_sportType?"有氧设备":""))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备名称")]),t._v(" "),e("div",[t._v(t._s(t.dialog_facilityName))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("单位")]),t._v(" "),e("el-checkbox-group",{model:{value:t.dialog_units,callback:function(i){t.dialog_units=i},expression:"dialog_units"}},t._l(t.unitList,function(i,a){return e("el-checkbox",{key:a,attrs:{label:i.id}},[t._v(t._s(i.name)+":单位("+t._s(i.unitSymbol)+")")])}))],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.datas}},[e("el-table-column",{attrs:{prop:"sportType",label:"设备类型"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n        "+t._s(1==i.row.sportType?"无氧运动":2==i.row.sportType?"有氧运动":"")+"\n      ")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"facilityName",label:"设备名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"unitStr",label:"单位"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.unitStr?e("span",[t._v(t._s(i.row.unitStr))]):e("span",[t._v("空")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"95a347c2-672e-47ee-9ae6-677e512f55a8",expression:"'95a347c2-672e-47ee-9ae6-677e512f55a8'"}],attrs:{type:"primary"},on:{click:function(e){t.editImage(i.row)}}},[t._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]};var m=e("VU/8")(_,b,!1,function(t){e("KiH/")},"data-v-b25d447e",null).exports,g={data:function(){return{id:"",dialog_facilityType:"",dialogVisible:!1,dialog_sportType:"",dialog_facilityName:"",videoName:"xx",fileList:[],videoUrl:"",actionApi:c.d,isOverUploading:!1}},props:{tableData:{type:Array,default:function(){return[]}}},methods:{beforeAvatarUpload:function(t){var i="video/mp4"===t.type,e=t.size/1024/1024>0;return i||this.$notify.error("上传视频只能是 MP4 格式!"),e||this.$notify.error("上传视频大小不能超过 20MB!"),i&&e},successUpload:function(t,i,e){this.videoUrl=t.data["oss-request-url"],this.videoName=i.name,this.isOverUploading=!0},failedUpload:function(t,i,e){this.$notify.error("文件上传失败, 请重新上传"),this.isOverUploading=!0},editIcon:function(t){var i=this;this.id=t.id,this.dialog_facilityType=t.facilityType,this.videoUrl=t.typeIconUrl,this.videoName=t.typeVideoUrl,this.dialog_sportType=t.sportType,this.dialog_facilityName=t.facilityName,this.filelist=[],this.dialogVisible=!0,this.$nextTick(function(){i.$refs.upload.clearFiles()})},confirm:function(){var t=this;if(!this.isOverUploading)return this.$notify.warning("请等待文件上传成功");this.dialogVisible=!1,o({id:this.id,facilityName:this.dialog_facilityName,facilityType:this.dialog_facilityType,sportType:this.dialog_sportType,typeVideoUrl:this.videoUrl}).then(function(i){if(200==i.data.code)return t.$notify.success("编辑设备配置成功"),void t.$emit("refreshData");t.$notify.error("编辑设备配置失败")}).catch(function(){t.$notify.error("编辑设备配置失败")})}}},h={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-dialog",{attrs:{title:"编辑",center:"",visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备类型")]),t._v(" "),e("div",[t._v(t._s(1==t.dialog_sportType?"无氧设备":2==t.dialog_sportType?"有氧设备":""))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备名称")]),t._v(" "),e("div",[t._v(t._s(t.dialog_facilityName))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("视频")]),t._v(" "),e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.actionApi,limit:1,"on-success":t.successUpload,"on-error":t.failedUpload,"before-upload":t.beforeAvatarUpload,"file-list":t.fileList}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),e("div",{staticStyle:{"font-size":"10px",color:"red"}},[t._v("(出现"),e("span",{staticStyle:{color:"green"}},[t._v("绿色对号"),e("i",{staticClass:"el-icon-circle-check"})]),t._v("标识时为上传成功!)")])],1)],1),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("当前视频")]),t._v(" "),e("div",[t._v(t._s(t.videoName))])]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"sportType",label:"设备类型"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n        "+t._s(1==i.row.sportType?"无氧运动":2==i.row.sportType?"有氧运动":"")+"\n      ")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"facilityName",label:"设备名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"typeVideoUrl",label:"视频"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.typeVideoUrl?e("span",[t._v(t._s(i.row.typeVideoUrl))]):e("span",[t._v("空")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"d577f782-6609-4179-9d08-08298a604c62",expression:"'d577f782-6609-4179-9d08-08298a604c62'"}],attrs:{type:"primary"},on:{click:function(e){t.editIcon(i.row)}}},[t._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]};var T=e("VU/8")(g,h,!1,function(t){e("m6it")},"data-v-4fdf9802",null).exports,U={data:function(){return{id:"",iconUrl:"",actionApi:c.d,isOverUploading:!1,dialogVisible:!1,dialog_sportType:"",dialog_facilityName:"",dialog_facilityType:""}},props:{tableData:{type:Array,default:function(){return[]}}},methods:{beforeAvatarUpload:function(t){var i="image/png"===t.type||"image/jpeg"===t.type,e=t.size/1024/1024<1;return i||this.$notify.error("上传ICON只能是 JPG/PNG 格式!"),e||this.$notify.error("上传ICON大小不能超过 1MB!"),i&&e},successUpload:function(t,i,e){this.iconUrl=t.data["oss-request-url"],this.isOverUploading=!0},failedUpload:function(t,i,e){this.$notify.error("文件上传失败, 请重新上传"),this.isOverUploading=!1},editIcon:function(t){this.id=t.id,this.iconUrl=t.typeIconUrl,this.dialog_sportType=t.sportType,this.dialog_facilityType=t.facilityType,this.dialog_facilityName=t.facilityName,this.dialogVisible=!0},confirm:function(){var t=this;if(!this.isOverUploading)return this.$notify.warning("请等待文件上传成功");this.dialogVisible=!1,o({id:this.id,facilityName:this.dialog_facilityName,facilityType:this.dialog_facilityType,sportType:this.dialog_sportType,typeIconUrl:this.iconUrl}).then(function(i){if(200==i.data.code)return t.$notify.success("编辑设备配置成功"),void t.$emit("refreshData");t.$notify.error("编辑设备配置失败")}).catch(function(){t.$notify.error("编辑设备配置失败")})}}},w={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-dialog",{attrs:{title:"编辑",center:"",visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备类型")]),t._v(" "),e("div",[t._v(t._s(1==t.dialog_sportType?"无氧设备":2==t.dialog_sportType?"有氧设备":""))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备名称")]),t._v(" "),e("div",[t._v(t._s(t.dialog_facilityName))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备ICON")]),t._v(" "),e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:t.actionApi,"show-file-list":!1,"on-success":t.successUpload,"on-error":t.failedUpload,"before-upload":t.beforeAvatarUpload}},[t.iconUrl?e("img",{staticClass:"avatar",attrs:{src:t.iconUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t._v(" "),e("div",{staticStyle:{"font-size":"12px",width:"100%"},attrs:{slot:"tip"},slot:"tip"},[t._v("尺寸为240*240PX；大小在1M内；图片格式为PNG/JPG")])])],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"sportType",label:"设备类型"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n        "+t._s(1==i.row.sportType?"无氧运动":2==i.row.sportType?"有氧运动":"")+"\n      ")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"facilityName",label:"设备名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"typeIconUrl",label:"ICON"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.typeIconUrl?e("img",{staticStyle:{width:"100px"},attrs:{src:i.row.typeIconUrl,alt:""}}):e("span",[t._v("空")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"typeIconUrl",label:"输出地址"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n        "+t._s(i.row.typeIconUrl?i.row.typeIconUrl:"空")+"\n      ")]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"9aa2b759-af5c-4637-bb8c-933aba892a05",expression:"'9aa2b759-af5c-4637-bb8c-933aba892a05'"}],attrs:{type:"primary"},on:{click:function(e){t.editIcon(i.row)}}},[t._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]};var N=e("VU/8")(U,w,!1,function(t){e("osu6")},"data-v-b944fab2",null).exports,C={data:function(){return{id:"",dialog_facilityType:"",dialogVisible:!1,dialog_sportType:"",dialog_facilityName:"",imageUrl:"",actionApi:c.d,isOverUploading:!1}},props:{tableData:{type:Array,default:function(){return[]}}},methods:{beforeAvatarUpload:function(t){var i="image/png"===t.type||"image/jpeg"===t.type,e=t.size/1024/1024>0;return i||this.$notify.error("上传图片只能是 JPG/PNG 格式!"),e||this.$notify.error("上传图片大小不能超过 2MB!"),i&&e},successUpload:function(t,i,e){this.imageUrl=t.data["oss-request-url"],this.isOverUploading=!0},failedUpload:function(t,i,e){this.$notify.error("文件上传失败, 请重新上传"),this.isOverUploading=!1},editImage:function(t){this.id=t.id,this.dialog_sportType=t.sportType,this.dialog_facilityName=t.facilityName,this.imageUrl=t.typeMuscleUrl,this.dialogVisible=!0},confirm:function(){var t=this;if(!this.isOverUploading)return this.$notify.warning("请等待文件上传成功");this.dialogVisible=!1,o({id:this.id,facilityName:this.dialog_facilityName,facilityType:this.dialog_facilityType,sportType:this.dialog_sportType,typeMuscleUrl:this.imageUrl}).then(function(i){if(200==i.data.code)return t.$notify.success("编辑设备配置成功"),void t.$emit("refreshData");t.$notify.error("编辑设备配置失败")}).catch(function(){t.$notify.error("编辑设备配置失败")})}}},k={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-dialog",{attrs:{title:"编辑",center:"",visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备类型")]),t._v(" "),e("div",[t._v(t._s(1==t.dialog_sportType?"无氧设备":2==t.dialog_sportType?"有氧设备":""))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("设备名称")]),t._v(" "),e("div",[t._v(t._s(t.dialog_facilityName))])]),t._v(" "),e("div",{staticClass:"dialog_item"},[e("div",{staticClass:"dialog_subtitle"},[t._v("训练部位图片")]),t._v(" "),e("el-upload",{key:"xcvcbbz",staticClass:"upload-demo",attrs:{drag:"",action:t.actionApi,"show-file-list":!1,"on-success":t.successUpload,"on-error":t.failedUpload,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"sportType",label:"设备类型"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n        "+t._s(1==i.row.sportType?"无氧运动":2==i.row.sportType?"有氧运动":"")+"\n      ")]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"facilityName",label:"设备名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"typeMuscleUrl",label:"部位图片"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.typeMuscleUrl?e("img",{staticStyle:{width:"100px"},attrs:{src:i.row.typeMuscleUrl,alt:""}}):e("span",[t._v("空")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"typeMuscleUrl",label:"输出地址"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.typeMuscleUrl?e("span",[t._v(t._s(i.row.typeMuscleUrl))]):e("span",[t._v("空")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"fba24ea4-02f2-4da1-a7a2-f538decf966e",expression:"'fba24ea4-02f2-4da1-a7a2-f538decf966e'"}],attrs:{type:"primary"},on:{click:function(e){t.editImage(i.row)}}},[t._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]};var x=e("VU/8")(C,k,!1,function(t){e("DGMo")},"data-v-55d3c834",null).exports,$={data:function(){return{configList:[],sportType:"1,2",sportTypes:[{label:"全部",value:"1,2"},{label:"无氧设备",value:1},{label:"有氧设备",value:2}]}},components:{SubTitle:a.a,DescTable:n,FacilityImageTable:f,FacilityUnitTable:m,FacilityVideoTable:T,IconTable:N,PlanBodyImageTable:x,FacilityBackgroundTable:v},watch:{sportType:function(){this.fetchConfig()}},computed:{facilityDescData:function(){return this.configList.map(function(t){return{id:t.id,facilityName:t.facilityName,facilityType:t.facilityType,sportType:t.sportType,typeSummary:t.typeSummary?t.typeSummary:"空",typeMuscle:t.typeMuscle?t.typeMuscle:"空",typeKeypoint:t.typeKeypoint?t.typeKeypoint:"空",typeProtect:t.typeProtect?t.typeProtect:"空"}})},iconData:function(){return this.configList.map(function(t){return{id:t.id,facilityName:t.facilityName,facilityType:t.facilityType,sportType:t.sportType,typeIconUrl:t.typeIconUrl}})},facilityImageData:function(){return this.configList.map(function(t){return{id:t.id,facilityName:t.facilityName,facilityType:t.facilityType,sportType:t.sportType,typePicUrl:t.typePicUrl}})},facilityBackgroundData:function(){return this.configList.map(function(t){return{id:t.id,facilityName:t.facilityName,facilityType:t.facilityType,sportType:t.sportType,backgroundPicUrl:t.backgroundPicUrl}})},planBodyImageData:function(){return this.configList.map(function(t){return{id:t.id,facilityName:t.facilityName,facilityType:t.facilityType,sportType:t.sportType,typeMuscleUrl:t.typeMuscleUrl}})},facilityVideoData:function(){return this.configList.map(function(t){return{id:t.id,facilityName:t.facilityName,facilityType:t.facilityType,sportType:t.sportType,typeVideoUrl:t.typeVideoUrl}})},facilityUnitData:function(){return this.configList.map(function(t){return{id:t.id,facilityName:t.facilityName,facilityType:t.facilityType,sportType:t.sportType,typeUnit:t.typeUnit}})}},methods:{createParams:function(){var t={page:1,size:1e3};return t.sportTypeExtend=this.sportType,t},fetchConfig:function(){var t,i=this;(t=this.createParams(),s.a.post("admin/Equipment/facilityList",t)).then(function(t){i.configList=t.data.data.list})}},mounted:function(){var t=this;this.$nextTick(function(){t.fetchConfig()})}},S={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"facilityConfigPage"},[e("sub-title",{attrs:{title:"设备类型扩展配置"}}),t._v(" "),e("div",{staticClass:"selectors"},[e("div",{staticStyle:{width:"100px"}},[t._v("设备类型")]),t._v(" "),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.sportType,callback:function(i){t.sportType=i},expression:"sportType"}},t._l(t.sportTypes,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),e("div",{staticClass:"configContent"},[e("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"}},[e("el-tab-pane",{directives:[{name:"permission",rawName:"v-permission",value:"722d8ac5-4d61-4a4c-b29b-dc0da9179cc8",expression:"'722d8ac5-4d61-4a4c-b29b-dc0da9179cc8'"}],attrs:{label:"描述"}},[e("desc-table",{directives:[{name:"permission",rawName:"v-permission",value:"dca217ce-f843-4ea6-a519-0d62cf8635b8",expression:"'dca217ce-f843-4ea6-a519-0d62cf8635b8'"}],attrs:{tableData:t.facilityDescData},on:{refreshData:t.fetchConfig}})],1),t._v(" "),e("el-tab-pane",{directives:[{name:"permission",rawName:"v-permission",value:"90f9835c-1a8e-4833-ae52-6eafefc31615",expression:"'90f9835c-1a8e-4833-ae52-6eafefc31615'"}],attrs:{label:"ICON"}},[e("icon-table",{directives:[{name:"permission",rawName:"v-permission",value:"5bcd93d8-ed0a-45d3-b48e-dcb0a51c2ac6",expression:"'5bcd93d8-ed0a-45d3-b48e-dcb0a51c2ac6'"}],attrs:{tableData:t.iconData},on:{refreshData:t.fetchConfig}})],1),t._v(" "),e("el-tab-pane",{directives:[{name:"permission",rawName:"v-permission",value:"2549b426-eda1-4245-9888-a4862a59dbaf",expression:"'2549b426-eda1-4245-9888-a4862a59dbaf'"}],attrs:{label:"设备图片"}},[e("facility-image-table",{directives:[{name:"permission",rawName:"v-permission",value:"3c0340b1-d3d6-41ba-9de2-3f76fabcd7a9",expression:"'3c0340b1-d3d6-41ba-9de2-3f76fabcd7a9'"}],attrs:{tableData:t.facilityImageData},on:{refreshData:t.fetchConfig}})],1),t._v(" "),e("el-tab-pane",{directives:[{name:"permission",rawName:"v-permission",value:"85c53745-817a-4c26-91c8-87b6d73b3f36",expression:"'85c53745-817a-4c26-91c8-87b6d73b3f36'"}],attrs:{label:"设备背景图片"}},[e("facility-background-table",{directives:[{name:"permission",rawName:"v-permission",value:"f0362935-ad08-4c6a-8b9a-8bb7b71c7c9f",expression:"'f0362935-ad08-4c6a-8b9a-8bb7b71c7c9f'"}],attrs:{tableData:t.facilityBackgroundData},on:{refreshData:t.fetchConfig}})],1),t._v(" "),e("el-tab-pane",{directives:[{name:"permission",rawName:"v-permission",value:"5f075151-5d78-430f-a16a-ba7c5baacc59",expression:"'5f075151-5d78-430f-a16a-ba7c5baacc59'"}],attrs:{label:"训练部位图片"}},[e("plan-body-image-table",{directives:[{name:"permission",rawName:"v-permission",value:"97403e81-11aa-43e9-a6e0-13f7e81c015c",expression:"'97403e81-11aa-43e9-a6e0-13f7e81c015c'"}],attrs:{tableData:t.planBodyImageData},on:{refreshData:t.fetchConfig}})],1),t._v(" "),e("el-tab-pane",{directives:[{name:"permission",rawName:"v-permission",value:"67d4f865-39f4-44c6-adf9-42d2874d2c49",expression:"'67d4f865-39f4-44c6-adf9-42d2874d2c49'"}],attrs:{label:"视频"}},[e("facility-video-table",{directives:[{name:"permission",rawName:"v-permission",value:"9b0f99c7-9973-42b5-89ee-cfce26fa64c5",expression:"'9b0f99c7-9973-42b5-89ee-cfce26fa64c5'"}],attrs:{tableData:t.facilityVideoData},on:{refreshData:t.fetchConfig}})],1),t._v(" "),e("el-tab-pane",{directives:[{name:"permission",rawName:"v-permission",value:"d867d268-bc10-4c1e-bb5e-65e342430857",expression:"'d867d268-bc10-4c1e-bb5e-65e342430857'"}],attrs:{label:"单位"}},[e("facility-unit-table",{directives:[{name:"permission",rawName:"v-permission",value:"1434bbb8-3515-493b-8267-413f21e2c275",expression:"'1434bbb8-3515-493b-8267-413f21e2c275'"}],attrs:{tableData:t.facilityUnitData},on:{refreshData:t.fetchConfig}})],1)],1)],1)],1)},staticRenderFns:[]};var V=e("VU/8")($,S,!1,function(t){e("bvkU")},"data-v-4caf23b8",null);i.default=V.exports},gRb3:function(t,i){},m6it:function(t,i){},osu6:function(t,i){}});
//# sourceMappingURL=3.873d0be264c30a456fff.js.map