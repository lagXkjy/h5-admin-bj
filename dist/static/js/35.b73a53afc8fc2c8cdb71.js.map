{"version":3,"sources":["webpack:///src/pages/order/shopsOrder/components/shopsTab.vue","webpack:///./src/pages/order/shopsOrder/components/shopsTab.vue?2eaf","webpack:///./src/pages/order/shopsOrder/components/shopsTab.vue","webpack:///src/pages/order/shopsOrder/Page.vue","webpack:///./src/pages/order/shopsOrder/Page.vue?292e","webpack:///./src/pages/order/shopsOrder/Page.vue"],"names":["shopsTab","methods","extends_default","done","row","Array","computed","Object","vuex_esm","orderDetailList","tableData","payStatus","item","list","_this","this","getOrderDetailList","components_shopsTab","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","width","attrs","data","datas","prop","label","sortable","_v","scopedSlots","_u","key","fn","scope","directives","name","rawName","value","expression","type","on","click","$event","checkDetail","title","visible","centerDialogVisible","center","before-close","handleClose","update:visible","label-position","inline","_s","currentDetail","storeName","createTime","orderSn","facilityNo","goodsName","amount","payMoney","slot","staticRenderFns","Page","fetchData","getData","__webpack_require__","normalizeComponent","ssrContext","val","pageNum","total","pageSize","store","currentPage","curPageSize","params","mapPagination","shopsOrderList","state","shopsOrder","shopsOrderIsFetchingData","errorDropdownStoreList","Date","end","_this2","getErrorDropDownStoreList","shopsOrder_Page","placeholder","model","callback","$$v","_l","id","range-separator","start-placeholder","end-placeholder","value-format","time","suffix-icon","autofocus","nativeOn","keyup","_k","keyCode","page-sizes","pageSizes","layout","curTotal","size-change","handleSizeChange","current-change","handleCurrentChange","Page_Component","Page_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/35.b73a53afc8fc2c8cdb71.js","sourcesContent":["<template>\r\n  <div class=\"table\" style=\"width: 100%\">\r\n    <el-table :data=\"datas\" style=\"width: 100%\">\r\n      <el-table-column prop=\"createTime\" label=\"下单时间\" sortable>\r\n      </el-table-column>\r\n      <el-table-column prop=\"orderSn\" label=\"订单号\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"userInfo.nickname\" label=\"用户\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"storeName\" label=\"所属门店\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"goodsName\" label=\"购买商品\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"payMoney\" label=\"价格\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"payStatus\" label=\"状态\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"checkDetail(scope.row)\" v-permission=\"'91b81634-20d8-4116-9b86-e842a8d1f257'\">查看详情</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-dialog title=\"提示\" :visible.sync=\"centerDialogVisible\" width=\"50%\" center :before-close=\"handleClose\">\r\n      <template slot-scope=\"scope\">\r\n        <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n          <el-form-item label=\"订单状态\">\r\n            <span>{{currentDetail.payStatus}}</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"所属门店\">\r\n            <span>{{currentDetail.storeName}}</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"下单时间\">\r\n            <span>{{currentDetail.createTime}}</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"订单号\">\r\n            <span>{{currentDetail.orderSn}}</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"售货机ID\">\r\n            <span>{{currentDetail.facilityNo}}</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"购买商品\">\r\n            <span>{{currentDetail.goodsName}}</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"数量\">\r\n            <span>{{currentDetail.amount}}</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"单价\">\r\n            <span>{{currentDetail.payMoney}}</span>\r\n          </el-form-item>\r\n          <hr/>\r\n          <el-form-item label=\"总价\">\r\n            <span>{{currentDetail.payMoney}}</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"实付金额\">\r\n            <span>{{currentDetail.payMoney}}</span>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { deepCopy } from 'common/utils';\r\n\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\n// import moment from 'moment';\r\nexport default {\r\n  methods: {\r\n    handleClose(done) {\r\n      done();\r\n      this.showDialog = false;\r\n    },\r\n    ...mapActions(['getOrderDetailList']),\r\n    checkDetail(row) {\r\n      this.centerDialogVisible = true;\r\n      this.currentDetail = row;\r\n    }\r\n    // checkMessageDetail(row) {\r\n    //   this.showDialog = true;\r\n    //   // this.isFetchingDetail = true;\r\n    //   console.log('qqqq', row);\r\n    //   let id = row.id;\r\n    //   this.getOrderDetailList({\r\n    //     id: id\r\n    //   });\r\n    //   // .then(() => {\r\n    //   //   this.isFetchingDetail = false;\r\n    //   // })\r\n    //   // .catch(() => {\r\n    //   //   this.isFetchingDetail = false;\r\n    //   // });\r\n    // }\r\n  },\r\n  props: {\r\n    tableData: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentDetail: {},\r\n      showDialog: false,\r\n      centerDialogVisible: false,\r\n      createTime: '',\r\n      payStatus: '',\r\n      storeName: '',\r\n      orderSn: '',\r\n      goodsName: '',\r\n      amount: '',\r\n      payMoney: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      orderDetailList: state => state.shopsOrder.orderDetailList\r\n    }),\r\n    datas() {\r\n      let list = deepCopy(this.tableData);\r\n      list.forEach((item, index) => {\r\n        item.createTime = moment(item.createTime).format('YYYY-MM-DD HH:mm:ss');\r\n        // item.payMoney = item.payMoney + '元';\r\n        item.payMoney = (item.payMoney / 100).toFixed(2) +'元';\r\n        item.payStatus =\r\n          item.payStatus == 0 ? '未支付' : item.payStatus == 1 ? '已支付' : '';\r\n      });\r\n      return list;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.getOrderDetailList();\r\n    });\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/order/shopsOrder/components/shopsTab.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table\",staticStyle:{\"width\":\"100%\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.datas}},[_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"下单时间\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"orderSn\",\"label\":\"订单号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userInfo.nickname\",\"label\":\"用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"storeName\",\"label\":\"所属门店\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goodsName\",\"label\":\"购买商品\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"payMoney\",\"label\":\"价格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"payStatus\",\"label\":\"状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('91b81634-20d8-4116-9b86-e842a8d1f257'),expression:\"'91b81634-20d8-4116-9b86-e842a8d1f257'\"}],attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.checkDetail(scope.row)}}},[_vm._v(\"查看详情\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.centerDialogVisible,\"width\":\"50%\",\"center\":\"\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"订单状态\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.payStatus))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"所属门店\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.storeName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"下单时间\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.createTime))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"订单号\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.orderSn))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"售货机ID\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.facilityNo))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"购买商品\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.goodsName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数量\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.amount))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"单价\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.payMoney))])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"总价\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.payMoney))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"实付金额\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDetail.payMoney))])])],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"})]}}])})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c57985a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/shopsOrder/components/shopsTab.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c57985a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shopsTab.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopsTab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopsTab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c57985a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shopsTab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c57985a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/shopsOrder/components/shopsTab.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"protalPage\">\r\n    <div class=\"wraper\">\r\n      <div class=\"title\">售货机商品订单</div>\r\n      <div class=\"sportOrderTop\">\r\n        <!-- 门店下拉列表 -->\r\n        <div>\r\n          <el-select v-model=\"store\" placeholder=\"请选择\">\r\n            <el-option v-for=\"item in storeList\" :key=\"item.id\" :label=\"item.storeName\" :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <!-- 选择时间和日期 -->\r\n        <div class=\"block\">\r\n          <el-date-picker v-model=\"time\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM-dd\">\r\n          </el-date-picker>\r\n        </div>\r\n        <!-- 搜索框 -->\r\n        <div>\r\n          <el-input placeholder=\"请输入完整订单号\" suffix-icon=\"el-icon-search\" v-model=\"orderSn\" @keyup.enter.native=\"getData\" :autofocus=\"true\">\r\n          </el-input>\r\n        </div>\r\n      </div>\r\n      <!-- 表格部分 -->\r\n      <div class=\"sportOrderBottom\" style=\"width: 100%\" v-permission=\"'d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e'\">\r\n        <div v-loading=\"shopsOrderIsFetchingData\">\r\n          <shops-tab :tableData=\"shopsOrderList\"></shops-tab>\r\n        </div>\r\n        <!-- 分页 -->\r\n        <div class=\"paging\" v-permission=\"'d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e'\">\r\n          <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :page-sizes=\"pageSizes\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"curTotal\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport shopsTab from './components/shopsTab';\r\n\r\nimport { deepCopy } from 'common/utils';\r\n\r\nimport { mapState, mapActions } from 'vuex';\r\nexport default {\r\n  watch: {\r\n    time(val) {\r\n      // console.log(val)\r\n      this.fetchData();\r\n    },\r\n    store() {\r\n      this.fetchData();\r\n    },\r\n    $route(val) {\r\n      if(val.query.orderSn) {\r\n        this.orderSn = val.query.orderSn;\r\n      }\r\n    },\r\n    orderSn() {\r\n      this.getData();\r\n    }\r\n  },\r\n  components: {\r\n    shopsTab\r\n  },\r\n  methods: {\r\n    ...mapActions(['getShopsOrderList', 'getErrorDropDownStoreList']),\r\n    handleClick(tab, event) {\r\n      //console.log(tab, event);\r\n      this.tabIndex = tab.label;\r\n      this.fetchData();\r\n    },\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`);\r\n      this.curPageSize = val;\r\n      this.fetchData();\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.currentPage = val;\r\n      this.fetchData();\r\n    },\r\n    getData() {\r\n      this.fetchData();\r\n    },\r\n    handleEdit1(index, row) {\r\n      this.$router.push({ path: '/storePart/store?baseInfo' });\r\n    },\r\n    mapPagination() {\r\n      this.currentPage = this.pageNum;\r\n      this.curTotal = this.total;\r\n      this.curPageSize = this.pageSize;\r\n    },\r\n    computeParams() {\r\n      let params = {};\r\n      if (this.time.length > 0) {\r\n        params.beginTime = this.time[0] + ' 00:00:00';\r\n        params.endTime = this.time[1] + ' 23:59:59';\r\n      }\r\n      if (this.orderSn) {\r\n        params.orderSn = this.orderSn;\r\n      }\r\n      if (this.store !== 'all') {\r\n        params.storeId = this.store;\r\n      }\r\n      params.page = this.currentPage;\r\n      params.size = this.curPageSize;\r\n      return params;\r\n    },\r\n    fetchData() {\r\n      this.getShopsOrderList(this.computeParams()).then(() => {\r\n        this.mapPagination();\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      shopsOrderList: state => state.shopsOrder.shopsOrderList,\r\n      pageSize: state => state.shopsOrder.pageSize,\r\n      pageNum: state => state.shopsOrder.pageNum,\r\n      total: state => state.shopsOrder.total,\r\n      shopsOrderIsFetchingData: state =>\r\n        state.shopsOrder.shopsOrderIsFetchingData,\r\n      errorDropdownStoreList: state => state.shopsOrder.errorDropdownStoreList\r\n    }),\r\n    storeList() {\r\n      // let list = [];\r\n      let list = deepCopy(this.errorDropdownStoreList);\r\n      list.unshift({\r\n        storeName: '全部门店',\r\n        id: 'all'\r\n      });\r\n      return list;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      store: 'all',\r\n      currentPage: 1,\r\n      pageSizes: [10, 20, 30, 40],\r\n      curPageSize: 10,\r\n      curTotal: 0,\r\n      value11: '',\r\n      value1: '',\r\n      input21: '',\r\n      orderSn: '',\r\n      time: [],\r\n      pickerOptions2: {\r\n        shortcuts: [\r\n          {\r\n            text: '本周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: '本月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: '本年',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 365);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next( vm => {\r\n      vm.$nextTick( () => {\r\n        vm.fetchData();\r\n      });\r\n    })\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.getErrorDropDownStoreList();\r\n      this.fetchData();\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wraper {\r\n  background: white;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  box-sizing: border-box;\r\n  padding: 20px;\r\n  .sportOrderTop {\r\n    display: -webkit-flex;\r\n    justify-content: space-between;\r\n    margin: 20px 0;\r\n  }\r\n  .title {\r\n    width: 100%;\r\n    font-size: 30px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    border: {\r\n      bottom: 1px solid #999999;\r\n    }\r\n  }\r\n  .sportOrderBottom {\r\n    width: 100%;\r\n    .paging {\r\n      margin-top: 30px;\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/order/shopsOrder/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"protalPage\"},[_c('div',{staticClass:\"wraper\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"售货机商品订单\")]),_vm._v(\" \"),_c('div',{staticClass:\"sportOrderTop\"},[_c('div',[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.store),callback:function ($$v) {_vm.store=$$v},expression:\"store\"}},_vm._l((_vm.storeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.storeName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_vm._v(\" \"),_c('div',[_c('el-input',{attrs:{\"placeholder\":\"请输入完整订单号\",\"suffix-icon\":\"el-icon-search\",\"autofocus\":true},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.getData($event)}},model:{value:(_vm.orderSn),callback:function ($$v) {_vm.orderSn=$$v},expression:\"orderSn\"}})],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e'),expression:\"'d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e'\"}],staticClass:\"sportOrderBottom\",staticStyle:{\"width\":\"100%\"}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.shopsOrderIsFetchingData),expression:\"shopsOrderIsFetchingData\"}]},[_c('shops-tab',{attrs:{\"tableData\":_vm.shopsOrderList}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e'),expression:\"'d2ca4e88-7f95-4fa1-a7d3-4e8efb25a98e'\"}],staticClass:\"paging\"},[_c('el-pagination',{attrs:{\"page-sizes\":_vm.pageSizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.curTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a41ac57\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/shopsOrder/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a41ac57\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a41ac57\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a41ac57\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/shopsOrder/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}