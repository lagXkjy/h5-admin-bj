{"version":3,"sources":["webpack:///src/pages/user/userPlan/Page.vue","webpack:///./src/pages/user/userPlan/Page.vue?53ee","webpack:///./src/pages/user/userPlan/Page.vue"],"names":["Page","SubTitle","fetchPlanList","val","label","min","max","mobile","currentPage","currentSize","userId","userName","userPhone","percentMin","percentMax","cycleNum","tariningStatus","params","pageNum","pageSize","total","_this","this","data","_this2","userPlan_Page","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","staticStyle","margin-top","width","margin-right","placeholder","model","value","callback","$$v","expression","type","on","click","_l","item","key","split-button","trigger","hide-on-click","command","handleClick","_s","percentLabel","slot","index","customPercent","$set","size","nativeOn","$event","stopPropagation","custom","directives","name","rawName","userPlans","prop","scopedSlots","_u","fn","scope","moment","row","createTime","format","userInfo","sex","trainStatus","parseFloat","completePercent","plain","jumpTo","current-page","page-sizes","page-size","layout","curTotal","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/57.fae780f2be05c83f4a71.js","sourcesContent":["<template>\n  <div class=\"userPlanPage\">\n    <sub-title title=\"用户训练计划\"></sub-title>\n    <div class=\"selectors\" style=\"margin-top: 20px\">\n      <el-input v-model=\"userName\" placeholder=\"搜索用户昵称\" style=\"width: 200px; margin-right: 10px;\"></el-input>\n      <el-input v-model=\"userPhone\" placeholder=\"搜索用户手机号\" style=\"width: 200px; margin-right: 10px;\"></el-input>\n      <el-input v-model=\"userId\" placeholder=\"搜索用户ID\" style=\"width: 200px; margin-right: 10px;\"></el-input>\n      <el-button type=\"primary\" @click=\"fetchPlanList\">搜索</el-button>\n    </div>\n    <div class=\"selectors\" style=\"margin-top: 20px;\">\n      <div class=\"selector_item\">\n        <div class=\"selector_item_title\">周数</div>\n        <el-select v-model=\"cycleNum\" placeholder=\"请选择\">\n          <el-option v-for=\"item in cycleOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </div>\n      <div class=\"selector_item\">\n        <div class=\"selector_item_title\">状态</div>\n        <el-select v-model=\"tariningStatus\" placeholder=\"请选择\">\n          <el-option v-for=\"item in statusOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </div>\n\n      <div class=\"selector_item\">\n        <div class=\"selector_item_title\">完成</div>\n        <el-dropdown split-button trigger=\"click\" @command=\"handleClick\" :hide-on-click=\"false\">\n          {{percentLabel}}\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item v-for=\"(item, index) in percentOptions\" :command=\"item\" :key=\"index\">{{item.label}}</el-dropdown-item>\n            <el-dropdown-item :command=\"false\">\n              <div>自定义</div>\n              <el-input style=\"width: 110px\" v-model=\"customPercent.min\">\n                <template slot=\"append\">%</template>\n              </el-input>\n              至\n              <el-input style=\"width: 110px\" v-model=\"customPercent.max\">\n                <template slot=\"append\">%</template>\n              </el-input>\n              <el-button type=\"primary\" size=\"small\" @click.native.stop=\"custom\">确认</el-button>\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </div>\n\n    <div class=\"tableBox\" v-loading=\"isLoadingData\" v-permission=\"'94524f86-56a4-4575-9b54-66bb6b1e2e0c'\">\n      <el-table :data=\"userPlans\" style=\"width: 100%\">\n          <el-table-column label=\"时间\" prop=\"createTime\">\n            <template slot-scope=\"scope\">\n              {{moment(scope.row.createTime).format('YYYY-MM-DD HH:mm:ss')}}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"用户ID\" prop=\"userId\">     \n          </el-table-column>\n          <el-table-column label=\"用户昵称\" prop=\"userInfo.nickname\">\n          </el-table-column>\n          <el-table-column label=\"性别\">\n            <template slot-scope=\"scope\">\n              {{scope.row.userInfo.sex == 1 ? '男' : '女'}}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"手机\" prop=\"userInfo.mobile\">\n          </el-table-column>\n          <el-table-column label=\"训练计划名称\" prop=\"planName\">\n          </el-table-column>\n          <el-table-column label=\"周数\" prop=\"cityName\">\n          </el-table-column>\n           <el-table-column label=\"状态\" prop=\"trainStatus\">\n             <template slot-scope=\"scope\">\n               {{scope.row.trainStatus == 1 ? '进行中': scope.row.trainStatus == 2 ? '已过期':scope.row.trainStatus == 3 ? '已终止':'未开始'}}\n             </template>\n          </el-table-column>\n           <el-table-column label=\"完成\" prop=\"completePercent\">\n             <template slot-scope=\"scope\">\n               {{parseFloat(scope.row.completePercent) * 100 + '%'}}\n             </template>\n          </el-table-column>\n          <el-table-column label=\"操作\">\n             <template slot-scope=\"scope\">\n               <el-button type=\"primary\" plain @click=\"jumpTo(scope.row)\" v-permission=\"'8d81f81c-e072-4708-9cc4-9be155448d46'\">查看</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"10\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"curTotal\">\n          </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getUserPlanList } from 'api/user/userPlan';\n\nimport SubTitle from 'components/SubTitle';\n\nexport default {\n  data() {\n    return {\n      userId: '',\n      userName: '',\n      userPhone: '',\n      currentPage: 1,\n      currentSize: 10,\n      curTotal: 0,\n      userPlans: [],\n      tariningStatus: 0,\n      cycleNum: 'all',\n      cycleOptions: [\n        {\n          value: 'all',\n          label: '全部'\n        },\n        {\n          value: '2',\n          label: '2周'\n        },\n        {\n          value: '3',\n          label: '3周',\n        },\n        {\n          value: '4',\n          label: '4周'\n        }\n      ], \n      statusOptions: [\n        {\n          label: '全部',\n          value: 0\n        },\n        {\n          label: '进行中',\n          value: 1,\n        },\n        {\n          label: '已过期',\n          value: 2,\n        },\n        {\n          label: '已终止',\n          value: 3\n        }\n      ],\n      percentMin: '',\n      percentMax: '',\n      percentLabel: '全部',\n      customPercent: {\n        isCustom: true,\n        max: '',\n        min: '',\n      },\n      percentOptions: [\n        {\n          command: {\n            max: 1,\n            min: 0\n          },\n          label: '全部'\n        },\n        {\n          command: {\n            max: 1,\n            min: 0.8\n          },\n          label: '80%-100%'\n        },\n        {\n          command: {\n            max: 0.8,\n            min: 0.6\n          },\n          label: '60%-80%'\n        },\n        {\n           command: {\n            max: 0.6,\n            min: 0.4\n          },\n          label: '40%-60%'\n        },\n        {\n           command: {\n            max: 0.4,\n            min: 0.2\n          },\n          label: '20%-40%'\n        },\n        {\n           command: {\n            max: 0.2,\n            min: 0\n          },\n          label: '0%-20%'\n        }\n      ],\n      isLoadingData: false\n    };\n  },\n  components: {\n    SubTitle\n  },\n  watch: {\n    cycleNum() {\n      this.fetchPlanList();\n    },\n    tariningStatus() {\n      this.fetchPlanList();\n    },\n    percentMin() {\n      this.fetchPlanList();\n    }\n  },\n  methods: {\n    handleSizeChange(val) {\n      this.currentSize = val;\n      this.fetchPlanList();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.fetchPlanList();\n    },\n    handleClick(item, vm) {\n      if (item) {\n        this.percentLabel = item.label;\n        this.percentMin = item.command.min;\n        this.percentMax = item.command.max;\n        this.customPercent.min = '';\n        this.customPercent.max = '';\n      }\n    },\n    custom() {\n      if (!this.customPercent.min || !this.customPercent.max) {\n        this.$notify.error('输入不能为空');\n        return;\n      }\n      if (isNaN(Number(this.customPercent.min)) || isNaN(Number(this.customPercent.max)) || !/^\\d+$/.test(this.customPercent.max) ||  !/^\\d+$/.test(this.customPercent.min)) {\n        this.$notify.error('请输入整数');\n        return;\n      }\n      if (this.customPercent.min >= this.customPercent.max) {\n        this.$notify.error('起始百分比应小于结束百分比');\n        this.customPercent.min = '';\n        this.customPercent.max = '';\n        return;\n      }\n      this.percentLabel = `${parseInt(this.customPercent.min)}%-${parseInt(this.customPercent.max)}%`;\n      this.percentMin = parseInt(this.customPercent.min) / 100;\n      this.percentMax = parseInt(this.customPercent.max) / 100;\n    },\n    jumpTo(row) {\n      this.$router.push({path: `/user/userPlanDetail?userTrainId=${row.id}&userId=${row.userId}&nickname=${row.userInfo.nickname}&mobile=${row.userInfo.mobile}`})\n    },\n    createParams() {\n      let params = {};\n      if(this.userId || this.userName || this.userPhone) {\n        params.page = 1;\n      } else {\n        params.page = this.currentPage;\n      }\n      params.size = this.currentSize;\n      if (this.userId) {\n        params.userId = this.userId;\n      }\n      if (this.userName) {\n        params.nickName = this.userName;\n      }\n      if (this.userPhone) {\n        params.phone = this.userPhone;\n      }\n      if (this.percentMin || this.percentMax) {\n        params.percentMin = this.percentMin;\n        params.percentMax = this.percentMax;\n      }\n      if (this.cycleNum != 'all') {\n        params.cycleId = this.cycleNum;\n      }\n      params.trainStatus = this.tariningStatus;\n      return params;\n    },\n    mapPagination(res) {\n      if (!res) {\n        this.currentPage = 1;\n        this.currentSize = 10;\n        this.curTotal = 0;\n        return;\n      }\n      this.currentPage = res.pageNum < 1 ? 1 : res.pageNum;\n      this.currentSize = res.pageSize;\n      this.curTotal = res.total;\n    },\n    fetchPlanList() {\n      this.isLoadingData = true;\n      getUserPlanList(this.createParams()).then( (res) => {\n        this.userPlans = res.data ? res.data.data.list : [];\n        this.mapPagination(res.data.data);\n        this.isLoadingData = false;\n      }).catch( () => {\n        this.isLoadingData = false;\n      })\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    next( vm => {\n      vm.$nextTick( () => {\n        vm.fetchPlanList();\n      });\n    })\n  },\n  mounted() {\n    this.$nextTick( () => {\n      this.fetchPlanList();\n    })\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~assets/style/utils';\n\n.userPlanPage {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 20px;\n}\n\n.selectors {\n  @include flexbox;\n  .selector_item {\n    @include flexbox;\n    @include align-items(center);\n    margin: {\n      right: 20px;\n    }\n    .selector_item_title {\n      width: 40px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/user/userPlan/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userPlanPage\"},[_c('sub-title',{attrs:{\"title\":\"用户训练计划\"}}),_vm._v(\" \"),_c('div',{staticClass:\"selectors\",staticStyle:{\"margin-top\":\"20px\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"搜索用户昵称\"},model:{value:(_vm.userName),callback:function ($$v) {_vm.userName=$$v},expression:\"userName\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"搜索用户手机号\"},model:{value:(_vm.userPhone),callback:function ($$v) {_vm.userPhone=$$v},expression:\"userPhone\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"搜索用户ID\"},model:{value:(_vm.userId),callback:function ($$v) {_vm.userId=$$v},expression:\"userId\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.fetchPlanList}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"selectors\",staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"selector_item\"},[_c('div',{staticClass:\"selector_item_title\"},[_vm._v(\"周数\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.cycleNum),callback:function ($$v) {_vm.cycleNum=$$v},expression:\"cycleNum\"}},_vm._l((_vm.cycleOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"selector_item\"},[_c('div',{staticClass:\"selector_item_title\"},[_vm._v(\"状态\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.tariningStatus),callback:function ($$v) {_vm.tariningStatus=$$v},expression:\"tariningStatus\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"selector_item\"},[_c('div',{staticClass:\"selector_item_title\"},[_vm._v(\"完成\")]),_vm._v(\" \"),_c('el-dropdown',{attrs:{\"split-button\":\"\",\"trigger\":\"click\",\"hide-on-click\":false},on:{\"command\":_vm.handleClick}},[_vm._v(\"\\n        \"+_vm._s(_vm.percentLabel)+\"\\n        \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_vm._l((_vm.percentOptions),function(item,index){return _c('el-dropdown-item',{key:index,attrs:{\"command\":item}},[_vm._v(_vm._s(item.label))])}),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":false}},[_c('div',[_vm._v(\"自定义\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"110px\"},model:{value:(_vm.customPercent.min),callback:function ($$v) {_vm.$set(_vm.customPercent, \"min\", $$v)},expression:\"customPercent.min\"}},[_c('template',{slot:\"append\"},[_vm._v(\"%\")])],2),_vm._v(\"\\n            至\\n            \"),_c('el-input',{staticStyle:{\"width\":\"110px\"},model:{value:(_vm.customPercent.max),callback:function ($$v) {_vm.$set(_vm.customPercent, \"max\", $$v)},expression:\"customPercent.max\"}},[_c('template',{slot:\"append\"},[_vm._v(\"%\")])],2),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.custom($event)}}},[_vm._v(\"确认\")])],1)],2)],1)],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingData),expression:\"isLoadingData\"},{name:\"permission\",rawName:\"v-permission\",value:('94524f86-56a4-4575-9b54-66bb6b1e2e0c'),expression:\"'94524f86-56a4-4575-9b54-66bb6b1e2e0c'\"}],staticClass:\"tableBox\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userPlans}},[_c('el-table-column',{attrs:{\"label\":\"时间\",\"prop\":\"createTime\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm.moment(scope.row.createTime).format('YYYY-MM-DD HH:mm:ss'))+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"用户ID\",\"prop\":\"userId\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"用户昵称\",\"prop\":\"userInfo.nickname\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"性别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.userInfo.sex == 1 ? '男' : '女')+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"手机\",\"prop\":\"userInfo.mobile\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"训练计划名称\",\"prop\":\"planName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"周数\",\"prop\":\"cityName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"prop\":\"trainStatus\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n             \"+_vm._s(scope.row.trainStatus == 1 ? '进行中': scope.row.trainStatus == 2 ? '已过期':scope.row.trainStatus == 3 ? '已终止':'未开始')+\"\\n           \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"完成\",\"prop\":\"completePercent\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n             \"+_vm._s(parseFloat(scope.row.completePercent) * 100 + '%')+\"\\n           \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('8d81f81c-e072-4708-9cc4-9be155448d46'),expression:\"'8d81f81c-e072-4708-9cc4-9be155448d46'\"}],attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.jumpTo(scope.row)}}},[_vm._v(\"查看\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":10,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.curTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-42ba6172\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/user/userPlan/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-42ba6172\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-42ba6172\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-42ba6172\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user/userPlan/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}